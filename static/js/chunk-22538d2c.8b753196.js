(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22538d2c"],{d0ce:function(a,t,e){"use strict";e("f313")},f313:function(a,t,e){},ffcc:function(a,t,e){"use strict";e.r(t);var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{ref:"screenshotBody",staticClass:"full-HW van-popup-bg"},[e("switch-and-statistics",{attrs:{selectMode:1,nowName:a.nowName,info:a.info,showZl:!a.isJump},on:{openSelect:a.openSelect,changeTime:a.changeTime}}),e("select-popup",{ref:"selectPopup",attrs:{selectMode:1,nowData:a.nowData},on:{changeOrganizationChoose:a.changeChoose}}),e("div",{directives:[{name:"show",rawName:"v-show",value:!a.isJump,expression:"!isJump"}],staticClass:"detail-body mt-2"},[e("div",{directives:[{name:"show",rawName:"v-show",value:a.departmentList.length>0,expression:"departmentList.length > 0"}],staticClass:"white-block pb-3 mb-4"},[a._m(0),a._l(a.departmentList,(function(t,s){return e("detail-card",{key:"departmentList"+s,attrs:{data:t,name:t.name},nativeOn:{click:function(e){return a.toDepartment(t)}}})}))],2),e("div",{directives:[{name:"show",rawName:"v-show",value:a.yyList.length>0,expression:"yyList.length > 0"}],staticClass:"white-block pb-3 mb-2"},[a._m(1),a._l(a.yyList,(function(a,t){return e("detail-card",{key:"yyList"+t,attrs:{data:a,name:a.name}})}))],2),e("div",{directives:[{name:"show",rawName:"v-show",value:a.othersList.length>0,expression:"othersList.length > 0"}],staticClass:"white-block pb-3"},[e("div",{directives:[{name:"show",rawName:"v-show",value:a.othersList.length>0,expression:"othersList.length > 0"}],staticClass:"pl-2 pt-3 d-flex align-center"},[e("div",{staticClass:"background-color-main-2 mr-2 title-icon"}),e("span",{staticClass:"font-15 fontWeight"},[a._v("其他经营单元（可下钻）")])]),a._l(a.othersList,(function(t,s){return e("detail-card",{key:"othersList"+s,attrs:{data:t,name:t.name,per:t.data8},nativeOn:{click:function(e){return a.toDetail(t)}}})}))],2),e("div",{directives:[{name:"show",rawName:"v-show",value:0==a.othersList.length&&0==a.yyList.length&&0==a.departmentList.length,expression:"othersList.length == 0 && yyList.length == 0 && departmentList.length == 0"}],staticClass:"white-block pb-3"},[e("app-empty",{staticClass:"py-7",attrs:{description:"暂无数据"}})],1),e("screenshot")],1),e("div",{directives:[{name:"show",rawName:"v-show",value:a.isJump,expression:"isJump"}],staticClass:"detail-body mt-2 detail-body2"},[e("div",{staticClass:"white-block pb-3 mb-4"},[a._l(a.dataList,(function(t,s){return e("detail-card",{key:s,attrs:{data:t,name:t.name,per:t.data8},nativeOn:{click:function(e){return a.toDetail(t)}}})})),e("app-empty",{directives:[{name:"show",rawName:"v-show",value:0==a.dataList.length,expression:"dataList.length == 0"}],staticClass:"py-7",attrs:{description:"暂无数据"}})],2),e("screenshot")],1)],1)},i=[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"pl-2 pt-3 d-flex align-center"},[e("div",{staticClass:"background-color-main-2 mr-2 title-icon"}),e("span",{staticClass:"font-15 fontWeight"},[a._v("销售中心（可下钻）")])])},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"pl-2 pt-3 d-flex align-center"},[e("div",{staticClass:"background-color-main-2 mr-2 title-icon"}),e("span",{staticClass:"font-15 fontWeight"},[a._v("英特药业（不可下钻）")])])}],n=e("1da1"),o=e("d4ec"),r=e("bee2"),d=e("262e"),h=e("2caf"),l=(e("96cf"),e("b0c0"),e("d3b7"),e("25f0"),e("159b"),e("4e82"),e("e9c4"),e("0eb6"),e("b7ef"),e("8bd4"),e("9ab4")),m=e("1b40"),c=e("020e"),u=e("8b7c"),p=e("d926"),y=function(a){Object(d["a"])(e,a);var t=Object(h["a"])(e);function e(){var a;return Object(o["a"])(this,e),a=t.apply(this,arguments),a.departmentList=[],a.yyList=[],a.othersList=[],a.dataList=[],a.isJump=!1,a.textList=["点击查看客户丨品种维度详情"],a.oldParams={},a}return Object(r["a"])(e,[{key:"changeChoose",value:function(a){this.nowName=a.data.name,this.nowData=a.data.id.toString(),this.isJump=a.isJump,this.initData()}},{key:"changeTime",value:function(){this.initData()}},{key:"initData",value:function(){var a=this;this._dataCenterHome().then((function(){a._querySubDeptSales()}))}},{key:"_querySubDeptSales",value:function(){var a=Object(n["a"])(regeneratorRuntime.mark((function a(){var t,e,s=this;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t={deptId:this.nowData,date:Object(p["c"])(this.nowTime)},this.isJump?this.dataList=[]:(this.departmentList=[],this.yyList=[],this.othersList=[]),a.next=4,Object(u["E"])(t);case 4:e=a.sent,200==e.code&&e.data&&(this.isJump?e.data.deptData&&(e.data.deptData.forEach((function(a){s.dataList.push({id:a.deptId,name:a.deptName,data1:a.dataHomeVO.dailySales?a.dataHomeVO.dailySales:0,data2:a.dataHomeVO.monthSales?a.dataHomeVO.monthSales:0,data3:a.dataHomeVO.monthGrowthRate?a.dataHomeVO.monthGrowthRate:0,data4:a.dataHomeVO.lastMonthSales?a.dataHomeVO.lastMonthSales:0,data5:a.dataHomeVO.yearSales?a.dataHomeVO.yearSales:0,data6:a.dataHomeVO.yearGrowthRate?a.dataHomeVO.yearGrowthRate:0,data7:a.dataHomeVO.lastYearSales?a.dataHomeVO.lastYearSales:0,data8:a.progress?a.progress:0,data9:a.dataHomeVO.tzYearGrowthRate?a.dataHomeVO.tzYearGrowthRate:0,isChild:!!a.sonDeptNum})})),this.dataList=this.dataList.sort((function(a,t){return a.data3-t.data3}))):(e.data.deptData&&(e.data.deptData.forEach((function(a){s.departmentList.push({id:a.deptId,name:a.deptName,data1:a.dataHomeVO.dailySales?a.dataHomeVO.dailySales:0,data2:a.dataHomeVO.monthSales?a.dataHomeVO.monthSales:0,data3:a.dataHomeVO.monthGrowthRate?a.dataHomeVO.monthGrowthRate:0,data4:a.dataHomeVO.lastMonthSales?a.dataHomeVO.lastMonthSales:0,data5:a.dataHomeVO.yearSales?a.dataHomeVO.yearSales:0,data6:a.dataHomeVO.yearGrowthRate?a.dataHomeVO.yearGrowthRate:0,data7:a.dataHomeVO.lastYearSales?a.dataHomeVO.lastYearSales:0,data8:a.progress?a.progress:0})})),this.departmentList=this.departmentList.sort((function(a,t){return a.data3-t.data3}))),e.data.ytyyData&&e.data.ytyyData.forEach((function(a){"市场拓展与供应链部"!=a.deptName&&s.yyList.push({id:a.deptId,name:a.deptName,data1:a.dataHomeVO.dailySales?a.dataHomeVO.dailySales:0,data2:a.dataHomeVO.monthSales?a.dataHomeVO.monthSales:0,data3:a.dataHomeVO.monthGrowthRate?a.dataHomeVO.monthGrowthRate:0,data4:a.dataHomeVO.lastMonthSales?a.dataHomeVO.lastMonthSales:0,data5:a.dataHomeVO.yearSales?a.dataHomeVO.yearSales:0,data6:a.dataHomeVO.yearGrowthRate?a.dataHomeVO.yearGrowthRate:0,data7:a.dataHomeVO.lastYearSales?a.dataHomeVO.lastYearSales:0})})),e.data.otherDeptData&&(e.data.otherDeptData.forEach((function(a){s.othersList.push({id:a.deptId,name:a.deptName,data1:a.dataHomeVO.dailySales?a.dataHomeVO.dailySales:0,data2:a.dataHomeVO.monthSales?a.dataHomeVO.monthSales:0,data3:a.dataHomeVO.monthGrowthRate?a.dataHomeVO.monthGrowthRate:0,data4:a.dataHomeVO.lastMonthSales?a.dataHomeVO.lastMonthSales:0,data5:a.dataHomeVO.yearSales?a.dataHomeVO.yearSales:0,data6:a.dataHomeVO.yearGrowthRate?a.dataHomeVO.yearGrowthRate:0,data7:a.dataHomeVO.lastYearSales?a.dataHomeVO.lastYearSales:0,data8:a.progress?a.progress:0})})),this.othersList=this.othersList.sort((function(a,t){return a.data3-t.data3})))));case 6:case"end":return a.stop()}}),a,this)})));function t(){return a.apply(this,arguments)}return t}()},{key:"_dataCenterHome",value:function(){var a=Object(n["a"])(regeneratorRuntime.mark((function a(){var t,e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t={deptId:this.nowData,date:Object(p["c"])(this.nowTime),type:1},a.next=3,Object(u["b"])(t);case 3:e=a.sent,200==e.code&&e.data?(this.info.data1=e.data.dailySales?e.data.dailySales:0,this.info.data2=e.data.unStrategySales?e.data.unStrategySales:0,this.info.data3=e.data.monthSales?e.data.monthSales:0,this.info.data4=e.data.lastMonthSales?e.data.lastMonthSales:0,this.info.data5=e.data.monthGrowthRate?e.data.monthGrowthRate:0,this.info.data6=e.data.yearSales?e.data.yearSales:0,this.info.data7=e.data.lastYearSales?e.data.lastYearSales:0,this.info.data8=e.data.yearGrowthRate?e.data.yearGrowthRate:0):(this.info.data1=0,this.info.data2=0,this.info.data3=0,this.info.data4=0,this.info.data5=0,this.info.data6=0,this.info.data7=0,this.info.data8=0);case 5:case"end":return a.stop()}}),a,this)})));function t(){return a.apply(this,arguments)}return t}()},{key:"toDepartment",value:function(a){this.$crmUserClick({catalogType:1,catalogTypeName:"CDP",cucrId:"",menuId:a.id,menuName:a.name,menuOperation:a.name+"下钻点击",operationType:4}),this.isJump=!0,this.oldParams={name:JSON.parse(JSON.stringify(this.nowName)),data:JSON.parse(JSON.stringify(this.nowData))},this.nowName=a.name,this.nowData=a.id.toString(),this.initData()}},{key:"backtoOrganization",value:function(){this.nowName=this.oldParams.name,this.nowData=this.oldParams.data,this.isJump=!1,this.oldParams={},this.initData()}},{key:"toDimension",value:function(){var a={name:this.nowName,id:this.nowData.toString(),time:this.nowTime,selectMode:7};a=JSON.stringify(a),a=window.btoa(encodeURI(a)),this.$router.push({name:"dimensionList",query:a})}},{key:"toDetail",value:function(a){this.$crmUserClick({catalogType:1,catalogTypeName:"CDP",cucrId:"",menuId:a.id,menuName:a.name,menuOperation:a.name+"下钻点击",operationType:4});var t={name:a.name,id:a.id,isChild:a.isChild};this.$router.push({name:"departmentList",query:t})}},{key:"activated",value:function(){this.closeSelect();var a=this.$route.meta;return this.$route.query.id&&a.isFresh?(this.nowName=this.$route.query.name,this.nowData=this.$route.query.id.toString(),this.isJump=this.$route.query.isJump,void this.initData()):a.isFresh?(this.nowData=null,void this.openSelect()):void(this.nowName&&this.initData())}}]),e}(Object(m["b"])(c["a"]));y=Object(l["a"])([Object(m["a"])({components:{},beforeRouteLeave:function(a,t,e){t.meta.isFresh=!1,this.closeSelect(),"cdpHome"==a.name&&this.oldParams.data?(this.backtoOrganization(),e(!1)):e()}})],y);var f=y,w=f,O=(e("d0ce"),e("2877")),v=Object(O["a"])(w,s,i,!1,null,"09cc2cfc",null);t["default"]=v.exports}}]);