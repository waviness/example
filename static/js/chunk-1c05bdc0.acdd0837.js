(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c05bdc0"],{8870:function(t,e,a){},baac:function(t,e,a){"use strict";a("8870")},d043:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=this,a=e.$createElement,n=e._self._c||a;return n("div",{staticClass:"pb-100"},[n("div",{staticClass:"font-14 inner-block"},[e._v("客户人员信息维护"+e._s(1===+e.type?"新增":2===+e.type?"编辑":"详情"))]),n("div",{staticClass:"font-14 mt-4 mb-2 customer-title"},[e._v("基础信息")]),1===+e.type||2===+e.type?n("div",{},[n("van-form",{attrs:{"validate-first":""},on:{failed:e.onFailed}},[n("van-field",{attrs:{clearable:"",disabled:!!e.formData.creId&&String(e.formData.creId)!==e.nowUser,required:"",name:"validator",label:"人员姓名","input-align":"right",placeholder:"请输入人员姓名",rules:[{validator:e.validator,message:""}]},model:{value:e.formData.userName,callback:function(t){e.$set(e.formData,"userName",t)},expression:"formData.userName"}}),n("van-field",{attrs:{clearable:"",disabled:!!e.formData.creId&&String(e.formData.creId)!==e.nowUser,required:"",name:"validator",label:"手机号","input-align":"right",placeholder:"请输入手机号",rules:[{validator:e.validator,message:""}]},on:{input:e._queryCrmUser},model:{value:e.formData.phoneNum,callback:function(t){e.$set(e.formData,"phoneNum",t)},expression:"formData.phoneNum"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.phoneLoading||e.userList.length,expression:"phoneLoading || userList.length"}],staticClass:"user-list"},[e.phoneLoading?n("van-loading",{attrs:{type:"spinner",color:"#1989fa"}}):e.userList.length?n("div",{staticClass:"user-info",on:{click:function(t){return e.chooseUser(e.userList[0])}}},[n("div",{staticClass:"user-info__name"},[e._v(" "+e._s(e.userList[0].userId+"/"+e.userList[0].userName)+" ")]),n("div",{staticClass:"user-info__code"},[e._v("手机号："+e._s(e.userList[0].phoneNum))]),n("div",{staticClass:"user-info__code"},[e._v("微信号："+e._s(e.userList[0].wxCode))])]):e._e()],1),n("van-field",{attrs:{clearable:"",disabled:!!e.formData.creId&&String(e.formData.creId)!==e.nowUser,required:"",name:"validator",label:"微信号","input-align":"right",placeholder:"请输入人员微信号",rules:[{validator:e.validator,message:""}]},model:{value:e.formData.wxCode,callback:function(t){e.$set(e.formData,"wxCode",t)},expression:"formData.wxCode"}}),n("van-field",{attrs:{readonly:"",clickable:"",value:e.formData.depart?e.formData.depart.name:"",required:"",label:"部门信息","input-align":"right",placeholder:"点击选择",rules:[{validator:e.validator,message:"请选择部门信息"}]},on:{click:function(t){return e.chooseFilter(5)}}}),n("van-field",{attrs:{readonly:"",clickable:"",value:e.formData.position?e.formData.position.name:"",required:"",label:"职位信息","input-align":"right",placeholder:"点击选择",rules:[{validator:e.validator,message:"请选择职位信息"}]},on:{click:function(t){return e.chooseFilter(6)}}}),n("van-field",{attrs:{readonly:"",clickable:"",value:e.formData.statusObj?e.formData.statusObj.name:"",required:"",label:"状态","input-align":"right",placeholder:"点击选择",rules:[{validator:e.validator,message:"请选择人员状态"}]},on:{click:function(t){return e.chooseFilter(7)}}}),n("van-field",{attrs:{readonly:"",clickable:"",value:e.formData.medicalMemberObj?e.formData.medicalMemberObj.name:"",label:"药事会成员","input-align":"right",placeholder:"点击选择",rules:[{validator:e.validator,message:"请选择是否药事会成员"}]},on:{click:function(t){return e.chooseFilter(11)}}}),n("van-field",{attrs:{readonly:"",clickable:"",value:e.formData.warmth?e.formData.warmth.name:"",required:"",label:"热力值","input-align":"right",placeholder:"点击选择"},on:{click:function(t){return e.chooseFilter(8)}}}),n("div",{staticClass:"font-14 mt-4 mb-2 customer-title"},[e._v("拓展信息")]),n("van-field",{attrs:{clearable:"",label:"身份证号","input-align":"right",placeholder:"请输入人员身份证号"},model:{value:e.formData.idCard,callback:function(t){e.$set(e.formData,"idCard",t)},expression:"formData.idCard"}}),n("van-field",{attrs:{readonly:"",clickable:"",value:e.formData.birthday,label:"生日","input-align":"right",placeholder:"点击选择"},on:{click:function(t){return e.chooseFilter(9)}}}),n("van-field",{attrs:{readonly:"",clickable:"",value:e.formData.education?e.formData.education.name:"",label:"学历","input-align":"right",placeholder:"点击选择"},on:{click:function(t){return e.chooseFilter(2)}}}),n("van-field",{attrs:{readonly:"",clickable:"",value:e.formData.political?e.formData.political.name:"",label:"政治面貌","input-align":"right",placeholder:"点击选择"},on:{click:function(t){return e.chooseFilter(3)}}}),n("van-field",{attrs:{readonly:"",clickable:"",value:e.formData.politicsBirthday,label:"政治生日","input-align":"right",placeholder:"点击选择"},on:{click:function(t){return e.chooseFilter(10)}}}),n("van-field",{attrs:{clearable:"",label:"收入","input-align":"right",placeholder:"请输入人员收入"},model:{value:e.formData.salary,callback:function(t){e.$set(e.formData,"salary",t)},expression:"formData.salary"}}),n("van-field",{attrs:{readonly:"",clickable:"",value:e.hobbyDetail,label:"爱好","input-align":"right",placeholder:"点击选择"},on:{click:function(t){return e.chooseFilter(4)}}}),n("van-field",{attrs:{readonly:"",clickable:"",value:e.formData.marital?e.formData.marital.name:"",label:"婚姻状况","input-align":"right",placeholder:"点击选择"},on:{click:function(t){return e.chooseFilter(1)}}}),n("van-field",{attrs:{clearable:"",rows:"2",autosize:"",type:"textarea",label:"家庭情况","input-align":"right",placeholder:"请输入人员家庭情况"},model:{value:e.formData.familyStatus,callback:function(t){e.$set(e.formData,"familyStatus",t)},expression:"formData.familyStatus"}}),n("van-field",{attrs:{clearable:"",rows:"2",autosize:"",type:"textarea",label:"地址","input-align":"right",placeholder:"请输入地址"},model:{value:e.formData.address,callback:function(t){e.$set(e.formData,"address",t)},expression:"formData.address"}}),n("van-field",{attrs:{clearable:"",rows:"2",autosize:"",type:"textarea",label:"备注","input-align":"right",placeholder:"请输入人员备注"},model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark",t)},expression:"formData.remark"}})],1)],1):[n("van-cell-group",{},[n("app-cell",{attrs:{title:"人员姓名",value:e.formData.userName}}),n("app-cell",{attrs:{title:"手机号",value:e.formData.phoneNum}}),n("app-cell",{attrs:{title:"微信号",value:e.formData.wxCode}}),n("app-cell",{attrs:{title:"部门信息",value:e.formData.depart?e.formData.depart.name:""}}),n("app-cell",{attrs:{title:"职位信息",value:e.formData.position?e.formData.position.name:""}}),n("app-cell",{attrs:{title:"状态",value:e.formData.statusObj?e.formData.statusObj.name:""}}),n("app-cell",{attrs:{title:"药事会成员",value:0===e.formData.medicalMember?"否":1===e.formData.medicalMember?"是":""}}),n("app-cell",{attrs:{title:"热力值",value:e.formData.warmth?e.formData.warmth.name:"","value-class":e.formData.warmth&&e.formData.warmth.value?1===e.formData.warmth.value?"color-normal":2===e.formData.warmth.value?"color-advanced":3===e.formData.warmth.value?"color-never":"color-gray-5":"color-gray-5"}})],1),n("div",{staticClass:"font-14 mt-4 mb-2 customer-title"},[e._v("拓展信息")]),n("van-cell-group",{},[n("app-cell",{attrs:{title:"身份证号",value:e.formData.idCard||""}}),n("app-cell",{attrs:{title:"生日",value:e.formData.birthday||""}}),n("app-cell",{attrs:{title:"学历",value:e.formData.education?e.formData.education.name:""}}),n("app-cell",{attrs:{title:"政治面貌",value:e.formData.political?e.formData.political.name:""}}),n("app-cell",{attrs:{title:"政治生日",value:e.formData.politicsBirthday||""}}),n("app-cell",{attrs:{title:"收入",value:e.formData.salary||""}}),n("app-cell",{attrs:{title:"爱好",value:e.hobbyDetail}}),n("app-cell",{attrs:{title:"婚姻状况",value:e.formData.marital?e.formData.marital.name:""}}),n("app-cell",{attrs:{title:"家庭情况",value:e.formData.familyStatus||""}}),n("app-cell",{attrs:{title:"地址",value:e.formData.address||""}}),n("app-cell",{attrs:{title:"备注",value:e.formData.remark||""}})],1)],n("div",{staticClass:"d-flex justify-center mx-4 mt-7"},[n("submit-btn",{staticClass:"mr-3",attrs:{title:"取消",type:"cancel"},on:{click:e.goBack}}),1===+e.type||2===+e.type?n("submit-btn",{attrs:{loading:e.submitLoading,title:"提交"},on:{click:e.submit}}):e.detailInfor.onlyRead?e._e():n("submit-btn",{attrs:{title:"编辑"},on:{click:function(){t.type=2}}})],1),1===e.actionType?n("van-action-sheet",{attrs:{actions:e.maritalOptions,"cancel-text":"取消","close-on-click-action":""},on:{select:e.onSelectMarital},model:{value:e.actionShow,callback:function(t){e.actionShow=t},expression:"actionShow"}}):e._e(),2===e.actionType?n("van-action-sheet",{attrs:{actions:e.educationOptions,"cancel-text":"取消","close-on-click-action":""},on:{select:e.onSelectEducation},model:{value:e.actionShow,callback:function(t){e.actionShow=t},expression:"actionShow"}}):e._e(),3===e.actionType?n("van-action-sheet",{attrs:{actions:e.politicalOptions,"cancel-text":"取消","close-on-click-action":""},on:{select:e.onSelectPolitical},model:{value:e.actionShow,callback:function(t){e.actionShow=t},expression:"actionShow"}}):e._e(),4===e.actionType?n("van-popup",{staticClass:"transfer",attrs:{"close-on-click-overlay":!1,round:""},model:{value:e.actionShow,callback:function(t){e.actionShow=t},expression:"actionShow"}},[n("div",{staticClass:"transfer-div"},[n("van-checkbox-group",{model:{value:e.hobbyResult,callback:function(t){e.hobbyResult=t},expression:"hobbyResult"}},e._l(e.hobbyOptions,(function(t,a){return n("van-cell",{key:t.value,attrs:{clickable:"",title:""+t.name},on:{click:function(t){return e.toggle(a)}},scopedSlots:e._u([{key:"right-icon",fn:function(){return[n("van-checkbox",{ref:"checkboxes",refInFor:!0,attrs:{name:t}})]},proxy:!0}],null,!0)})})),1),n("div",{staticClass:"transfer-opts"},[n("div",{staticClass:"transfer-btn",on:{click:function(t){e.actionShow=!1}}},[e._v("取消")]),n("div",{staticClass:"transfer-btn transfer-btn--blue",on:{click:e.onSelectHobby}},[e._v("确定")])])],1)]):e._e(),5===e.actionType?n("van-action-sheet",{attrs:{actions:e.departOptions,"cancel-text":"取消","close-on-click-action":""},on:{select:e.onSelectDepart},model:{value:e.actionShow,callback:function(t){e.actionShow=t},expression:"actionShow"}}):e._e(),6===e.actionType?n("van-action-sheet",{attrs:{actions:e.positionOptions,"cancel-text":"取消","close-on-click-action":""},on:{select:e.onSelectPosition},model:{value:e.actionShow,callback:function(t){e.actionShow=t},expression:"actionShow"}}):e._e(),7===e.actionType?n("van-action-sheet",{attrs:{actions:e.statusOptions,"cancel-text":"取消","close-on-click-action":""},on:{select:e.onSelectStatus},model:{value:e.actionShow,callback:function(t){e.actionShow=t},expression:"actionShow"}}):e._e(),8===e.actionType?n("van-action-sheet",{attrs:{actions:e.warmthNumOptions,"cancel-text":"取消","close-on-click-action":""},on:{select:e.onSelectWarmth},model:{value:e.actionShow,callback:function(t){e.actionShow=t},expression:"actionShow"}}):e._e(),9===e.actionType?n("van-popup",{staticClass:"transfer",attrs:{"close-on-click-overlay":!1,round:""},model:{value:e.actionShow,callback:function(t){e.actionShow=t},expression:"actionShow"}},[n("div",{staticClass:"transfer-div"},[n("van-datetime-picker",{attrs:{"show-toolbar":!1,type:"date",title:"选择年月日"},model:{value:e.birthday,callback:function(t){e.birthday=t},expression:"birthday"}}),n("div",{staticClass:"transfer-opts"},[n("div",{staticClass:"transfer-btn",on:{click:function(t){e.actionShow=!1}}},[e._v("取消")]),n("div",{staticClass:"transfer-btn transfer-btn--blue",on:{click:e.onSelectBirthday}},[e._v("确定")])])],1)]):e._e(),10===e.actionType?n("van-popup",{staticClass:"transfer",attrs:{"close-on-click-overlay":!1,round:""},model:{value:e.actionShow,callback:function(t){e.actionShow=t},expression:"actionShow"}},[n("div",{staticClass:"transfer-div"},[n("van-datetime-picker",{attrs:{"show-toolbar":!1,type:"date",title:"选择年月日"},model:{value:e.politicsBirthday,callback:function(t){e.politicsBirthday=t},expression:"politicsBirthday"}}),n("div",{staticClass:"transfer-opts"},[n("div",{staticClass:"transfer-btn",on:{click:function(t){e.actionShow=!1}}},[e._v("取消")]),n("div",{staticClass:"transfer-btn transfer-btn--blue",on:{click:e.onSelectPoliticsBirthday}},[e._v("确定")])])],1)]):e._e(),11===e.actionType?n("van-action-sheet",{attrs:{actions:e.medicalMemberOptions,"cancel-text":"取消","close-on-click-action":""},on:{select:e.onSelectMedicalMember},model:{value:e.actionShow,callback:function(t){e.actionShow=t},expression:"actionShow"}}):e._e()],2)},r=[],i=a("5530"),o=a("1da1"),s=a("d4ec"),l=a("bee2"),c=a("262e"),u=a("2caf"),m=(a("96cf"),a("a15b"),a("d81d"),a("b0c0"),a("7db0"),a("d3b7"),a("ac1f"),a("5319"),a("1276"),a("00b4"),a("9ab4")),d=a("1b40"),h=a("4bb5"),p=a("d926"),f=a("f727"),v=a("74d2"),b=Object(h["a"])("app"),D=function(t){Object(c["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.type=t.$route.params.type,t.customerInfo=t.$route.params.customerInfo,t.cupId=t.$route.params.cupId,t.nowUser="",t.userList=[],t.phoneLoading=!1,t.submitLoading=!1,t.birthday=new Date,t.politicsBirthday=new Date,t.actionShow=!1,t.actionType=0,t.maritalOptions=[{value:0,name:"未婚"},{value:1,name:"已婚"}],t.educationOptions=[{value:1,name:"本科"},{value:2,name:"专科"},{value:3,name:"中专"},{value:4,name:"博士"},{value:5,name:"硕士"},{value:6,name:"高中及以下"}],t.politicalOptions=[{value:0,name:"群众"},{value:1,name:"党员"},{value:2,name:"团员"},{value:3,name:"少数党"}],t.statusOptions=[{value:0,name:"正式"},{value:2,name:"退休/离职"}],t.medicalMemberOptions=[{value:1,name:"是"},{value:0,name:"否"}],t.statusFullOptions=[{value:0,name:"正式"},{value:2,name:"退休/离职"},{value:3,name:"转职"},{value:4,name:"由转职来"}],t.warmthNumOptions=[{value:1,name:"一般客情"},{value:2,name:"需要进阶的客情"},{value:3,name:"从未接触的客情"}],t.hobbyOptions=[],t.hobbyResult=[],t.departOptions=[],t.positionOptions=[],t.formData={cueId:"",marital:{},education:{},political:{},statusObj:{},medicalMemberObj:{},position:{},depart:{},warmth:{},userName:"",birthday:"",politicsBirthday:"",phoneNum:"",wxCode:"",idCard:"",familyStatus:"",address:"",remark:"",salary:""},t.timeout=null,t}return Object(l["a"])(a,[{key:"hobbyDetail",get:function(){return this.hobbyResult.length?this.hobbyResult.map((function(t){return t.name})).join(","):""}},{key:"getHobbyFun",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={keyword:"",pageNum:1,pageSize:1e4,usestatus:1,typeId:11},t.next=3,Object(f["d"])(e);case 3:a=t.sent,a.success&&(this.hobbyOptions=a.data.list.map((function(t){var e=t.DIC_SELECT_ID,a=t.DIC_SELECT_NAME;return{value:e,name:a}})));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"_queryDept",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={dicUpperSelectId:this.customerInfo.orgRoleId,keyword:"",pageNum:1,pageSize:1e4,typeId:3,upperTypeId:2,usestatus:1,typeSecondId:1},t.next=3,Object(f["d"])(e);case 3:a=t.sent,a.success&&(this.departOptions=a.data.list.map((function(t){var e=t.DIC_SELECT_ID,a=t.DIC_SELECT_NAME;return{value:e,name:a}})),this.formData.depart=this.formData.departmentId?{value:this.formData.departmentId,name:this.departOptions.find((function(t){return t.value===+n.formData.departmentId})).name}:{});case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getPostionFun",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a,n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={dicUpperSelectId:e,keyword:"",pageNum:1,pageSize:1e4,typeId:4,upperTypeId:3,usestatus:1,typeSecondId:1},t.next=3,Object(f["d"])(a);case 3:n=t.sent,n.success&&(this.positionOptions=n.data.list.map((function(t){var e=t.DIC_SELECT_ID,a=t.DIC_SELECT_NAME;return{value:e,name:a}})),this.formData.positionId&&(this.formData.position={value:this.formData.positionId,name:this.positionOptions.find((function(t){return t.value===+r.formData.positionId})).name},this.$forceUpdate()));case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"_queryCrmUser",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=e.replace(/[^0-9-]+/,""),this.formData.phoneNum=e,clearTimeout(this.timeout),this.timeout=setTimeout(Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.phoneLoading=!0,t.next=3,Object(f["j"])({phoneNum:e});case 3:n=t.sent,a.phoneLoading=!1,a.userList=n.data;case 6:case"end":return t.stop()}}),t)}))),800);case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"chooseUser",value:function(t){var e=this;this.phoneLoading=!1,this.userList=[],this.formData.wxCode=t.wxCode,this.formData.userName=t.userName,this.formData.userId=t.userId,this.formData.creId=t.creId,t.userExpandDOS.length>0&&(this.formData.cueId=t.userExpandDOS[0].cueId,this.formData.idCard=t.userExpandDOS[0].idCard,this.formData.familyStatus=t.userExpandDOS[0].familyStatus,this.formData.salary=t.userExpandDOS[0].salary,this.formData.address=t.userExpandDOS[0].address,this.formData.marital=null!==t.userExpandDOS[0].maritalStatus?{value:t.userExpandDOS[0].maritalStatus,name:this.maritalOptions.find((function(t){return t.value===+t.userExpandDOS[0].maritalStatus})).name}:{},this.formData.education=t.userExpandDOS[0].education?{value:t.userExpandDOS[0].education,name:this.educationOptions.find((function(t){return t.value===+t.userExpandDOS[0].education})).name}:{},this.formData.warmth=t.userExpandDOS[0].warmthNum?{value:t.userExpandDOS[0].warmthNum,name:this.warmthNumOptions.find((function(t){return t.value===+t.userExpandDOS[0].warmthNum})).name}:{},this.hobbyResult=t.userExpandDOS[0].hobby?t.userExpandDOS[0].hobby.split(",").map((function(t){return e.hobbyOptions.find((function(e){return e.value===+t}))})):[])}},{key:"chooseFilter",value:function(t){this.actionShow=!0,this.actionType=t}},{key:"onSelectMarital",value:function(t){this.actionShow=!1,this.formData.marital=t,this.$forceUpdate()}},{key:"onSelectEducation",value:function(t){this.actionShow=!1,this.formData.education=t,this.$forceUpdate()}},{key:"onSelectPolitical",value:function(t){this.actionShow=!1,this.formData.political=t,this.$forceUpdate()}},{key:"toggle",value:function(t){var e=this.$refs.checkboxes;e[t].toggle()}},{key:"onSelectHobby",value:function(){this.actionShow=!1}},{key:"onSelectDepart",value:function(t){this.actionShow=!1,this.formData.depart=t,this.formData.position={},this.positionOptions=[],this.$forceUpdate(),this.getPostionFun(t.value)}},{key:"onSelectPosition",value:function(t){this.actionShow=!1,this.formData.position=t,this.$forceUpdate()}},{key:"onSelectStatus",value:function(t){this.actionShow=!1,this.formData.statusObj=t,this.$forceUpdate()}},{key:"onSelectMedicalMember",value:function(t){this.actionShow=!1,this.formData.medicalMemberObj=t,this.$forceUpdate()}},{key:"onSelectWarmth",value:function(t){this.actionShow=!1,this.formData.warmth=t,this.$forceUpdate()}},{key:"onSelectBirthday",value:function(){this.actionShow=!1,this.formData.birthday=Object(p["c"])(this.birthday),this.$forceUpdate()}},{key:"onSelectPoliticsBirthday",value:function(){this.actionShow=!1,this.formData.politicsBirthday=Object(p["c"])(this.politicsBirthday),this.$forceUpdate()}},{key:"validator",value:function(t){return/\S/.test(t)}},{key:"onFailed",value:function(t){}},{key:"submit",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=Object(i["a"])({},this.formData),e.userName){t.next=4;break}return this.$toast("人员姓名不能为空"),t.abrupt("return");case 4:if(e.phoneNum){t.next=7;break}return this.$toast("手机号不能为空"),t.abrupt("return");case 7:if(e.wxCode){t.next=10;break}return this.$toast("微信号不能为空"),t.abrupt("return");case 10:if(e.depart.name){t.next=13;break}return this.$toast("部门不能为空"),t.abrupt("return");case 13:if(e.position.name){t.next=16;break}return this.$toast("职位不能为空"),t.abrupt("return");case 16:if(e.statusObj.name){t.next=19;break}return this.$toast("状态不能为空"),t.abrupt("return");case 19:if(e.warmth.name){t.next=22;break}return this.$toast("热力值不能为空"),t.abrupt("return");case 22:if(e.custId=this.customerInfo.custId,e.maritalStatus=e.marital.value,e.education=e.education.value,e.politicalStatus=e.political.value,e.departmentId=e.depart.value,e.positionId=e.position.value,e.status=e.statusObj.value,e.medicalMember=e.medicalMemberObj.value,e.warmthNum=e.warmth.value,delete e.marital,delete e.political,delete e.depart,delete e.position,delete e.statusObj,delete e.medicalMemberObj,delete e.warmth,e.orgnizationRoleId=this.customerInfo.orgRoleId,e.hobby=this.hobbyResult.length?this.hobbyResult.map((function(t){return t.value})).join(","):"",e.phoneNum=e.phoneNum.replace(/\s+/g,""),this.submitLoading=!0,2!==+this.type){t.next=50;break}return t.next=45,Object(v["bb"])(e);case 45:a=t.sent,this.submitLoading=!1,a.success&&(this.$toast.success(a.msg||"修改成功"),setTimeout((function(){r.$router.back()}),500)),t.next=56;break;case 50:if(1!==+this.type){t.next=56;break}return t.next=53,Object(v["b"])(e);case 53:n=t.sent,this.submitLoading=!1,n.success&&(this.$toast.success(n.msg||"新增成功"),setTimeout((function(){r.goBack()}),2e3));case 56:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"goBack",value:function(){this.$router.back()}},{key:"getDetail",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(v["L"])({cupId:this.cupId});case 2:if(e=t.sent,!e.success){t.next=21;break}if(this.formData=e.data,this.formData.creId=e.data.userCreId,this.formData.marital=null!==this.formData.maritalStatus?{value:this.formData.maritalStatus,name:this.maritalOptions.find((function(t){return t.value===+a.formData.maritalStatus})).name}:{},this.formData.education=this.formData.education?{value:this.formData.education,name:this.educationOptions.find((function(t){return t.value===+a.formData.education})).name}:{},this.formData.political=this.formData.politicalStatus?{value:this.formData.politicalStatus,name:this.politicalOptions.find((function(t){return t.value===+a.formData.politicalStatus})).name}:{},this.hobbyResult=this.formData.hobby?this.formData.hobby.split(",").map((function(t){return a.hobbyOptions.find((function(e){return e.value===+t}))})):[],4===+this.formData.status?this.statusOptions=[{value:0,name:"正式"},{value:2,name:"退休/离职"},{value:4,name:"由转职来"}]:this.statusOptions=[{value:0,name:"正式"},{value:2,name:"退休/离职"}],this.formData.statusObj={value:this.formData.status,name:this.statusFullOptions.find((function(t){return t.value===+a.formData.status})).name},this.formData.medicalMemberObj=this.formData.medicalMember?{value:this.formData.medicalMember,name:this.medicalMemberOptions.find((function(t){return t.value===+a.formData.medicalMember})).name}:{},!this.formData.departmentId){t.next=18;break}return t.next=17,this._queryDept();case 17:this.getPostionFun(this.formData.departmentId);case 18:this.formData.warmth=this.formData.warmthNum?{value:this.formData.warmthNum,name:this.warmthNumOptions.find((function(t){return t.value===+a.formData.warmthNum})).name}:{},this.birthday=this.formData.birthday?new Date(this.formData.birthday):new Date,this.politicsBirthday=this.formData.politicsBirthday?new Date(this.formData.politicsBirthday):new Date;case 21:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"created",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.nowUser=localStorage.getItem("userId"),t.next=3,this.getHobbyFun();case 3:1!==+this.type?this.getDetail():this._queryDept();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),a}(d["d"]);Object(m["a"])([b.Getter],D.prototype,"detailInfor",void 0),D=Object(m["a"])([Object(d["a"])({})],D);var y=D,g=y,w=(a("baac"),a("2877")),k=Object(w["a"])(g,n,r,!1,null,"0b06a3d4",null);e["default"]=k.exports},d926:function(t,e,a){"use strict";a.d(e,"c",(function(){return m})),a.d(e,"d",(function(){return d})),a.d(e,"j",(function(){return h})),a.d(e,"i",(function(){return p})),a.d(e,"k",(function(){return f})),a.d(e,"b",(function(){return v})),a.d(e,"e",(function(){return b})),a.d(e,"g",(function(){return D})),a.d(e,"f",(function(){return y})),a.d(e,"a",(function(){return g})),a.d(e,"h",(function(){return w}));a("d3b7"),a("25f0"),a("ac1f"),a("1276");var n=a("5a0c"),r=a.n(n),i=new Date,o=i.getDay(),s=i.getDate(),l=i.getMonth(),c=i.getYear();c+=c<2e3?1900:0;var u=new Date;function m(t){var e=new Date(t),a=e.getFullYear(),n=(e.getMonth()+1).toString(),r=e.getDate().toString();return+n<10&&(n="0"+n),+r<10&&(r="0"+r),a+"-"+n+"-"+r}function d(t){var e=new Date(t),a=e.getFullYear(),n=(e.getMonth()+1).toString(),r=e.getDate().toString();return+n<10&&(n="0"+n),+r<10&&(r="0"+r),a+"/"+n+"/"+r}function h(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e){var a=new Date(e),n=a.getDay();n=0===n?7:n;var r=a.getDate(),i=a.getMonth(),u=a.getYear();u+=u<2e3?1900:0,t=new Date(u,i,r-(n-1))}else t=new Date(c,l,s-(o-1));return m(t)}function p(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e){var a=new Date(e),n=a.getDay();n=0===n?7:n;var r=a.getDate(),i=a.getMonth(),u=a.getYear();u+=u<2e3?1900:0,t=new Date(u,i,r+(6-(n-1)))}else t=new Date(c,l,s+(6-(o-1)));return m(t)}function f(t){return 0===r()(t).day()?r()(t).startOf("week").subtract(6,"day").format("YYYY-MM-DD"):r()(t).startOf("week").add(1,"day").format("YYYY-MM-DD")}function v(t){return 0===r()(t).day()?r()(t).endOf("week").subtract(6,"day").format("YYYY-MM-DD"):r()(t).endOf("week").add(1,"day").format("YYYY-MM-DD")}u.setDate(1),u.setMonth(u.getMonth()-1);var b=function(t,e){var a=[],n=t.split("-"),r=e.split("-"),i=new Date(n+" 08:00:00");i.setUTCFullYear(n[0],n[1]-1,n[2]);var o=new Date(r+" 08:00:00");o.setUTCFullYear(r[0],r[1]-1,r[2]);var s,l=i.getTime(),c=o.getTime(),u=864e5;for(s=l;s<=c;)a.push(m(new Date(parseInt(String(s))))),s+=u;return a},D=function(t,e){var a=new Date(t),n="";a.setDate(a.getDate()+e);var r=a.getFullYear(),i=a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1,o=a.getDate()<10?"0"+a.getDate():a.getDate();return n=r+"-"+i+"-"+o,n},y=function(t){var e,a,n,r,i=new Date(t+"-01-01"),o=i.getFullYear(),s={result0:[],result1:[],result2:[],result3:[],result4:[],result5:[],result6:[]};for(e=1;e<=12;e++){switch(e){case 1:case 3:case 5:case 7:case 8:case 10:case 12:r=31;break;case 4:case 6:case 9:case 11:r=30;break;case 2:r=o%4===0&&o%100!==0||o%400===0?29:28;break}for(a=1;a<=r;a++){i.setMonth(e-1,a),n=i.getDay();var l=i.getFullYear(),c=i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1,u=i.getDate()<10?"0"+i.getDate():i.getDate();s["result"+n].push(l+"-"+c+"-"+u)}}return s};function g(t){switch(t){case 0:return"日";case 1:return"一";case 2:return"二";case 3:return"三";case 4:return"四";case 5:return"五";case 6:return"六";default:break}}var w=function(t){var e=new Date,a=e.getFullYear(),n=e.getMonth()+1,r=e.getDate(),i=t.split("-"),o=0;if(n>parseInt(i[0])||n==parseInt(i[0])&&r>parseInt(i[1])){var s=new Date(a+1,parseInt(i[0])-1,parseInt(i[1])).toLocaleDateString(),l=Date.parse(s),c=Date.parse(e.toLocaleDateString());o=(l-c)/864e5}else{var u=new Date(a,parseInt(i[1])-1,parseInt(i[2])).toLocaleDateString(),m=Date.parse(u),d=Date.parse(e.toLocaleDateString());o=(m-d)/864e5}if(o<0){var h=a+1,p=h%4===0&&h%100!==0||h%400===0?366:365;o+=p}return o}}}]);