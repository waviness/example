(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-512efc5c"],{"437a":function(t,e,i){"use strict";var r=i("bee2"),a=i("d4ec"),o=i("262e"),s=i("2caf"),n=i("9ab4"),c=i("1b40"),l=i("4bb5"),d=Object(l["a"])("app"),f=Object(l["a"])("crm");c["a"].registerHooks(["beforeRouteEnter"]);var h=function(t){Object(o["a"])(i,t);var e=Object(s["a"])(i);function i(){var t;return Object(a["a"])(this,i),t=e.apply(this,arguments),t.filterShow=!1,t.filterActive=!1,t.tabType=0,t}return Object(r["a"])(i)}(c["d"]);Object(n["a"])([d.Getter],h.prototype,"userInfor",void 0),Object(n["a"])([f.Mutation],h.prototype,"SET_DETAILOBJ",void 0),Object(n["a"])([d.Mutation],h.prototype,"SET_QUERYPARAMA",void 0),Object(n["a"])([d.Mutation],h.prototype,"SET_HADDONEONDETAIL",void 0),Object(n["a"])([d.Getter],h.prototype,"hadDoneOnDetail",void 0),h=Object(n["a"])([Object(c["a"])({})],h),e["a"]=h},e1c7:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wxOrderQuery"},[i("van-sticky",[i("div",{staticClass:"pa-2 van-popup-bg"},[i("div",{class:["pa-10 common-filter",t.filterShow?"color-main-2":"",t.filterActive?"common-filter--active":""],on:{click:function(e){t.filterShow=!t.filterShow}}},[i("div",[t._v("条件筛选")]),i("van-icon",{attrs:{name:"arrow-"+(t.filterShow?"up":"down"),size:"16px"}})],1)])]),i("van-pull-refresh",{ref:"listWarp",attrs:{id:"filterContainer"},on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[i("van-list",{attrs:{offset:20,finished:t.finished,"finished-text":t.finishText},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[t.loading||t.dataList.length?t._e():i("app-empty",{staticClass:"pb-6 white-bg",attrs:{description:"暂无数据"}}),t._l(t.dataList,(function(e,r){return i("AppOrderList",{key:"orderList"+r,staticClass:"mx-2",attrs:{showType:!0,listItem:e},on:{orderClick:function(i){return t.orderClick(e)}}})}))],2),i("van-popup",{attrs:{position:"top","get-container":"#filterContainer"},model:{value:t.filterShow,callback:function(e){t.filterShow=e},expression:"filterShow"}},[i("filter-module",{attrs:{defaultDate:{startTime:t.filterObj.startTime,endTime:t.filterObj.endTime},showType:!0},on:{reset:t.resertClick,filterSubmit:t.filterSubmit}})],1)],1)],1)},a=[],o=i("5530"),s=i("d4ec"),n=i("bee2"),c=i("262e"),l=i("2caf"),d=(i("99af"),i("9ab4")),f=i("1b40"),h=i("53ae"),u=i("437a"),p=i("4724"),b=i("a403"),m=i("d13f"),O=function(t){Object(c["a"])(i,t);var e=Object(l["a"])(i);function i(){var t;return Object(s["a"])(this,i),t=e.apply(this,arguments),t.filterObj={orderType:"",orderTypeName:"",customerId:"",customName:"",startTime:"",endTime:"",codDocId:""},t}return Object(n["a"])(i,[{key:"resertClick",value:function(){this.filterActive=!1,this.filterObj={orderType:"",orderTypeName:"",customerId:"",customName:"",startTime:"",endTime:"",codDocId:""},this.onRefresh()}},{key:"filterSubmit",value:function(t){this.filterObj=Object(o["a"])({},t),this.filterObj.customerId||this.filterObj.customName||this.filterObj.startTime||this.filterObj.endTime||this.filterObj.customName||this.filterObj.orderType||this.filterObj.codDocId?this.filterActive=!0:this.filterActive=!1,this.filterShow=!1,this.onRefresh()}},{key:"onRefresh",value:function(){this.finished=!1,this.loading=!0,this.page=1,this.onLoad()}},{key:"onLoad",value:function(){this.refreshing&&(this.page=1,this.dataList=[],this.refreshing=!1),this._getOrderDoc()}},{key:"_getOrderDoc",value:function(){var t=this;1===this.page&&(this.dataList=[]),Object(b["k"])({orderType:this.filterObj.orderType,customId:this.filterObj.customerId,customName:this.filterObj.customName,entryId:"",codDocId:this.filterObj.codDocId,endtime:this.filterObj.endTime?this.filterObj.endTime+" 23:59:59":"",starttime:this.filterObj.startTime?this.filterObj.startTime+" 00:00:00":"",pageNum:this.page,pageSize:7}).then((function(e){t.dataList=t.dataList.concat(e.data.list),e.data.hasNextPage?t.page++:t.finished=!0,t.loading=!1}))}},{key:"orderClick",value:function(t){this.$router.push({name:6===t.orderType?"ReportDtlOrder":"twoPinDicOrder",query:{codDocId:t.codDocId}})}},{key:"mounted",value:function(){this.filterObj.startTime=this.$dayjs().subtract(10,"day").format("YYYY-MM-DD"),this.filterObj.endTime=this.$dayjs().format("YYYY-MM-DD"),this.filterActive=!0}}]),i}(Object(f["b"])(u["a"],h["a"]));O=Object(d["a"])([Object(f["a"])({components:{FilterModule:m["a"],AppOrderList:p["a"]}})],O);var j=O,v=j,y=i("2877"),T=Object(y["a"])(v,r,a,!1,null,"52d8833c",null);e["default"]=T.exports}}]);