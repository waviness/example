(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6176bb34"],{5165:function(t,e,r){},"5acd":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-flex align-center",on:{click:t.onClick}},[r("div",{staticClass:"color-gray-5 font-14"},[t._v(t._s(t.title))]),t.sortShow?r("app-icon",{staticClass:"font-12",attrs:{name:"#ytcrm-"+t.icons[t.sort]}}):t._e()],1)},a=[],i=r("d4ec"),c=r("bee2"),s=r("262e"),o=r("2caf"),u=(r("a9e3"),r("9ab4")),p=r("1b40"),d=function(t){Object(s["a"])(r,t);var e=Object(o["a"])(r);function r(){var t;return Object(i["a"])(this,r),t=e.apply(this,arguments),t.icons=["wupaixu","jiangxu","shengxu"],t}return Object(c["a"])(r,[{key:"onClick",value:function(){this.$emit("click")}}]),r}(p["d"]);Object(u["a"])([Object(p["c"])({type:String,default:""})],d.prototype,"title",void 0),Object(u["a"])([Object(p["c"])({type:Boolean,default:!1})],d.prototype,"sortShow",void 0),Object(u["a"])([Object(p["c"])({type:Number,default:0})],d.prototype,"sort",void 0),d=Object(u["a"])([Object(p["a"])({})],d);var h=d,l=h,f=r("2877"),g=Object(f["a"])(l,n,a,!1,null,"372557c2",null);e["a"]=g.exports},a8c3:function(t,e,r){"use strict";r.d(e,"p",(function(){return c})),r.d(e,"r",(function(){return s})),r.d(e,"v",(function(){return o})),r.d(e,"c",(function(){return u})),r.d(e,"b",(function(){return p})),r.d(e,"d",(function(){return d})),r.d(e,"e",(function(){return h})),r.d(e,"t",(function(){return l})),r.d(e,"u",(function(){return f})),r.d(e,"w",(function(){return g})),r.d(e,"s",(function(){return v})),r.d(e,"f",(function(){return b})),r.d(e,"g",(function(){return m})),r.d(e,"h",(function(){return j})),r.d(e,"a",(function(){return x})),r.d(e,"k",(function(){return w})),r.d(e,"i",(function(){return k})),r.d(e,"j",(function(){return O})),r.d(e,"o",(function(){return y})),r.d(e,"m",(function(){return I})),r.d(e,"n",(function(){return P})),r.d(e,"l",(function(){return R})),r.d(e,"q",(function(){return D}));var n=r("1da1"),a=(r("96cf"),r("b32d")),i=r("90ae"),c=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post(i["c"],"/api/projectManage/getLeaderLevel",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/projectManage/getDate",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/projectManage/queryDataDeptByType",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/projectManage/getAccessProjectDocNum",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/projectManage/getAccessProjectDoc",e,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/projectManage/getAccessProjectProduc",e,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/projectManage/getAccessProjectProductDtl",e,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/projectManage/getYaoShiHui",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/projectManage/getYaoShiHuiList",e,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post(i["c"],"/api/projectManage/updateStatus",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/projectManage/getProjectProductList",e,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/projectManage/getAccessProjectRankCenter",e,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/projectManage/getAccessProjectRankDept",e,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/projectManage/getAccessProjectRankSaler",e,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/projectManage/getAccessProductPolicy",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/projectManage/getDeepProjectDocNum",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),k=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/projectManage/getDeepProjectDoc",e,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/projectManage/getDeepProjectDocDept",e,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/projectManage/getDeepProjectSelect",e,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),I=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/projectManage/getDeepProjectRankCenter",e,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),P=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/projectManage/getDeepProjectRankDept",e,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),R=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/projectManage/getDeepProjectPolicy",e,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),D=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/projectManage/getProducts",e,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},dc32:function(t,e,r){"use strict";r("5165")},dfb4:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"pb-100"},[r("div",{staticClass:"pa-10 background-color-white"},[r("div",{directives:[{name:"show",rawName:"v-show",value:!t.projectText,expression:"!projectText"}],staticClass:"common-filter pa-10 align-center",on:{click:t.onProChangeShow}},[r("div",{staticClass:"font-14"},[t._v("项目/产品筛选")]),r("van-icon",{staticClass:"ml-7 font-14",attrs:{name:t.projectShow?"arrow-up":"arrow-down"}})],1),r("div",{directives:[{name:"show",rawName:"v-show",value:t.projectText,expression:"projectText"}],staticClass:"d-flex justify-space-between pa-10 align-center border-radius-10 border-probox background-color-main-3 color-white",on:{click:t.onProChangeShow}},[r("div",{staticClass:"font-14"},[t._v(t._s(t.projectText))]),r("van-icon",{staticClass:"ml-7 font-14",attrs:{name:t.projectShow?"arrow-up":"arrow-down"}})],1)]),r("div",{staticClass:"px-10 py-2"},[r("div",{staticClass:"border-radius-10 background-color-white d-flex align-center pa-4"},[r("app-icon",{staticClass:"font-17",attrs:{name:"#ytcrm-zhanbitu_chart-proportion"}}),r("div",{staticClass:"flex-1 mx-2 font-14 color-gray-5"},[t._v("准入池总数")]),r("div",{staticClass:"font-20 fontWeight"},[t._v(t._s(Math.round(100*parseFloat(t.total))/100))])],1),r("div",{staticClass:"mt-2 border-radius-10 background-color-white pb-4"},[r("div",{staticClass:"d-flex ml-4 py-3"},[r("th-item",{staticClass:"flex-6",attrs:{title:t.listTypeText[t.listType]}}),r("th-item",{staticClass:"flex-4 ml-2",attrs:{title:"准入池"}}),r("th-item",{staticClass:"flex-5 ml-2",attrs:{title:"已准入",sort:t.searchParams.finish,sortShow:""},on:{click:function(e){return t.onSortClick(1)}}}),r("th-item",{staticClass:"flex-4 ml-2",attrs:{title:"准入率",sort:t.searchParams.rate,sortShow:""},on:{click:function(e){return t.onSortClick(2)}}})],1),t._l(t.list,(function(e,n){return r("rank-item",{key:n,attrs:{data:e,gray:n%2===0},on:{click:function(r){return t.toDetail(e)}}})})),r("app-empty",{directives:[{name:"show",rawName:"v-show",value:!t.loading&&!t.list.length,expression:"!loading && !list.length"}],staticClass:"py-7",attrs:{description:"暂无数据"}}),r("van-loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"block-loading",attrs:{type:"spinner",color:"#1989fa"}})],2)]),r("van-popup",{attrs:{round:"",position:"bottom",closeable:""},model:{value:t.projectShow,callback:function(e){t.projectShow=e},expression:"projectShow"}},[r("div",{staticClass:"textAlignC py-4 font-16 fontWeight"},[t._v("项目/产品筛选")]),r("van-search",{attrs:{clearable:"",placeholder:"搜索"},on:{search:t.onSearchProject},model:{value:t.keywords,callback:function(e){t.keywords=e},expression:"keywords"}}),r("van-tree-select",{attrs:{items:t.projectList,"active-id":t.activeId,"main-active-index":t.activeIndex},on:{"update:activeId":function(e){t.activeId=e},"update:active-id":function(e){t.activeId=e},"update:mainActiveIndex":function(e){t.activeIndex=e},"update:main-active-index":function(e){t.activeIndex=e}}}),r("van-loading",{directives:[{name:"show",rawName:"v-show",value:t.proLoading,expression:"proLoading"}],staticClass:"block-loading",attrs:{type:"spinner",color:"#1989fa"}}),r("div",{staticClass:"px-4 py-2"},[r("van-button",{staticClass:"background-color-main-2",attrs:{type:"info",block:"",round:""},on:{click:t.onConfirm}},[t._v("确认")])],1)],1),r("van-popup",{attrs:{round:"",position:"bottom",closeable:""},model:{value:t.orgShow,callback:function(e){t.orgShow=e},expression:"orgShow"}},[r("div",{staticClass:"textAlignC py-4 font-16 fontWeight"},[t._v("中心部门切换")]),r("van-tree-select",{attrs:{height:"400",items:t.orgList,"active-id":t.orgActiveId,"main-active-index":t.orgActiveIndex},on:{"update:activeId":function(e){t.orgActiveId=e},"update:active-id":function(e){t.orgActiveId=e},"update:mainActiveIndex":function(e){t.orgActiveIndex=e},"update:main-active-index":function(e){t.orgActiveIndex=e}}}),r("div",{staticClass:"px-4 py-2"},[r("van-button",{staticClass:"background-color-main-2",attrs:{type:"info",block:"",round:""},on:{click:t.onConfirmOrg}},[t._v("确认")])],1)],1),r("div",{staticClass:"footer"},[2===t.listType||3===t.listType?r("van-button",{attrs:{color:"#2271F5"},on:{click:t.onOrgChangeShow}},[t._v(t._s(2===t.listType?t.currentOrgObj.text:t.currentOrgObj.text+"/"+t.currentDeptObj.text))]):t._e(),t.isMessage?r("van-button",{staticClass:"ml-4 color-main-2",staticStyle:{border:"2px solid #2271f5"},on:{click:t.goBack}},[t._v(" 返回首页 ")]):t._e()],1)],1)},a=[],i=r("5530"),c=r("2909"),s=r("1da1"),o=r("d4ec"),u=r("bee2"),p=r("262e"),d=r("2caf"),h=(r("96cf"),r("d3b7"),r("159b"),r("d81d"),r("caad"),r("2532"),r("25f0"),r("7db0"),r("99af"),r("ac1f"),r("5319"),r("9ab4")),l=r("1b40"),f=r("5acd"),g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:["d-flex align-center py-3 pl-4 textAlignL font-14",t.gray?"background-color-gray-8":"background-color-white"],on:{click:t.onClick}},[r("div",{staticClass:"flex-6 color-main-3"},[t._v(t._s(t.data.text))]),r("div",{staticClass:"flex-4 ml-2 slh"},[t._v(t._s(Math.round(100*parseFloat(t.data.goalNum))/100))]),r("div",{staticClass:"flex-5 ml-2 slh"},[t._v(t._s(Math.round(100*parseFloat(t.data.accessNum))/100))]),r("div",{staticClass:"flex-4 ml-2 slh"},[t._v(t._s((100*t.data.accessRate).toFixed(1))+"%")])])},v=[],b=function(t){Object(p["a"])(r,t);var e=Object(d["a"])(r);function r(){return Object(o["a"])(this,r),e.apply(this,arguments)}return Object(u["a"])(r,[{key:"onClick",value:function(){this.$emit("click")}}]),r}(l["d"]);Object(h["a"])([Object(l["c"])({type:Object,default:{}})],b.prototype,"data",void 0),Object(h["a"])([Object(l["c"])({type:Boolean,default:!1})],b.prototype,"gray",void 0),b=Object(h["a"])([Object(l["a"])({})],b);var m=b,j=m,x=r("2877"),w=Object(x["a"])(j,g,v,!1,null,"41c9f60d",null),k=w.exports,O=r("a8ce"),y=r("a8c3"),I=function(t){Object(p["a"])(r,t);var e=Object(d["a"])(r);function r(){var t;return Object(o["a"])(this,r),t=e.apply(this,arguments),t.isMessage=t.$route.query.isMessage||!1,t.date=t.$route.query.date,t.projectShow=!1,t.searchParams={finish:1,rate:0},t.total=0,t.listTypeText=["","组织名称","部门名称","业务员名称"],t.listType=1,t.currentProjectObj={projectId:"",text:"全部"},t.currentProductObj={},t.currentOrgObj={},t.currentDeptObj={},t.proLoading=!1,t.projectList=[],t.activeId="",t.activeIndex=0,t.orgList=[],t.orgActiveId="",t.orgActiveIndex=0,t.keywords="",t.projectText="",t.list=[],t.loading=!1,t.orgShow=!1,t}return Object(u["a"])(r,[{key:"onSearchProject",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.proLoading=!0,t.next=3,Object(y["s"])({date:this.date,key:this.keywords});case 3:e=t.sent,this.proLoading=!1,this.projectList=e.data,this.projectList.forEach((function(t){t.text=t.projectName,t.children=Object(c["a"])(t.productVOList),t.children.forEach((function(t){t.id=t.productId,t.text=t.productName})),t.children.unshift({id:"".concat(t.projectId,"-1"),text:"不限"})})),this.keywords||this.projectList.unshift({projectId:"",text:"全部",children:[{id:"",text:"不限"}]}),r=0,n=0;case 10:if(!(n<this.projectList.length)){t.next=18;break}if(this.projectList[n].projectId!==this.currentProjectObj.projectId){t.next=15;break}return this.activeIndex=n,r=1,t.abrupt("break",18);case 15:n++,t.next=10;break;case 18:r||(this.activeIndex=0);case 19:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getOrgList",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,r,n,a,i,c,s,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(y["v"])({date:this.date});case 2:if(e=t.sent,e.data.deptTreeList[0].deptVO.forEach((function(t){var e=t.deptVO.map((function(t){var e=t.deptId,r=t.deptName;return{id:e,text:r}}));e.unshift({id:"".concat(t.deptId,"-1"),text:"中心本级"}),o.orgList.push({id:t.deptId,text:t.deptName,children:e})})),this.orgList.unshift({id:"",text:"公司整体",children:[{id:"",text:"不限"}]}),1!==e.data.leaderLevel){t.next=11;break}this.orgActiveIndex=0,this.orgActiveId="",this.listType=1,t.next=47;break;case 11:if(2!==e.data.leaderLevel){t.next=26;break}r=0;case 13:if(!(r<this.orgList.length)){t.next=23;break}if(n=this.orgList[r],n.id!==e.data.crmGroup.depId){t.next=20;break}return this.orgActiveIndex=r,this.orgActiveId="".concat(n.id,"-1"),this.currentOrgObj=n,t.abrupt("break",23);case 20:r++,t.next=13;break;case 23:this.listType=2,t.next=47;break;case 26:a=0;case 27:if(!(a<this.orgList.length)){t.next=46;break}if(i=this.orgList[a],i.id!==e.data.crmGroup.parentId){t.next=43;break}this.orgActiveIndex=a,this.currentOrgObj=i,c=0;case 33:if(!(c<i.children.length)){t.next=42;break}if(s=i.children[c],s.id!==e.data.crmGroup.depId){t.next=39;break}return this.orgActiveId=s.id,this.currentDeptObj=s,t.abrupt("break",42);case 39:c++,t.next=33;break;case 42:return t.abrupt("break",46);case 43:a++,t.next=27;break;case 46:this.listType=3;case 47:this.getDataList();case 48:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"onSortClick",value:function(t){1===t&&(this.searchParams.finish=1===this.searchParams.finish?2:1,this.searchParams.rate=0),2===t&&(this.searchParams.rate=1===this.searchParams.rate?2:1,this.searchParams.finish=0),this.getDataList()}},{key:"getDataList",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,r,n,a,c,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.searchParams,r=e.finish,n=e.rate,a={date:this.date,projectId:this.currentProjectObj.projectId||"",productId:this.activeId.toString().includes("-1")?"":this.activeId,orderColumn:r?"accessNum":n?"accessRate":"",orderType:2===r||2===n?1:0},this.loading=!0,1!==this.listType){t.next=9;break}return t.next=6,Object(y["f"])(a);case 6:t.t0=t.sent,t.next=19;break;case 9:if(2!==this.listType){t.next=15;break}return t.next=12,Object(y["g"])(Object(i["a"])(Object(i["a"])({},a),{},{centerId:this.currentOrgObj.id}));case 12:t.t1=t.sent,t.next=18;break;case 15:return t.next=17,Object(y["h"])(Object(i["a"])(Object(i["a"])({},a),{},{centerId:this.currentOrgObj.id,crmDeptId:this.currentDeptObj.id}));case 17:t.t1=t.sent;case 18:t.t0=t.t1;case 19:c=t.t0,this.loading=!1,c.success&&(this.total=c.data.goalNum,this.list=c.data.accessProductDocNumVOS,this.list.forEach((function(t){t.id=1===s.listType?t.centerId:2===s.listType?t.deptId:t.salerId,t.text=1===s.listType?t.centerName:2===s.listType?t.deptName:t.salerName})));case 22:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"toDetail",value:function(t){1===this.listType?(this.listType=2,this.currentOrgObj=t,this.getDataList()):2===this.listType&&(this.listType=3,this.currentDeptObj=t,this.getDataList())}},{key:"onProChangeShow",value:function(){for(var t=0;t<this.projectList.length;t++)if(this.projectList[t].projectId===this.currentProjectObj.projectId){this.activeIndex=t;break}this.activeId=this.currentProductObj.id||"",this.projectShow=!0}},{key:"onConfirm",value:function(){var t=this;if(-1!==this.activeIndex){for(var e=0,r=0;r<this.projectList[this.activeIndex].children.length;r++){var n=this.projectList[this.activeIndex].children[r];if(n.id===this.activeId){e=1;break}}if(e)if(this.activeId!==this.currentProductObj.id){if(this.activeId){var a,i=null===(a=this.projectList[this.activeIndex].children.find((function(e){return e.id===t.activeId})))||void 0===a?void 0:a.text;this.projectText="".concat(this.projectList[this.activeIndex].text,"/").concat(i)||""}else this.projectText="";this.currentProjectObj=this.projectList[this.activeIndex],this.currentProductObj=this.projectList[this.activeIndex].children.find((function(e){return e.id===t.activeId})),this.projectShow=!1,this.getDataList()}else this.projectShow=!1;else this.$toast("请选择产品")}else this.$toast("请选择项目/产品")}},{key:"onOrgChangeShow",value:function(){for(var t=0;t<this.orgList.length;t++)if(this.orgList[t].id===this.currentOrgObj.id){this.orgActiveIndex=t;break}this.orgActiveId=this.currentDeptObj.id||"".concat(this.currentOrgObj.id,"-1"),this.orgShow=!0}},{key:"onConfirmOrg",value:function(){for(var t=this,e=0,r=0;r<this.orgList[this.orgActiveIndex].children.length;r++){var n=this.orgList[this.orgActiveIndex].children[r];if(n.id===this.orgActiveId){e=1;break}}e?this.orgActiveId!==this.currentDeptObj.id?(this.currentOrgObj=this.orgList[this.orgActiveIndex],this.currentDeptObj=this.orgList[this.orgActiveIndex].children.find((function(e){return e.id===t.orgActiveId})),this.listType=this.orgActiveId?this.orgActiveId.toString().includes("-1")?2:3:1,this.orgShow=!1,this.getDataList()):this.orgShow=!1:this.$toast("请选择中心/部门")}},{key:"goBack",value:function(){this.$router.replace({name:"ProjectManage"})}},{key:"created",value:function(){this.onSearchProject(),this.getOrgList()}}]),r}(l["d"]);I=Object(h["a"])([Object(l["a"])({components:{ThItem:f["a"],RankItem:k,FixButton:O["a"]}})],I);var P=I,R=P,D=(r("dc32"),Object(x["a"])(R,n,a,!1,null,"2435b516",null));e["default"]=D.exports}}]);