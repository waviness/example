(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f3a93c5"],{"3c33":function(t,e,n){"use strict";n("fb67")},"8d8d":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"full-HW font-12"},[n("div",{staticClass:"title-div"},[t._v("末次结款信息详情")]),t._l(t.infoList,(function(e,a){return n("div",{key:a,staticClass:"white-bg mb-3 px-4"},[n("div",{staticClass:"d-flex align-center justify-space-between py-3 div-border-bottom"},[n("span",{staticClass:"color-gray-5"},[t._v("客户")]),n("span",[t._v(t._s(e.customId)+"/"+t._s(e.customName))])]),2===e.statusDtl?n("div",[n("div",{staticClass:"d-flex align-center justify-space-between py-3 div-border-bottom"},[n("span",{staticClass:"color-gray-5"},[t._v("反馈时间")]),n("span",[t._v(t._s(e.confirmDate))])]),t._m(0,!0)]):t._e(),1===e.statusDtl?n("div",[n("div",{staticClass:"d-flex align-center justify-space-between py-3 div-border-bottom"},[n("span",{staticClass:"color-gray-5"},[t._v("客户目前库存")]),n("span",[t._v(t._s(e.sqty?e.sqty:0))])]),n("div",{staticClass:"d-flex align-center justify-space-between py-3 div-border-bottom"},[n("span",{staticClass:"color-gray-5"},[t._v("在途数量")]),n("span",[t._v(t._s(e.onwayQty?e.onwayQty:0))])]),n("div",{staticClass:"d-flex align-center justify-space-between py-3 div-border-bottom"},[n("span",{staticClass:"color-gray-5"},[t._v("返利金额")]),n("span",[t._v(t._s(e.unClearedPrice?e.unClearedPrice:0))])]),n("div",{staticClass:"d-flex align-center justify-space-between py-3 div-border-bottom"},[n("span",{staticClass:"color-gray-5"},[t._v("备注")]),n("span",[t._v(t._s(e.remark?e.remark:"-"))])])]):0===e.statusDtl?n("div",[n("van-field",{attrs:{label:"客户目前库存",placeholder:"请输入客户目前库存","input-align":"right",type:"number"},model:{value:e.sqty,callback:function(n){t.$set(e,"sqty",n)},expression:"info.sqty"}}),n("van-field",{attrs:{label:"在途数量",placeholder:"请输入在途数量","input-align":"right",type:"number"},model:{value:e.onwayQty,callback:function(n){t.$set(e,"onwayQty",n)},expression:"info.onwayQty"}}),n("van-field",{attrs:{label:"返利金额",placeholder:"请输入返利金额","input-align":"right",type:"number"},model:{value:e.unClearedPrice,callback:function(n){t.$set(e,"unClearedPrice",n)},expression:"info.unClearedPrice"}}),n("van-field",{attrs:{label:"备注",placeholder:"请输入备注","input-align":"right",type:"textarea",clearable:"",autosize:""},model:{value:e.remark,callback:function(n){t.$set(e,"remark",n)},expression:"info.remark"}}),n("div",{staticClass:"d-flex align-center justify-center py-2"},[n("van-button",{staticClass:"mr-3",attrs:{round:"",type:"danger",plain:"",size:"small"},on:{click:function(n){return t.submit(e,a,2)}}},[t._v(" 非经营品种 ")]),n("van-button",{attrs:{round:"",type:"info",size:"small"},on:{click:function(n){return t.submit(e,a,1)}}},[t._v("提交")])],1)],1):t._e()])})),t.infoList.length?t._e():n("app-empty",{staticClass:"mt-6 white-bg",attrs:{description:"暂无数据"}})],2)},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex align-center justify-end py-3"},[n("div",{staticClass:"no-jingying"},[t._v("非经营品种")])])}],i=n("d4ec"),r=n("bee2"),c=n("262e"),o=n("2caf"),u=(n("d3b7"),n("159b"),n("e9c4"),n("a434"),n("9ab4")),l=n("1b40"),d=n("c834"),p=function(t){Object(c["a"])(n,t);var e=Object(o["a"])(n);function n(){var t;return Object(i["a"])(this,n),t=e.apply(this,arguments),t.originInfoList=[],t.infoList=[],t.zdId=-1,t.selectType=-1,t.statusDtl=-1,t}return Object(r["a"])(n,[{key:"init",value:function(t){this.zdId=t.zdId,this.selectType=t.selectType?t.selectType:0,this.statusDtl=t.statusDtl?t.statusDtl:0,this._getdtlList()}},{key:"_getdtlList",value:function(){var t=this;Object(d["b"])({zdId:this.zdId,selectType:this.selectType,statusDtl:this.statusDtl,pageNum:1,pageSize:100}).then((function(e){200==e.code&&e.data&&(t.originInfoList=e.data.list,t.originInfoList.forEach((function(e){t.infoList.push({confirmDate:e.confirmDate,customId:e.customId,customName:e.customName,customSalerId:e.customSalerId,customSalerUserId:e.customSalerUserId,onwayQty:e.onwayQty?e.onwayQty:0,remark:e.remark,sqty:e.sqty?e.sqty:0,statusDtl:e.statusDtl,unClearedPrice:e.unClearedPrice?e.unClearedPrice:0,xdId:e.xdId,zdId:e.zdId})})))}))}},{key:"submit",value:function(t,e,n){var a=this;this.$dialog.confirm({message:1==n?"是否提交该条订单信息":"是否设置为非经营品种",confirmButtonColor:"#2271F5"}).then((function(){a._updateDtl(t,e,n)})).catch((function(){}))}},{key:"_updateDtl",value:function(t,e,n){var a=this,s=JSON.parse(JSON.stringify(t));s.sqty||(s.sqty=0),s.onwayQty||(s.onwayQty=0),s.unClearedPrice||(s.unClearedPrice=0),s.statusDtl=n,Object(d["c"])(s).then((function(t){200==t.code?(a.$toast.success(1==n?"提交成功":"设置非经营品种成功"),a.infoList.splice(e,1),sessionStorage.setItem("finalChange","1")):a.$toast.fail(t.msg)}))}},{key:"mounted",value:function(){this.$route.query&&this.init(this.$route.query)}}]),n}(l["d"]);p=Object(u["a"])([Object(l["a"])({components:{}})],p);var f=p,y=f,v=(n("3c33"),n("2877")),b=Object(v["a"])(y,a,s,!1,null,"4aa718df",null);e["default"]=b.exports},c834:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return o}));var a=n("1da1"),s=(n("96cf"),n("b32d")),i=n("90ae"),r=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["a"].post(i["d"],"/api/webFinalPayment/docList",e,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["a"].post(i["d"],"/api/webFinalPayment/dtlList",e,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["a"].post(i["d"],"/api/webFinalPayment/updateDtl",e,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},fb67:function(t,e,n){}}]);