(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a8c9986"],{"0682":function(t,e,a){"use strict";a("13c6")},"13c6":function(t,e,a){},c68a:function(t,e,a){"use strict";a.d(e,"d",(function(){return s})),a.d(e,"g",(function(){return c})),a.d(e,"h",(function(){return u})),a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return l})),a.d(e,"a",(function(){return d})),a.d(e,"f",(function(){return m})),a.d(e,"e",(function(){return p}));var n=a("1da1"),r=(a("96cf"),a("b32d")),i=a("90ae"),s=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].post(i["d"],"/api/task/getConfirmationRequestList",e,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].get(i["d"],"/api/task/updateConfirmationRequestStatue",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].post(i["d"],"/api/task/uploadConfirmationRequestPictures",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].post(i["d"],"/api/task/downloadConfirmationRequestPictures",e,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].get(i["d"],"/api/task/exceedTimeLimitTask",e,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].post(i["d"],"/api/task/activeInitiateConfirmationRequest",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].get(i["d"],"/api/task/initiatedConfirmationRequest",e,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].putGet(i["d"],"/api/task/handleConfirmationRequest/".concat(e),a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},edc2:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail"},[a("div",{staticClass:"common-list mb-2"},[a("div",{staticClass:"common-list-content"},[a("div",{staticClass:"common-list-one font-14"},[t._v(t._s(t.detailObj.customerId)+"/"+t._s(t.detailObj.customerName.split("/")[0]))]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.detailObj.contactId,expression:"detailObj.contactId"}],staticClass:"common-list-one color-gray-5"},[t._v(" "+t._s(t.detailObj.contactId)+t._s(t.detailObj.contactName)+" ")]),a("div",{staticClass:"common-list-one"},[a("span",{staticClass:"color-gray-5"},[t._v("核算单元：")]),a("span",[t._v(t._s(t.detailObj.entryId)+"/"+t._s(t.detailObj.entryName))])]),a("div",{staticClass:"common-list-two"},[a("div",{staticClass:"fontWeight-500 color-gray-5"},[t._v("发起人："+t._s(t.detailObj.userId)+"/"+t._s(t.detailObj.userName))]),a("div",{staticClass:"fontWeight-500 common-list-minWidth",staticStyle:{width:"120px"}},[t._v(" "+t._s(t.detailObj.createTime&&t.detailObj.createTime.substring(0,16))+" ")])])])]),t.detailObj.imageUrlList&&t.detailObj.imageUrlList.length>0?a("div",{staticClass:"image mt-2 white-bg",staticStyle:{height:"140px"}},[t._m(0),a("van-uploader",{attrs:{deletable:!1},model:{value:t.detailObj.imageUrlList,callback:function(e){t.$set(t.detailObj,"imageUrlList",e)},expression:"detailObj.imageUrlList"}})],1):t._e(),t.detailObj.imageUrlList?t._e():a("div",{staticClass:"noImage mt-2 white-bg"},[a("app-empty",{attrs:{description:"暂无图片"}})],1),0!==t.detailObj.status||t.hasDeal?t._e():a("van-field",{staticClass:"mt-2 flex-column",class:0===t.detailObj.status?"marginBottom-60":"",attrs:{type:"textarea",label:"反馈","input-align":"left",placeholder:"请输入反馈信息"},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}}),1===t.detailObj.status||t.hasDeal?a("van-field",{staticClass:"mt-2 flex-column",attrs:{label:"反馈"},scopedSlots:t._u([{key:"input",fn:function(){return[1===t.detailObj.status||t.hasDeal?a("ul",{staticClass:"pt-2"},[a("li",[t._v(" "+t._s(t.detailObj.replyUserName)+" "),a("span",{staticClass:"color-gray-4 font-12"},[t._v(" "+t._s(t.detailObj.updateTime.substring(0,16)))])]),a("li",{staticClass:"font-12"},[t._v(" "+t._s(t.detailObj.confirmationContent)+" ")])]):t._e()]},proxy:!0}],null,!1,2663927955)}):t._e(),0!==t.detailObj.status||t.hasDeal?t._e():a("div",{staticClass:"commonButton-footer d-flex justify-center"},[a("van-button",{attrs:{size:"small",round:"",plain:""},on:{click:t.cancelClick}},[t._v("取消")]),a("van-button",{attrs:{size:"small",color:"#2271F5",type:"info","native-type":"submit",round:""},on:{click:t.submitClick}},[t._v("提交")])],1)],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"image-header font-14 pa-2"},[a("span",{staticClass:"color-gray-5"},[t._v("已上传附件")])])}],i=a("d4ec"),s=a("bee2"),c=a("262e"),u=a("2caf"),o=(a("d81d"),a("ac1f"),a("1276"),a("9ab4")),l=a("1b40"),d=a("c68a"),m=a("4bb5"),p=Object(m["a"])("crm"),f=Object(m["a"])("app"),b=function(t){Object(c["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.hasDeal=!1,t.message="",t}return Object(s["a"])(a,[{key:"cancelClick",value:function(){this.$router.go(-1)}},{key:"submitClick",value:function(){var t=this;Object(d["e"])(this.detailObj.ccrId,{replyRemark:this.message}).then((function(e){"200"===e.code&&(t.$toast.success(e.msg),t.hasDeal=!0,t.detailObj.updateTime=t.$dayjs(new Date).format("YYYY-MM-DD HH:mm"),t.detailObj.replyUserName=t.userInfor.userName,t.detailObj.confirmationContent=t.message,t.SET_DETAILOBJ(t.detailObj),t.SET_DATACHANGEOP(!0))}))}},{key:"_getQueryList",value:function(){var t=this,e={ccrId:this.$route.query.ccrId,role:"0",pageNum:1,pageSize:7};Object(d["f"])(e).then((function(e){t.SET_DETAILOBJ(e.data.list[0]),t.detailObj.imageUrlList&&(t.detailObj.imageUrlList=t.detailObj.imageUrlList.map((function(t){var e=t.split(".");return{url:"svg"!==e[e.length-1]?t+"?x-oss-process=image%2Fresize%2Cm_fixed%2Cw_800%2Ch_1000":t}})))}))}},{key:"mounted",value:function(){this.$route.query.ccrId?this._getQueryList():this.detailObj.imageUrlList&&(this.detailObj.imageUrlList=this.detailObj.imageUrlList.map((function(t){var e=t.split(".");return{url:"svg"!==e[e.length-1]?t+"?x-oss-process=image%2Fresize%2Cm_fixed%2Cw_800%2Ch_1000":t}})))}}]),a}(l["d"]);Object(o["a"])([p.Getter],b.prototype,"detailObj",void 0),Object(o["a"])([f.Getter],b.prototype,"userInfor",void 0),Object(o["a"])([p.Mutation],b.prototype,"SET_DETAILOBJ",void 0),Object(o["a"])([p.Mutation],b.prototype,"SET_DATACHANGEOP",void 0),b=Object(o["a"])([Object(l["a"])({})],b);var v=b,g=v,h=(a("0682"),a("2877")),O=Object(h["a"])(g,n,r,!1,null,"a41925b8",null);e["default"]=O.exports}}]);