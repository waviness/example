(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-efc672a0"],{"28f1":function(e,t,n){"use strict";n("4bec")},"4bec":function(e,t,n){},9963:function(e,t,n){"use strict";function r(e,t){var n=Object.setPrototypeOf;n?n(e,t):e.__proto__=t}function o(e,t){void 0===t&&(t=e.constructor);var n=Error.captureStackTrace;n&&n(e,t)}n.d(t,"a",(function(){return i}));var c=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var c=this.constructor,i=e.call(this,t,n)||this;return Object.defineProperty(i,"name",{value:c.name,enumerable:!1,configurable:!0}),r(i,c.prototype),o(i),i}return c(t,e),t}(Error)},e2c0:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-scan"},[n("van-nav-bar",{staticClass:"scan-index-bar",attrs:{title:"扫描二维码/条形码",fixed:""},on:{"click-left":function(t){return e.clickIndexLeft()}},scopedSlots:e._u([{key:"left",fn:function(){return[n("van-icon",{attrs:{name:"arrow-left",size:"18",color:"#fff"}}),n("span",{staticStyle:{color:"#fff"}},[e._v("取消")])]},proxy:!0}])}),n("video",{ref:"video",staticClass:"scan-video",attrs:{id:"video",autoplay:""}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.tipShow,expression:"tipShow"}],staticClass:"scan-tip"},[e._v(e._s(e.tipMsg))])],1)},o=[],c=n("1da1"),i=n("d4ec"),a=n("bee2"),s=n("262e"),u=n("2caf"),d=(n("96cf"),n("e9c4"),n("9ab4")),f=n("1b40"),p=n("224f"),l=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.apply(this,arguments),e.loadingShow=!1,e.codeReader=null,e.scanText="",e.vin=null,e.tipMsg="正在尝试识别....",e.tipShow=!1,e}return Object(a["a"])(n,[{key:"openScan",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.codeReader.getVideoInputDevices().then((function(e){t.tipShow=!0,t.tipMsg="正在调用摄像头...";var n=e[0].deviceId,r=JSON.stringify(e[0].label);e.length>1&&(n=r.indexOf("back")>-1?e[0].deviceId:e[1].deviceId),t.decodeFromInputVideoFunc(n)})).catch((function(e){t.tipShow=!1}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"openScanTwo",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new p["BrowserMultiFormatReader"];case 2:this.codeReader=e.sent,this.codeReader.getVideoInputDevices().then((function(e){t.tipShow=!0,t.tipMsg="正在调用摄像头...";var n=e[0].deviceId,r=JSON.stringify(e[0].label);e.length>1&&(n=r.indexOf("back")>-1?e[0].deviceId:e[1].deviceId),t.decodeFromInputVideoFunc(n)})).catch((function(e){t.tipShow=!1}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"decodeFromInputVideoFunc",value:function(e){var t=this;this.codeReader.reset(),this.scanText="",this.codeReader.decodeFromInputVideoDeviceContinuously(e,"video",(function(e,n){t.tipMsg="正在尝试识别...",t.scanText="",e&&(t.scanText=e.text,t.scanText&&(t.tipShow=!1)),n&&!n&&(t.tipMsg="识别失败",setTimeout((function(){t.tipShow=!1}),2e3))}))}},{key:"clickIndexLeft",value:function(){this.codeReader=null,this.$destroy(),this.$router.back()}},{key:"created",value:function(){this.codeReader=new p["BrowserMultiFormatReader"],this.openScan()}},{key:"destroyed",value:function(){this.codeReader.reset()}}]),n}(f["d"]);l=Object(d["a"])([Object(f["a"])({})],l);var v=l,h=v,w=(n("28f1"),n("2877")),b=Object(w["a"])(h,r,o,!1,null,null,null);t["default"]=b.exports}}]);