(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-287021f2"],{3625:function(t,e,a){},"53ae":function(t,e,a){"use strict";var s=a("d4ec"),n=a("bee2"),i=a("262e"),o=a("2caf"),r=(a("b0c0"),a("9ab4")),c=a("1b40");c["a"].registerHooks(["beforeRouteEnter"]);var l=function(t){Object(i["a"])(a,t);var e=Object(o["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.page=1,t.total=0,t.dataList=[],t.loading=!1,t.finished=!1,t.refreshing=!1,t.finishText="",t.userIdList=[],t.error=!1,t}return Object(n["a"])(a,[{key:"beforeRouteEnter",value:function(t,e,a){a((function(t){"Home"!==e.name&&"TaskIndex"!==e.name||(t.dataList=[],t.page=1,t.loading=!1,t.finished=!0,t.refreshing=!1,t.$nextTick((function(){t.finished=!1})))}))}}]),a}(c["d"]);l=Object(r["a"])([Object(c["a"])({})],l),e["a"]=l},"5b65":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cardWarp positionR white-block mt-2"},[a("van-loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"block-loading",attrs:{type:"spinner",color:"#1989fa"}}),a("div",{staticClass:"d-flex justify-space-between py-4",staticStyle:{height:"50%","border-bottom":"1px solid #ebedf0"}},[a("div",{staticClass:"cardWarp-line flex-1 d-flex flex-column pl-2"},[a("span",{staticClass:"font-14"},[t._v("本月累计")]),a("span",{staticClass:"font-16"},[t._v(t._s(t.salesDataObj.currentMonthMoney))])]),a("div",{staticClass:"cardWarp-line flex-1 d-flex flex-column pl-2"},[a("span",{staticClass:"font-14"},[t._v("去年同期")]),a("span",{staticClass:"font-16 color-main-2"},[t._v(" "+t._s(t.salesDataObj.lyCurrentMonthMoney))])]),a("div",{staticClass:"cardWarp-line flex-1 d-flex flex-column pl-2"},[a("span",{staticClass:"font-14"},[t._v("同比增幅")]),a("span",{staticClass:"font-16",class:t.getColor(t.salesDataObj.monthPercentage)},[t._v(t._s(t.getFH(t.salesDataObj.monthPercentage))+t._s(t.salesDataObj.monthPercentage)+"%")])])]),a("div",{staticClass:"d-flex justify-space-between py-4",staticStyle:{height:"50%"}},[a("div",{staticClass:"cardWarp-line flex-1 d-flex flex-column pl-2"},[a("span",{staticClass:"font-14"},[t._v("本年累计")]),a("span",{staticClass:"font-16"},[t._v(t._s(t.salesDataObj.currentYearMoney))])]),a("div",{staticClass:"cardWarp-line flex-1 d-flex flex-column pl-2"},[a("span",{staticClass:"font-14"},[t._v("去年同期")]),a("span",{staticClass:"font-16 color-main-2"},[t._v(t._s(t.salesDataObj.lyCurrentYearMoney))])]),a("div",{staticClass:"cardWarp-line flex-1 d-flex flex-column pl-2"},[a("span",{staticClass:"font-14"},[t._v("同比增幅")]),a("span",{staticClass:"font-16",class:t.getColor(t.salesDataObj.yearPercentage)},[t._v(t._s(t.getFH(t.salesDataObj.yearPercentage))+t._s(t.salesDataObj.yearPercentage)+"%")])])])],1)},n=[],i=a("d4ec"),o=a("bee2"),r=a("262e"),c=a("2caf"),l=(a("ac1f"),a("5319"),a("9ab4")),d=a("1b40"),f=function(t){Object(r["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(i["a"])(this,a),e.apply(this,arguments)}return Object(o["a"])(a,[{key:"getFH",get:function(){return function(t){if(t){var e=String(t).replace(",","");return+e>0?"+":""}}}},{key:"getColor",get:function(){return function(t){if(t){var e=String(t).replace(",","");return+e>0?"color-normal":"color-never"}}}}]),a}(d["d"]);Object(l["a"])([Object(d["c"])()],f.prototype,"salesDataObj",void 0),Object(l["a"])([Object(d["c"])()],f.prototype,"loading",void 0),f=Object(l["a"])([Object(d["a"])({})],f);var p=f,u=p,v=(a("b37f"),a("2877")),h=Object(v["a"])(u,s,n,!1,null,"47311820",null);e["a"]=h.exports},"69bc":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"background-color-white"},[a("van-sticky",[a("div",{staticClass:"header px-4 d-flex align-center background-color-white"},[a("div",{staticClass:"flex-3 d-flex flex-column"},[a("span",{staticClass:"font-24 fontWeight color-black-1",staticStyle:{"font-family":"'HarmonyOS Sans SC Black'"}},[t._v(t._s(t.entryObj.goodsName))]),a("span",{staticClass:"font-12 color-gray-5"},[t._v(t._s(t.entryObj.deptName)+"/"+t._s(t.entryObj.brandName))])]),a("div",{staticClass:"flex-2 textAlignR background-color-white",on:{click:t.calendarClick}},[a("span",{staticClass:"time color-gray-4 fontWeight font-16"},[t._v(t._s(t.dateTime))]),a("van-icon",{staticClass:"pl-1",attrs:{size:"14px",name:"arrow-down"}})],1)])]),a("div",{staticClass:"px-10 pt-10"},[a("div",{staticClass:"card py-4 pl-4 d-flex positionR"},[t.totalLoading?a("div",{staticClass:"block-loading d-flex justify-center pa-8"},[a("van-loading",{attrs:{type:"spinner",color:"#3561F2"}})],1):t._e(),a("ul",{staticClass:"salesWarp d-flex flex-column justify-space-between"},[a("li",{staticClass:"color-gray-4 font-14"},[t._v("销售实绩")]),a("li",{staticClass:"d-flex flex-column"},[a("span",{staticClass:"font-28 fontWeight",staticStyle:{"font-family":"HarmonyOS_Sans_SC_Black"}},[t._v(t._s(t.goodsHeaderObj.value)+"万元")]),a("span",{staticClass:"color-main-2 font-14"},[t._v(t._s(t.getFH(t.goodsHeaderObj.yearNetIncrease))+t._s(t.goodsHeaderObj.yearNetIncrease))])])]),a("div",{staticClass:"echarts",attrs:{id:"goodsEcharts"}})])]),a("div",{staticClass:"px-2"},[a("van-pull-refresh",{staticClass:"pt-10",on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[a("van-list",{staticClass:"px-2",attrs:{offset:20,finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.dataList,(function(e,s){return a("div",{key:s},[a("div",{staticClass:"color-gray-5 font-14 d-flex justify-space-between py-10"},[a("span",[t._v(t._s(e.customerId)+"/"+t._s(e.customerName))]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.prodArea,expression:"data.prodArea"}]},[t._v("产地:"+t._s(e.prodArea))])]),a("div",{staticClass:"borderBottom d-flex justify-space-between pb-10"},[a("div",{staticClass:"d-flex flex-1 flex-column"},[a("span",{staticClass:"color-gray-4 font-14"},[t._v("销售实绩")]),a("span",{staticClass:"color-gray-5 font-16 pt-1"},[t._v(t._s(e.value))])]),a("div",{staticClass:"d-flex flex-1 flex-column"},[a("span",{staticClass:"color-gray-4 font-14"},[t._v("较同期净增")]),a("span",{staticClass:"font-16 pt-1",class:t.getColor(e.yearNetIncrease)},[t._v(t._s(t.getFH(e.yearNetIncrease))+t._s(e.yearNetIncrease))])]),a("div",{staticClass:"d-flex flex-column pl-2"},[a("span",{staticClass:"color-gray-4 font-14"},[t._v("同比增幅")]),a("span",{staticClass:"font-16 pt-1",class:t.getColor(e.increment)},[t._v(t._s(t.getFH(e.increment))+t._s(e.increment)+"%")])])])])})),0)],1)],1),a("div",{staticClass:"commonOpButton-footer"},[a("van-button",{attrs:{round:"",type:"primary",color:"#3561F2"},on:{click:function(e){t.orderTypeFlag=!0}}},[t._v(" 排序方式 ")])],1),a("van-action-sheet",{attrs:{actions:[{name:"销售实绩正序",id:"1-1",color:t.sortField+"-"+t.sortOrder==="1-1"?"#2271F5":""},{name:"销售实绩倒序",id:"1-2",color:t.sortField+"-"+t.sortOrder==="1-2"?"#2271F5":""},{name:"同比增幅正序",id:"3-1",color:t.sortField+"-"+t.sortOrder==="3-1"?"#2271F5":""},{name:"同比增幅倒序",id:"3-2",color:t.sortField+"-"+t.sortOrder==="3-2"?"#2271F5":""}],"cancel-text":"取消","get-container":"body","close-on-click-action":""},on:{select:t.orderTypeSelect},model:{value:t.orderTypeFlag,callback:function(e){t.orderTypeFlag=e},expression:"orderTypeFlag"}}),a("van-calendar",{attrs:{"default-date":t.csjNowTime,"min-date":new Date(2021,0,1),"max-date":new Date((new Date).getTime()-864e5),"first-day-of-week":"1",color:"#1989fa","show-confirm":!1},on:{select:t.calendarConfirm},model:{value:t.calendarShow,callback:function(e){t.calendarShow=e},expression:"calendarShow"}})],1)},n=[],i=a("1da1"),o=a("d4ec"),r=a("bee2"),c=a("262e"),l=a("2caf"),d=(a("96cf"),a("ac1f"),a("5319"),a("d81d"),a("99af"),a("1276"),a("9ab4")),f=a("1b40"),p=a("53ae"),u=a("ff2d"),v=a("5b65"),h=a("2279"),g=a("5b92"),b=a("313e"),m=a("4bb5"),y=Object(m["a"])("app"),C=function(t){Object(c["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.totalLoading=!1,t.goodsHeaderObj={},t.entryObj={},t.calendarShow=!1,t.dateTime="",t.saleLoading=!1,t.orderTypeFlag=!1,t.sortField=1,t.sortOrder=2,t.myChart=null,t}return Object(r["a"])(a,[{key:"getColor",get:function(){return function(t){if(t){var e=String(t).replace(",","");return+e>0?"color-normal":"color-never"}}}},{key:"getFH",get:function(){return function(t){if(t){var e=String(t).replace(",","");return+e>0?"+":""}}}},{key:"calendarConfirm",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.calendarShow=!1,this.SET_CSJNOWTIME(e),this.SET_CSJCHANGETIME(!0),this.dateTime=this.$dayjs(e).format("YYYY-MM-DD"),this._getAllListByBrand(),this.onRefresh();case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"calendarClick",value:function(){this.calendarShow=!0}},{key:"onRefresh",value:function(){this.finished=!1,this.loading=!1,this.dataList=[],this.page=1,this.onLoad()}},{key:"onLoad",value:function(){this.refreshing&&(this.page=1,this.dataList=[],this.refreshing=!1),this.loading=!0,this._getStatListByGoods()}},{key:"_getAllListByBrand",value:function(){var t=this;this.totalLoading=!0,Object(h["d"])({brandId:this.entryObj.brandId,date:this.dateTime,deptId:this.entryObj.deptId,pageNum:this.page,pageSize:8,area:"",city:"",province:"",goodsKeyword:this.entryObj.goodsId,sortField:this.sortField,sortOrder:this.sortOrder}).then((function(e){t.totalLoading=!1,t.goodsHeaderObj={value:Object(g["d"])(e.data.list[0].yearAmount,1),yearNetIncrease:Object(g["d"])(e.data.list[0].yearNetIncrease,1),increment:Object(g["d"])(e.data.list[0].yearOnPercent,2)},t.getEcharts(t.goodsHeaderObj.increment)}))}},{key:"getEcharts",value:function(t){this.myChart&&this.myChart.clear();var e,a=document.getElementById("goodsEcharts");this.myChart=b["b"](a),e={series:[{type:"gauge",startAngle:180,endAngle:0,center:["50%","90%"],radius:"140%",min:-100,max:100,splitNumber:4,axisLine:{lineStyle:{width:10,color:[[.25,"#EA394B"],[.5,"#D55B26"],[.75,"#2271F5"],[1,"#00A870"]]}},pointer:{icon:"path://M12.8,0.7l12,40.1H0.7L12.8,0.7z",length:8,width:6,offsetCenter:[0,"-60%"],itemStyle:{color:"auto"}},axisTick:{lineStyle:{width:0}},splitLine:{distance:-21,length:22,lineStyle:{color:"white",width:1}},axisLabel:{formatter:function(){return""}},title:{offsetCenter:[0,"-10%"],fontSize:20},detail:{fontSize:14,offsetCenter:[0,-10],valueAnimation:!0,formatter:function(t){return t+"%"},color:"inherit"},data:[{value:t}]}]},e&&this.myChart.setOption(e)}},{key:"_getStatListByGoods",value:function(){var t=this;Object(h["P"])({brandId:this.entryObj.brandId,goodsId:this.entryObj.goodsId,date:this.dateTime,deptId:this.entryObj.deptId,pageNum:this.page,pageSize:8,sortField:this.sortField,sortOrder:this.sortOrder}).then((function(e){if(t.loading=!1,t.refreshing=!1,e.success){var a=e.data.list.map((function(t){return{customerId:t.customerId,customerName:t.customerName,value:Object(g["d"])(t.yearAmount,1),yearNetIncrease:Object(g["d"])(t.yearNetIncrease,1),increment:Object(g["d"])(t.yearOnPercent,2)}}));t.dataList=t.dataList.concat(a),t.total=e.data.total,e.data.hasNextPage&&t.page++,t.finished=!e.data.hasNextPage}else t.error=!0}))}},{key:"orderTypeSelect",value:function(t){var e=t.id.split("-");this.sortField=e[0],this.sortOrder=e[1],this.onRefresh()}},{key:"created",value:function(){this.entryObj=this.$route.query,this.dateTime=this.$dayjs(this.csjNowTime).format("YYYY-MM-DD")}},{key:"mounted",value:function(){document.documentElement.scrollTop=0,this._getAllListByBrand()}}]),a}(Object(f["b"])(p["a"]));Object(d["a"])([y.Getter],C.prototype,"csjNowTime",void 0),Object(d["a"])([y.Getter],C.prototype,"csjChangeTime",void 0),Object(d["a"])([y.Mutation],C.prototype,"SET_CSJNOWTIME",void 0),Object(d["a"])([y.Mutation],C.prototype,"SET_CSJCHANGETIME",void 0),C=Object(d["a"])([Object(f["a"])({components:{CommonCard:v["a"],detailCard:u["a"]}})],C);var _=C,O=_,j=(a("d40b"),a("2877")),x=Object(j["a"])(O,s,n,!1,null,"01bc1093",null);e["default"]=x.exports},"7e5c":function(t,e,a){},b37f:function(t,e,a){"use strict";a("e8d5")},cb2b:function(t,e,a){"use strict";a("7e5c")},cc19:function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"a",(function(){return n}));a("ac1f"),a("5319"),a("d3b7"),a("25f0"),a("b680");function s(t){var e=t/1e4;return Math.round(e).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}function n(t){var e=100*t;return e.toFixed(1)}},d40b:function(t,e,a){"use strict";a("3625")},e8d5:function(t,e,a){},ff2d:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"white-bg detail-card mt-2 pa-2"},[t.showDepName?a("div",[a("div",{staticClass:"d-flex align-center justify-space-between font-16 lineHeight-23 px-2"},[a("div",{staticClass:"fontWeight-500 color-main-2"},[t._v(t._s(t.name))]),a("div",{staticClass:"fontWeight-500 color-main-2"},[t._v(t._s(t.getUnitValueUse(t.data.data1,1))+"万元")])]),a("div",{staticClass:"d-flex align-center justify-space-between font-12 lineHeight-20 mb-1 px-2"},[a("div",{staticClass:"color-gray-5"},[t._v(t._s(t.data.mainDeptName))]),a("div",{staticClass:"color-gray-5"},[t._v("当日销售")])])]):a("div",{staticClass:"d-flex align-center justify-space-between font-16 lineHeight-23 card-header",class:t.isClick?"color-main-2 ":""},[a("div",{staticClass:"fontWeight-500"},[t._v(t._s(t.name))]),t.showDrxs?a("div",[a("span",{staticClass:"fontWeight-500 color-gray-5"},[t._v("当日销售")]),a("span",{staticClass:"fontWeight"},[t._v(t._s(t.getUnitValueUse(t.data.data1,1))+"万元")])]):t._e()]),a("div",{staticClass:"card-line my-1"}),"台州销售部"==t.name?a("div",{staticClass:"mb-1"},[a("span",{staticClass:"font-12 lineHeight-17"},[t._v("根据23年业务下沉协议，23年实际增长率")]),a("span",{staticClass:"font-13 fontWeight-500 ml-2",class:t.data.data9>0?"color-normal":"color-never"},[t._v(" "+t._s(t.nToP(t.data.data9))+"% ")])]):t._e(),"金华销售部"==t.name?a("div",{staticClass:"mb-1"},[a("span",{staticClass:"font-12 lineHeight-17"},[t._v("剔除浙四，23年增长率")]),a("span",{staticClass:"font-13 fontWeight-500 ml-2",class:t.data.data9>0?"color-normal":"color-never"},[t._v(" "+t._s(t.nToP(t.data.data9))+"% ")])]):t._e(),a("div",{staticClass:"d-flex justify-space-between align-baseline"},[a("div",{staticClass:"d-flex align-center flex-column"},[a("span",{staticClass:"font-12 color-gray-4 lineHeight-17 mb-1"},[t._v("本月销售")]),a("span",{staticClass:"font-13 fontWeight-500 lineHeight-20"},[t._v(t._s(t.yToW(t.data.data2)))])]),a("div",{staticClass:"d-flex align-center flex-column"},[a("span",{staticClass:"font-12 color-gray-4 lineHeight-17 mb-1"},[t._v("月同比")]),a("span",{staticClass:"font-13 fontWeight-500 lineHeight-20",class:t.data.data3>0?"color-normal":"color-never"},[t._v(" "+t._s(t.nToP(t.data.data3))+"% ")])]),a("div",{staticClass:"d-flex align-center flex-column"},[a("span",{staticClass:"font-12 color-gray-4 lineHeight-17 mb-1"},[t._v("去年整月")]),a("span",{staticClass:"font-13 fontWeight-500 lineHeight-20"},[t._v(t._s(t.yToW(t.data.data4)))])]),a("div",{staticClass:"d-flex align-center flex-column"},[a("span",{staticClass:"font-12 color-gray-4 lineHeight-17 mb-1"},[t._v("本年累计")]),a("span",{staticClass:"font-13 fontWeight-500 lineHeight-20"},[t._v(t._s(t.yToW(t.data.data5)))])]),a("div",{staticClass:"d-flex align-center flex-column"},[a("span",{staticClass:"font-12 color-gray-4 lineHeight-17 mb-1"},[t._v("年同比")]),a("span",{staticClass:"font-13 fontWeight-500 lineHeight-20 d-felx",class:t.data.data6>0?"color-normal":"color-never"},[t._v(" "+t._s(t.nToP(t.data.data6))+"% ")])]),a("div",{staticClass:"d-flex align-center flex-column"},[a("span",{staticClass:"font-12 color-gray-4 lineHeight-17 mb-1"},[t._v("去年累计整月")]),a("span",{staticClass:"font-13 lineHeight-20 fontWeight-500"},[t._v(t._s(t.yToW(t.data.data7)))])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.per>-1&&t.perShow,expression:"per > -1 && perShow"}],staticClass:"positionR"},[a("van-progress",{staticClass:"mt-1",attrs:{percentage:t.per,"track-color":"rgba($color: #646566, $alpha: 0.6)",color:"#4970F3","show-pivot":!1,"stroke-width":"20"}}),a("div",{staticClass:"color-white progress-text font-14 lineHeight-20 pl-3"},[t._v("预算进度达成率"+t._s(t.nToP(t.per))+"%")])],1)])},n=[],i=a("bee2"),o=a("d4ec"),r=a("262e"),c=a("2caf"),l=(a("a9e3"),a("9ab4")),d=a("1b40"),f=a("cc19"),p=a("5b92"),u=function(t){Object(r["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.yToW=f["b"],t.nToP=f["a"],t.getUnitValueUse=p["d"],t}return Object(i["a"])(a)}(d["d"]);Object(l["a"])([Object(d["c"])({type:Object,default:{}})],u.prototype,"data",void 0),Object(l["a"])([Object(d["c"])({type:String,default:""})],u.prototype,"name",void 0),Object(l["a"])([Object(d["c"])({type:String,default:""})],u.prototype,"mainDeptName",void 0),Object(l["a"])([Object(d["c"])({type:Number,default:-1})],u.prototype,"per",void 0),Object(l["a"])([Object(d["c"])({default:!1})],u.prototype,"showDrxs",void 0),Object(l["a"])([Object(d["c"])({default:!1})],u.prototype,"showDepName",void 0),Object(l["a"])([Object(d["c"])({default:!0})],u.prototype,"isClick",void 0),Object(l["a"])([Object(d["c"])({default:!0})],u.prototype,"perShow",void 0),u=Object(l["a"])([Object(d["a"])({components:{}})],u);var v=u,h=v,g=(a("cb2b"),a("2877")),b=Object(g["a"])(h,s,n,!1,null,"6faad624",null);e["a"]=b.exports}}]);