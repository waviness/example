(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-05da36f0"],{"0473":function(t,e,a){},"0697":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dataCenter"},[a("div",{staticClass:"dataCenter-rerformance"},[t.performanceLoading?a("van-loading",{staticClass:"block-loading2",attrs:{type:"spinner",color:"#1989fa"}}):t._e(),a("div",{staticClass:"dataCenter-rerformance__header",on:{click:t.depChangeClick}},[a("div",[a("svg",{staticClass:"icon left",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#ytcrm-shujubeifen"}})]),a("span",{staticClass:"left title"},[t._v("业绩板块")])]),a("div",{staticClass:"dataCenter-rerformance__header--dep"},[a("span",{staticClass:"left"},[t._v(t._s(t.deptObj&&t.deptObj.name))]),a("van-icon",{attrs:{size:"16px",name:"arrow-down"}})],1)]),a("div",{staticClass:"dataCenter-rerformance__content",on:{click:t.achievementClick}},[a("div",{staticClass:"cicle"},["-100.0"!==String(t.performanceObj.currentYearPercent)?a("ul",{staticClass:"circle__text"},[a("li",[t._v("实绩进度")]),a("li",{staticClass:"present"},[t._v(t._s(t.performanceObj.currentYearPercent)+"%")]),a("li",{staticClass:"compare"},[t._v(" 较预算 "+t._s(t.performanceObj.comparePercent)+"p ")])]):a("ul",{staticClass:"circle__text",staticStyle:{"line-height":"60px"}},[t._v(" 预算暂未录入 ")]),a("van-circle",{attrs:{rate:t.performanceObj.currentYearPercent,clockwise:!0,size:"3.7rem",color:"#3561F2","stroke-width":"80","layer-color":"#f1f1f1",text:""},model:{value:t.currentRate,callback:function(e){t.currentRate=e},expression:"currentRate"}})],1),a("div",{staticClass:"dataCenter-rerformance__content-achievement"},[a("div",{staticClass:"monthYearWarp"},[a("ul",[a("li",{staticClass:"text"},[t._v("本月实绩")]),a("li",[a("span",{staticClass:"value"},[t._v(t._s(t.performanceObj.currentMonthSalesAmount))]),a("span",{staticClass:"unit"},[t._v("万元")])]),a("li",{staticClass:"riseMsg fontWeight-300"},[t._v("同比净增"+t._s(t.performanceObj.monthOnMonthNetIncrease)+"万元")])]),a("div",{staticClass:"range clearfix"},[a("svg",{staticClass:"icon left",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":t.performanceObj.monthOnMonthNetIncreasePercent<0?"#ytcrm-rise-red":"#ytcrm-fall-green"}})]),a("span",{staticClass:"number left",class:t.performanceObj.monthOnMonthNetIncreasePercent<0?"red":"green"},[t._v(t._s(t.performanceObj.monthOnMonthNetIncreasePercent)+"%")])])]),a("div",{staticClass:"monthYearWarp"},[a("ul",[a("li",{staticClass:"text"},[t._v("本年实绩")]),a("li",[a("span",{staticClass:"value"},[t._v(t._s(t.performanceObj.currentYearSalesAmount))]),a("span",{staticClass:"unit"},[t._v("万元")])]),a("li",{staticClass:"riseMsg fontWeight-300"},[t._v("同比净增"+t._s(t.performanceObj.yearOnYearNetIncrease)+"万元")])]),a("div",{staticClass:"range clearfix"},[a("svg",{staticClass:"icon left",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":t.performanceObj.yearOnYearNetIncreasePercent<0?"#ytcrm-rise-red":"#ytcrm-fall-green"}})]),a("span",{staticClass:"number",class:t.performanceObj.yearOnYearNetIncreasePercent<0?"red":"green"},[t._v(t._s(t.performanceObj.yearOnYearNetIncreasePercent)+"%")])])]),a("div",{staticClass:"mt-2 font-14 color-main"},[a("van-icon",{attrs:{size:"14px",name:"warning-o"}}),t._v(" 问题指标 "),a("i",{staticClass:"tag-number-blue"},[t._v(t._s(t.performanceObj.problemIndex))])],1)])])],1),a("div",{staticClass:"dataCenter-plate"},[a("div",{staticClass:"dataCenter-plate__custom"},[a("div",{staticClass:"dataCenter-plate__header"},[t._v("客情关系板块")]),a("ul",{staticClass:"dataCenter-plate__list"},[a("li",{staticClass:"listItem"},[a("svg",{staticClass:"icon left",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#ytcrm-a-xingzhuangjiehe1"}})]),a("span",{staticClass:"itemContent"},[a("span",{staticClass:"title"},[t._v("本月拜访人数")]),t.customLoading?a("van-loading",{attrs:{size:"26px",type:"spinner",color:"#3561f2"}}):a("span",{staticClass:"value"},[t._v(t._s(t.customObj.visitUserNum))])],1)]),a("li",{staticClass:"listItem"},[a("svg",{staticClass:"icon left",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#ytcrm-a-xingzhuangjiehe21"}})]),a("span",{staticClass:"itemContent"},[a("span",{staticClass:"title"},[t._v("本月拜访日志")]),t.customLoading?a("van-loading",{attrs:{size:"26px",type:"spinner",color:"#3561f2"}}):a("span",{staticClass:"value"},[t._v(t._s(t.customObj.visitNum))])],1)]),a("li",{staticClass:"listItem"},[a("svg",{staticClass:"icon left",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#ytcrm-a-xingzhuangjiehe3"}})]),a("span",{staticClass:"itemContent"},[a("span",{staticClass:"title"},[t._v("本月协访")]),t.customLoading?a("van-loading",{attrs:{size:"26px",type:"spinner",color:"#3561f2"}}):a("span",{staticClass:"value"},[t._v(t._s(t.customObj.assistVisitNum))])],1)])])]),a("div",{staticClass:"dataCenter-plate__task",on:{click:function(e){return t.$router.push({path:"/task/supervision"})}}},[a("div",{staticClass:"dataCenter-plate__header"},[t._v("任务督办协同")]),a("ul",{staticClass:"dataCenter-plate__tasklist"},[a("li",{staticClass:"listItem"},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#ytcrm-bianzu"}})]),a("p",{staticClass:"taskContent"},[a("span",{staticClass:"title"},[t._v("进行中")]),t.taskLoading?a("van-loading",{attrs:{size:"26px",type:"spinner",color:"#ffffff"}}):a("span",{staticClass:"value"},[t._v(t._s(t.taskObj.pendingNum))])],1)]),a("li",{staticClass:"listItem"},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#ytcrm-a-Fill1"}})]),a("p",{staticClass:"taskContent"},[a("span",{staticClass:"title"},[t._v("待办事项")]),t.taskLoading?a("van-loading",{attrs:{size:"26px",type:"spinner",color:"#ffffff"}}):a("span",{staticClass:"value"},[t._v(t._s(t.taskObj.launchedNum))])],1)])])])]),a("div",{staticClass:"dataCenter-plate"},[t._m(0),a("div",{staticClass:"dataCenter-plate__business dataCenter-plate__business-disabled"},[a("div",{staticClass:"dataCenter-plate__header"},[t._v("经营风险板块")]),a("van-swipe",{attrs:{autoplay:3e3}},[a("van-swipe-item",[a("ul",{staticClass:"dataCenter-plate__swipeList"},[a("li",{staticClass:"listItem"},[a("span",{staticClass:"title"},[a("svg",{staticClass:"icon left",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#ytcrm-bianzu1"}})]),a("i",{staticClass:"typeName"},[t._v("逾期")])]),a("span",{staticClass:"value"},[t._v("开发中")])]),a("li",{staticClass:"listItem"},[a("span",{staticClass:"title"},[a("svg",{staticClass:"icon left",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#ytcrm-tuipiao1"}})]),a("i",{staticClass:"typeName"},[t._v("预收")])]),a("span",{staticClass:"value"},[t._v("开发中")])]),a("li",{staticClass:"listItem"},[a("span",{staticClass:"title"},[a("svg",{staticClass:"icon left",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#ytcrm-xiaojuchang1"}})]),a("i",{staticClass:"typeName"},[t._v("召回")])]),a("span",{staticClass:"value"},[t._v("开发中")])])])])],1)],1)]),t.depShow?a("dep-change",{attrs:{innerDepShow:t.depShow},on:{changeSure:t.changeSure,closeClick:function(e){t.depShow=!1}}}):t._e()],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dataCenter-plate__quality dataCenter-plate__quality-disabled"},[a("div",{staticClass:"dataCenter-plate__header"},[t._v("经营质量板块")]),a("ul",{staticClass:"dataCenter-plate__list"},[a("li",{staticClass:"listItem"},[a("span",{staticClass:"title"},[t._v("缺货率")]),a("span",{staticClass:"value"},[t._v("开发中")])]),a("li",{staticClass:"listItem"},[a("span",{staticClass:"title"},[t._v("应收周转")]),a("span",{staticClass:"value"},[t._v("开发中")])]),a("li",{staticClass:"listItem"},[a("span",{staticClass:"title"},[t._v("存货周转")]),a("span",{staticClass:"value"},[t._v("开发中")])]),a("li",{staticClass:"listItem"},[a("span",{staticClass:"title"},[t._v("退货率")]),a("span",{staticClass:"value"},[t._v("开发中")])])])])}],n=a("1da1"),r=a("d4ec"),c=a("bee2"),o=a("262e"),l=a("2caf"),p=(a("b0c0"),a("96cf"),a("9ab4")),d=a("1b40"),u=a("91dc"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list"},[a("div",{staticClass:"depName"},[t._v(t._s(t.item.DEPT_NAME))]),a("div",{staticClass:"sales"},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#ytcrm-icon-xiaoshoue"}})]),a("span",{staticClass:"number"},[t._v(t._s(t.item.DEPT_CURRENT_TOTAL)+"万")])]),a("div",{staticClass:"percent"},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#ytcrm-zhanbi"}})]),a("span",{staticClass:"number"},[t._v(t._s(t.item.BUGET_COMPLETE_RATE)+"%")])]),a("div",{staticClass:"progress"},[a("span",[t._v("较预算进度")]),a("span",{staticClass:"more"},[t._v(t._s(t.item.BUGET_COMPLETE_RATE_TARGET>=0?"+":"-")+t._s(t.item.BUGET_COMPLETE_RATE_TARGET)+"p")])])])},v=[],C=function(t){Object(o["a"])(a,t);var e=Object(l["a"])(a);function a(){return Object(r["a"])(this,a),e.apply(this,arguments)}return Object(c["a"])(a)}(d["d"]);Object(p["a"])([Object(d["c"])()],C.prototype,"item",void 0),C=Object(p["a"])([Object(d["a"])({})],C);var f=C,m=f,b=(a("dddb"),a("2877")),_=Object(b["a"])(m,h,v,!1,null,"64f587d7",null),O=_.exports,g=a("d2339"),j=a("d258"),k=a("8cfc"),y=a("4bb5"),S=Object(y["a"])("bigData"),w=function(t){Object(o["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;return Object(r["a"])(this,a),t=e.apply(this,arguments),t.depShow=!1,t.currentRate=10,t.performanceLoading=!1,t.customLoading=!1,t.customObj={},t.taskLoading=!1,t.taskObj={},t.taskSupervisionShow=!1,t.taskSupervisionDetailShow=!1,t.taskListObj={},t.depSonExpand=!1,t}return Object(c["a"])(a,[{key:"depChangeClick",value:function(){this.depShow=!0}},{key:"changeSure",value:function(t){this.SET_DEPTOBJ(t),this._performanceGeneral()}},{key:"_performanceGeneral",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.performanceLoading=!0,t.next=3,this.actionPerformanceGeneral({crmDeptId:this.deptObj.id,selectedDateStr:this.dateTimeUse});case 3:this.performanceLoading=!1;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"achievementClick",value:function(){this.$router.push({path:"/problemGrubIndex"})}},{key:"_getVisitStatistics",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.customLoading=!0,t.next=3,Object(k["m"])({deptId:this.deptObj.id,selectedDate:this.dateTimeUse});case 3:e=t.sent,this.customLoading=!1,this.customObj=e.data;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"_getSynergiaOrderInfo",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.taskLoading=!0,t.next=3,Object(k["k"])({});case 3:e=t.sent,this.taskObj=e.data,this.taskLoading=!1;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"init",value:function(){var t=this;this.treeList.length>0?(this.deptObj||this.SET_DEPTOBJ(this.treeList[0]),this.provinceCityList.currentYearPercent||this.actionProvinceCity({deptId:this.deptObj.id,deptName:this.deptObj.name,selectedDateStr:this.dateTimeUse}),this.performanceObj.currentYearPercent||this._performanceGeneral(),this._getVisitStatistics(),this._getSynergiaOrderInfo()):(this.performanceLoading=!0,this.actionGetreeList().then((function(e){0===e.length?t.$dialog.confirm({message:"当前登录人员没有查看权限！<br/>请联系管理员授权",allowHtml:!0,confirmButtonText:"确定",beforeClose:function(t,e){e()}}):(t.deptObj||t.SET_DEPTOBJ(t.treeList[0]),t.provinceCityList||t.actionProvinceCity({deptId:t.deptObj.id,deptName:t.deptObj.name,selectedDateStr:t.dateTimeUse}),t.performanceObj.currentYearPercent||t._performanceGeneral(),t._getVisitStatistics(),t._getSynergiaOrderInfo())})))}},{key:"taskListClick",value:function(t){this.taskListObj=t,this.taskSupervisionDetailShow=!0}},{key:"mounted",value:function(){this.init()}}]),a}(d["d"]);Object(p["a"])([S.Action],w.prototype,"actionGetreeList",void 0),Object(p["a"])([S.Action],w.prototype,"actionProvinceCity",void 0),Object(p["a"])([S.Action],w.prototype,"actionPerformanceGeneral",void 0),Object(p["a"])([S.Action],w.prototype,"actionGetSonDeptSales",void 0),Object(p["a"])([S.Mutation],w.prototype,"SET_DEPTOBJ",void 0),Object(p["a"])([S.Mutation],w.prototype,"SET_PERFORMANCEOBJ",void 0),Object(p["a"])([S.Getter],w.prototype,"treeList",void 0),Object(p["a"])([S.Getter],w.prototype,"provinceCityList",void 0),Object(p["a"])([S.Getter],w.prototype,"dateTime",void 0),Object(p["a"])([S.Getter],w.prototype,"dateTimeUse",void 0),Object(p["a"])([S.Getter],w.prototype,"deptObj",void 0),Object(p["a"])([S.Getter],w.prototype,"performanceObj",void 0),w=Object(p["a"])([Object(d["a"])({components:{depChange:u["a"],salesList:O,taskSupervision:g["a"],taskSupervisionDetail:j["a"]},beforeRouteEnter:function(t,e,a){a((function(t){"TaskSupervision"!==e.name&&(t.SET_PERFORMANCEOBJ({}),t.init(),t._getSynergiaOrderInfo())}))},beforeRouteLeave:function(t,e,a){this.depShow||this.taskSupervisionShow?(this.depShow=!1,this.taskSupervisionDetailShow?this.taskSupervisionDetailShow=!1:this.taskSupervisionShow=!1,a(!1)):a(!0)}})],w);var x=w,T=x,L=(a("1d828"),Object(b["a"])(T,s,i,!1,null,"19a60475",null));e["default"]=L.exports},"1d828":function(t,e,a){"use strict";a("0473")},2106:function(t,e,a){},"344b":function(t,e,a){"use strict";a("bf5a")},"91dc":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-popup",{staticClass:"depChange",style:{height:"100%"},attrs:{position:"top",closeable:""},on:{close:t.closeClick},model:{value:t.depShow,callback:function(e){t.depShow=e},expression:"depShow"}},[a("div",{staticClass:"depChange-header fontWeight"},[t._v("请选择部门信息")]),a("van-search",{attrs:{placeholder:"请输入部门名称"},on:{input:t.searchTreeInput},model:{value:t.searchTreeValue,callback:function(e){t.searchTreeValue=e},expression:"searchTreeValue"}}),a("div",{staticClass:"depChange-dep"},[t._v("当前选择："+t._s(t.nowDepObj.name))]),a("vs-tree",{ref:"depTree",attrs:{checkboxType:{Y:"",N:"p"},"disabled-keys":t.disabledKeys,"checked-keys":t.checkedKeys,"show-checkbox":"",checkOnClickNode:!0,highlightCurrent:!0,data:t.treeList},on:{click:t.depClick,check:t.depClick}}),a("div",{staticClass:"depChange-button"},[a("van-button",{attrs:{size:"small",type:"info",color:"#3561f2",round:""},on:{click:t.changeSure}},[t._v("确定")]),a("van-button",{attrs:{size:"small",type:"default",round:""},on:{click:t.closeClick}},[t._v("取消")])],1)],1)},i=[],n=a("1da1"),r=a("d4ec"),c=a("bee2"),o=a("262e"),l=a("2caf"),p=(a("96cf"),a("4de4"),a("d3b7"),a("159b"),a("b0c0"),a("9ab4")),d=a("1b40"),u=a("4bb5"),h=Object(u["a"])("bigData"),v=function(t){Object(o["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;return Object(r["a"])(this,a),t=e.apply(this,arguments),t.depShow=!1,t.checkedKeys=[],t.expandKeys=[],t.searchTreeValue="",t.nowDepObj={},t}return Object(c["a"])(a,[{key:"searchTreeInput",value:function(t){this.$refs.depTree.filter(t)}},{key:"depClick",value:function(t,e){var a=e.data,s=e.disabled,i=this.$refs.depTree,n=i.getCheckedNodes(!0);n.forEach((function(t){i.getNodeById(t.id).setChecked(!1)})),this.$nextTick((function(){i.getNodeById(a.id).setChecked(!0)})),s||(this.nowDepObj=a)}},{key:"changeSure",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.nowDepObj.id){t.next=3;break}return this.$toast.fail("请选择要切换的部门"),t.abrupt("return");case 3:this.depShow=!1,this.actionProvinceCity({deptId:this.nowDepObj.id,deptName:this.nowDepObj.name,selectedDateStr:this.dateTimeUse}),this.$emit("changeSure",this.nowDepObj);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"closeClick",value:function(){this.depShow=!1,this.$emit("closeClick")}},{key:"mounted",value:function(){var t=this;this.treeList.length>0?this.depShow=this.innerDepShow:this.actionGetreeList().then((function(){t.depShow=t.innerDepShow}))}}]),a}(d["d"]);Object(p["a"])([h.Action],v.prototype,"actionGetreeList",void 0),Object(p["a"])([h.Action],v.prototype,"actionProvinceCity",void 0),Object(p["a"])([h.Getter],v.prototype,"treeList",void 0),Object(p["a"])([h.Getter],v.prototype,"dateTime",void 0),Object(p["a"])([h.Getter],v.prototype,"dateTimeUse",void 0),Object(p["a"])([Object(d["c"])()],v.prototype,"innerDepShow",void 0),Object(p["a"])([Object(d["c"])()],v.prototype,"disabledKeys",void 0),v=Object(p["a"])([Object(d["a"])({})],v);var C=v,f=C,m=(a("344b"),a("2877")),b=Object(m["a"])(f,s,i,!1,null,"2f9dc860",null);e["a"]=b.exports},bf5a:function(t,e,a){},dddb:function(t,e,a){"use strict";a("2106")}}]);