(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e64a725"],{"04d4":function(t,e,a){"use strict";a("8b50")},"0523":function(t,e,a){"use strict";a("5969")},26994:function(t,e,a){"use strict";a("73db")},3876:function(t,e,a){},4428:function(t,e,a){"use strict";a("3876")},"53ae":function(t,e,a){"use strict";var n=a("d4ec"),r=a("bee2"),c=a("262e"),o=a("2caf"),s=(a("b0c0"),a("9ab4")),i=a("1b40");i["a"].registerHooks(["beforeRouteEnter"]);var l=function(t){Object(c["a"])(a,t);var e=Object(o["a"])(a);function a(){var t;return Object(n["a"])(this,a),t=e.apply(this,arguments),t.page=1,t.total=0,t.dataList=[],t.loading=!1,t.finished=!1,t.refreshing=!1,t.finishText="",t.userIdList=[],t.error=!1,t}return Object(r["a"])(a,[{key:"beforeRouteEnter",value:function(t,e,a){a((function(t){"Home"!==e.name&&"TaskIndex"!==e.name||(t.dataList=[],t.page=1,t.loading=!1,t.finished=!0,t.refreshing=!1,t.$nextTick((function(){t.finished=!1})))}))}}]),a}(i["d"]);l=Object(s["a"])([Object(i["a"])({})],l),e["a"]=l},5969:function(t,e,a){},"73db":function(t,e,a){},8093:function(t,e,a){},"8b50":function(t,e,a){},a95d:function(t,e,a){"use strict";a("8093")},c50b:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-sticky",{attrs:{"offset-top":0}},[a("div",{staticClass:"header d-flex align-center"},[a("div",{staticClass:"flex-1 pl-8"},[t._v(t._s(t.paramsObj.deptName))]),a("div",{staticClass:"flex-1 textAlignR pr-8",on:{click:t.calendarClick}},[a("span",{staticClass:"time"},[t._v(t._s(t.paramsObj.date))]),a("van-icon",{staticClass:"pl-1",attrs:{size:"14px",name:"arrow-down"}})],1)])]),a("Header",{staticClass:"headerFixed",attrs:{type:t.paramsObj.id},nativeOn:{click:function(e){return t.backClick.apply(null,arguments)}}}),a("div",{staticStyle:{"padding-top":"54px","padding-bottom":"40px"}},[1===+t.paramsObj.id?a("div",{staticClass:"px-2"},t._l(t.ingredientList,(function(t){return a("CfCard",{key:t.labelId,attrs:{type:t.labelId,item:t}})})),1):t._e(),2===+t.paramsObj.id||3===+t.paramsObj.id?a("div",[2===+t.paramsObj.id?a("div",{staticClass:"px-2"},t._l(t.typeObjList,(function(t,e){return a("CardLine",{key:e,attrs:{typeObj:t}})})),1):a("div",{staticClass:"px-2"},t._l(t.KAtypeObjList,(function(t,e){return a("CardLine",{key:e,attrs:{typeObj:t}})})),1),2===+t.paramsObj.id?a("div",[a("van-tabs",{attrs:{color:"#3561f2"},on:{click:t.tabClick}},t._l(t.levelList,(function(t,e){return a("van-tab",{key:e,staticClass:"background-color-white",attrs:{title:t}})})),1)],1):a("div",[a("van-tabs",{attrs:{color:"#3561f2"},on:{click:t.tabClick}},t._l(t.KAlevelList,(function(t,e){return a("van-tab",{key:e,staticClass:"background-color-white",attrs:{title:t}})})),1)],1),a("van-list",{attrs:{offset:"20",finished:t.finished,"finished-text":t.finishText},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[2===+t.paramsObj.id?a("div",[t.loading||t.customObjList.length?t._e():a("app-empty",{staticClass:"pb-6 white-bg",attrs:{description:"暂无数据"}}),t._l(t.customObjList,(function(e,n){return a("CustomCard",{key:n,attrs:{lineShow:t.customObjList.length-1!==n,customObj:e}})}))],2):a("div",[t.loading||t.KAObjList.length?t._e():a("app-empty",{staticClass:"pb-6 white-bg",attrs:{description:"暂无数据"}}),t._l(t.KAObjList,(function(e,n){return a("CustomCard",{key:n,attrs:{lineShow:t.KAObjList.length-1!==n,customObj:e}})}))],2)])],1):t._e()]),a("van-calendar",{attrs:{"default-date":t.csjNowTime,"min-date":new Date(2021,0,1),"max-date":new Date((new Date).getTime()-864e5),"first-day-of-week":"1",color:"#1989fa","show-confirm":!1},on:{select:t.selectCalendar},model:{value:t.calendarShow,callback:function(e){t.calendarShow=e},expression:"calendarShow"}})],1)},r=[],c=a("1da1"),o=a("5530"),s=a("d4ec"),i=a("bee2"),l=a("262e"),u=a("2caf"),b=(a("96cf"),a("d3b7"),a("d81d"),a("99af"),a("3ca3"),a("ddb0"),a("9ab4")),d=a("1b40"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cfwdCard background-color-white mb-2 pa-2"},[a("div",{staticClass:"cfwdCard-header px-2"},[a("div",{staticClass:"color-gray-5 font-16 fontWeight-500"},[t._v(t._s(t.item.labelTitle))]),a("div",{staticClass:"py-2"},[t._v(" 营收贡献 "),a("span",{staticClass:"color-main"},[t._v(t._s(t.item.contributePercent)+"%")]),t._v("，净增贡献 "),a("span",{staticClass:"color-main"},[t._v(t._s(t.item.monthNetIncreasePercent)+"%，"+t._s(t.item.effectPercent>0?"拉升":"降低")+t._s("--"===t.item.effectPercent?t.item.effectPercent:Math.abs(t.item.effectPercent))+"个百分点")])])]),a("div",{staticClass:"d-flex justify-space-between px-2 py-2"},[a("ul",{staticClass:"flex-2"},[a("li",{staticClass:"color-second font-14"},[t._v("本年累计")]),a("li",{staticClass:"font-16 fontWeight py-2"},[t._v(t._s(t.item.yearAmount))])]),a("ul",{staticClass:"flex-1"},[a("li",{staticClass:"color-second textAlignC font-14"},[t._v("净增")]),a("li",{staticClass:"font-16 py-2 textAlignR color-main"},[t._v(" "+t._s(t.item.yearNetIncreaseAmount>0?"+":"")+t._s(t.item.yearNetIncreaseAmount)+" ")])]),a("ul",{staticClass:"flex-2 textAlignR"},[a("li",{staticClass:"color-second font-14"},[t._v("同比增长")]),a("li",{staticClass:"font-16 py-2",class:t.getColor(t.item.yearOnPercent)},[t._v(" "+t._s(t.item.yearOnPercent>0?"+":"")+t._s(t.item.yearOnPercent)+"% ")])])]),t._l(t.item.listItem,(function(e,n){return a("div",{key:"row"+n,staticClass:"cfwdCard-rowLine font-14 d-flex px-2 align-center color-gray-2 justify-space-between mb-1"},[a("span",{staticClass:"flex-2"},[t._v(t._s(e.label))]),a("span",{staticClass:"flex-1 textAlignR"},[t._v(t._s(e.yearAmount))]),a("span",{staticClass:"color-normal flex-2 textAlignR",class:t.getColor(e.yearOnPercent)},[t._v(t._s(e.yearOnPercent>0?"+":"")+t._s(e.yearOnPercent)+"%")])])}))],2)},f=[],O=function(t){Object(l["a"])(a,t);var e=Object(u["a"])(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return Object(i["a"])(a,[{key:"getColor",get:function(){return function(t){return t>0?"color-normal":"color-never"}}}]),a}(d["d"]);Object(b["a"])([Object(d["c"])({default:1})],O.prototype,"type",void 0),Object(b["a"])([Object(d["c"])({default:1})],O.prototype,"item",void 0),O=Object(b["a"])([Object(d["a"])({})],O);var j=O,y=j,p=(a("04d4"),a("2877")),h=Object(p["a"])(y,m,f,!1,null,"32bf2045",null),v=h.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cardLine pa-3 mb-2"},[a("div",{staticClass:"d-flex align-center"},[a("div",{staticClass:"flex-1"},[a("van-tag",{attrs:{color:"#D9E1FF","text-color":"#3561F2"}},[t._v(t._s(t.typeObj.top))])],1),a("span",{staticClass:"flex-2 color-gray-5"},[t._v(t._s(t.typeObj.objName))]),a("div",{staticClass:"flex-3"},[a("van-progress",{attrs:{percentage:t.typeObj.proportion,"show-pivot":!1,color:"#3561F2"}})],1)]),a("div",{staticClass:"d-flex pt-2"},[a("ul",{staticClass:"flex-1 d-flex flex-column"},[a("li",{staticClass:"titleValue color-gray-4 font-14"},[t._v("数量")]),a("li",{staticClass:"numberValue color-gray-5 font-16"},[t._v(t._s(t.typeObj.objNumber))])]),a("ul",{staticClass:"flex-1 d-flex flex-column"},[a("li",{staticClass:"titleValue color-gray-4 font-14"},[t._v("本年累计")]),a("li",{staticClass:"numberValue color-gray-5 font-16"},[t._v(t._s(t.typeObj.yearAmount))])]),a("ul",{staticClass:"flex-1 d-flex flex-column"},[a("li",{staticClass:"titleValue color-gray-4 font-14"},[t._v("净增")]),a("li",{staticClass:"numberValue color-main-2 font-16"},[t._v(" "+t._s(t.typeObj.yearNetIncrease>0?"+":"")+t._s(t.typeObj.yearNetIncrease)+" ")])]),a("ul",{staticClass:"flex-1 d-flex flex-column"},[a("li",{staticClass:"titleValue color-gray-4 font-14"},[t._v("同比增长")]),a("li",{staticClass:"numberValue font-16",class:t.getColor(t.typeObj.yearOnPercent)},[t._v(" "+t._s(t.typeObj.yearOnPercent>0?"+":"")+t._s(t.typeObj.yearOnPercent)+"% ")])])]),a("div",[t._v(" 营收贡献 "),a("span",{staticClass:"color-main-2"},[t._v(t._s(t.typeObj.contributePercent)+"%")]),t._v(" ，净增贡献 "),a("span",{staticClass:"color-main-2"},[t._v(t._s(t.typeObj.monthNetIncreasePercent)+"%")]),t._v(" ， "),a("span",{staticClass:"color-main-2"},[t._v(t._s(t.typeObj.effectPercent>0?"拉升":"降低")+t._s(t.typeObj.effectPercent)+"个百分点")])])])},g=[],P=function(t){Object(l["a"])(a,t);var e=Object(u["a"])(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return Object(i["a"])(a,[{key:"getColor",get:function(){return function(t){return t>0?"color-normal":"color-never"}}}]),a}(d["d"]);Object(b["a"])([Object(d["c"])()],P.prototype,"typeObj",void 0),P=Object(b["a"])([Object(d["a"])({})],P);var _=P,x=_,N=(a("a95d"),Object(p["a"])(x,C,g,!1,null,"f07d2904",null)),A=N.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"px-2 pt-2",staticStyle:{"background-color":"#f5f6f9",height:"39px"}},[a("div",{staticClass:"header color-main d-flex align-center",class:"header-"+t.type},[a("van-icon",{staticClass:"ml-5 mr-1",attrs:{color:"#3561F2",name:"arrow-left",size:"16px"}}),a("span",{staticClass:"font-14"},[t._v(t._s(t.titleText()))])],1)])},k=[],L=function(t){Object(l["a"])(a,t);var e=Object(u["a"])(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return Object(i["a"])(a,[{key:"titleText",get:function(){var t=this;return function(){return 1===+t.type?"按成分维度查看":2===+t.type?"按客户维度查看":3===+t.type?"按KA品牌查看":void 0}}},{key:"mounted",value:function(){}}]),a}(d["d"]);Object(b["a"])([Object(d["c"])({default:1})],L.prototype,"type",void 0),L=Object(b["a"])([Object(d["a"])({})],L);var w=L,S=w,T=(a("0523"),Object(p["a"])(S,I,k,!1,null,"77d82ff9",null)),Y=T.exports,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"customCard px-4 py-2"},[a("div",{staticClass:"color-gray-5 fontWight-500 font-16"},[t._v(t._s(t.customObj.objName))]),a("div",{staticClass:"d-flex pt-2"},[a("ul",{staticClass:"flex-2 d-flex flex-column"},[a("li",{staticClass:"titleValue color-gray-4 font-14"},[t._v("本月累计")]),a("li",{staticClass:"numberValue fontWight-500 color-gray-5 font-16"},[t._v(t._s(t.customObj.monthAmount))])]),a("ul",{staticClass:"flex-2 d-flex flex-column"},[a("li",{staticClass:"titleValue color-gray-4 font-14"},[t._v("净增")]),a("li",{staticClass:"numberValue fontWight-500 color-main-2 font-16"},[t._v(" "+t._s(t.customObj.monthNetIncrease>0?"+":"")+t._s(t.customObj.monthNetIncrease)+" ")])]),a("ul",{staticClass:"flex-1 d-flex flex-column"},[a("li",{staticClass:"titleValue color-gray-4 font-14"},[t._v("月同比")]),a("li",{staticClass:"numberValue fontWight-500 font-16",class:t.getColor(t.customObj.monthOnPercent)},[t._v(" "+t._s(t.customObj.monthOnPercent>0?"+":"")+t._s(t.customObj.monthOnPercent)+"% ")])])]),a("div",{staticClass:"d-flex pt-2"},[a("ul",{staticClass:"flex-2 d-flex flex-column"},[a("li",{staticClass:"titleValue color-gray-4 font-14"},[t._v("本年累计")]),a("li",{staticClass:"numberValue fontWight-500 color-gray-5 font-16"},[t._v(t._s(t.customObj.yearAmount))])]),a("ul",{staticClass:"flex-2 d-flex flex-column"},[a("li",{staticClass:"titleValue color-gray-4 font-14"},[t._v("净增")]),a("li",{staticClass:"numberValue fontWight-500 color-main-2 font-16"},[t._v(" "+t._s(t.customObj.yearNetIncrease>0?"+":"")+t._s(t.customObj.yearNetIncrease)+" ")])]),a("ul",{staticClass:"flex-1 d-flex flex-column"},[a("li",{staticClass:"titleValue color-gray-4 font-14"},[t._v("年同比")]),a("li",{staticClass:"numberValue fontWight-500 font-16",class:t.getColor(t.customObj.yearOnPercent)},[t._v(" "+t._s(t.customObj.yearOnPercent>0?"+":"")+t._s(t.customObj.yearOnPercent)+"% ")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.lineShow,expression:"lineShow"}],staticClass:"line mt-4"})])},V=[],E=function(t){Object(l["a"])(a,t);var e=Object(u["a"])(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return Object(i["a"])(a,[{key:"getColor",get:function(){return function(t){return t>0?"color-normal":"color-never"}}}]),a}(d["d"]);Object(b["a"])([Object(d["c"])()],E.prototype,"customObj",void 0),Object(b["a"])([Object(d["c"])()],E.prototype,"lineShow",void 0),E=Object(b["a"])([Object(d["a"])({})],E);var K=E,$=K,D=(a("26994"),Object(p["a"])($,B,V,!1,null,"1c88c6b6",null)),F=D.exports,R=a("2279"),W=a("5b92"),M=a("53ae"),J=a("4bb5"),z=Object(J["a"])("app"),H=function(t){Object(l["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.paramsObj={},t.typeObjList=[{top:"",objName:"",proportion:"",objNumber:"",yearAmount:"",yearNetIncrease:"",yearOnPercent:"",monthNetIncreasePercent:"",effectPercent:"",contributePercent:""},{top:"",objName:"",proportion:"",objNumber:"",yearAmount:"",yearNetIncrease:"",yearOnPercent:"",monthNetIncreasePercent:"",effectPercent:"",contributePercent:""},{top:"",objName:"",proportion:"",objNumber:"",yearAmount:"",yearNetIncrease:"",yearOnPercent:"",monthNetIncreasePercent:"",effectPercent:"",contributePercent:""},{top:"",objName:"",proportion:"",objNumber:"",yearAmount:"",yearNetIncrease:"",yearOnPercent:"",monthNetIncreasePercent:"",effectPercent:"",contributePercent:""}],t.KAtypeObjList=[{top:"",objName:"",proportion:"",objNumber:"",yearAmount:"",yearNetIncrease:"",yearOnPercent:"",monthNetIncreasePercent:"",effectPercent:"",contributePercent:""},{top:"",objName:"",proportion:"",objNumber:"",yearAmount:"",yearNetIncrease:"",yearOnPercent:"",monthNetIncreasePercent:"",effectPercent:"",contributePercent:""},{top:"",objName:"",proportion:"",objNumber:"",yearAmount:"",yearNetIncrease:"",yearOnPercent:"",monthNetIncreasePercent:"",effectPercent:"",contributePercent:""},{top:"",objName:"",proportion:"",objNumber:"",yearAmount:"",yearNetIncrease:"",yearOnPercent:"",monthNetIncreasePercent:"",effectPercent:"",contributePercent:""}],t.customObjList=[],t.KAObjList=[],t.levelList=["省级","市级","县级","基层","社零","民营"],t.fixCategory="省级",t.fixBrandCategory="进口合资",t.KAlevelList=["进口合资","国产创新","传统中药","其他分类"],t.ingredientList=[],t.dateTime="",t.calendarShow=!1,t}return Object(i["a"])(a,[{key:"backClick",value:function(){this.$router.go(-1)}},{key:"_getStatByCentralizedLabel",value:function(){var t=this;return new Promise((function(e){Object(R["J"])(Object(o["a"])(Object(o["a"])({},t.paramsObj),{},{loading:!1})).then((function(a){t.$set(t.ingredientList,1,{labelTitle:"集采带量",labelId:1,contributePercent:Object(W["d"])(a.data.contributePercent,2),monthNetIncreasePercent:Object(W["d"])(a.data.netIncreaseContributePercent,2),effectPercent:Object(W["d"])(a.data.effectPercent,2),yearAmount:Object(W["d"])(a.data.yearAmount,1),yearNetIncreaseAmount:Object(W["d"])(a.data.yearNetIncreaseAmount,1),yearOnPercent:Object(W["d"])(a.data.yearOnPercent,2),listItem:[{label:"中标",yearAmount:Object(W["d"])(a.data.onBidYearAmount,1),yearOnPercent:Object(W["d"])(a.data.onBidYearOnPercent,2)},{label:"非中标",yearAmount:Object(W["d"])(a.data.outBidYearAmount,1),yearOnPercent:Object(W["d"])(a.data.outBidYearOnPercent,2)},{label:"院外",yearAmount:Object(W["d"])(a.data.nonStateCustomerYearAmount,1),yearOnPercent:Object(W["d"])(a.data.nonStateCustomerYearOnPercent,2)},{label:"院内",yearAmount:Object(W["d"])(a.data.stateCustomerYearAmount,1),yearOnPercent:Object(W["d"])(a.data.stateCustomerYearOnPercent,2)}]}),e(!0)}))}))}},{key:"_getStatByInnovationLabel",value:function(){var t=this;return new Promise((function(e){Object(R["K"])(Object(o["a"])({},t.paramsObj)).then((function(a){t.$set(t.ingredientList,0,{labelTitle:"创新药",labelId:0,contributePercent:Object(W["d"])(a.data.contributePercent,2),monthNetIncreasePercent:Object(W["d"])(a.data.netIncreaseContributePercent,2),effectPercent:Object(W["d"])(a.data.effectPercent,2),yearAmount:Object(W["d"])(a.data.yearAmount,1),yearNetIncreaseAmount:Object(W["d"])(a.data.yearNetIncreaseAmount,1),yearOnPercent:Object(W["d"])(a.data.yearOnPercent,2),listItem:[{label:"国谈",yearAmount:Object(W["d"])(a.data.nationNegotiateYearAmount,1),yearOnPercent:Object(W["d"])(a.data.nationNegotiateYearOnPercent,2)},{label:"非国谈",yearAmount:Object(W["d"])(a.data.nonNationNegotiateYearAmount,1),yearOnPercent:Object(W["d"])(a.data.nonNationNegotiateYearOnPercent,2)},{label:"院外",yearAmount:Object(W["d"])(a.data.nonStateCustomerYearAmount,1),yearOnPercent:Object(W["d"])(a.data.nonStateCustomerYearOnPercent,2)},{label:"院内",yearAmount:Object(W["d"])(a.data.stateCustomerYearAmount,1),yearOnPercent:Object(W["d"])(a.data.stateCustomerYearOnPercent,2)}]}),e(!0)}))}))}},{key:"_getStatByTopPipeline",value:function(){var t=this;return new Promise((function(e){Object(R["L"])(Object(o["a"])({},t.paramsObj)).then((function(a){t.$set(t.ingredientList,2,{labelTitle:"头部管线",labelId:2,contributePercent:Object(W["d"])(a.data.contributePercent,2),monthNetIncreasePercent:Object(W["d"])(a.data.netIncreaseContributePercent,2),effectPercent:Object(W["d"])(a.data.effectPercent,2),yearAmount:Object(W["d"])(a.data.yearAmount,1),yearNetIncreaseAmount:Object(W["d"])(a.data.yearNetIncreaseAmount,1),yearOnPercent:Object(W["d"])(a.data.yearOnPercent,2),listItem:[{label:"肿瘤",yearAmount:Object(W["d"])(a.data.cancerYearAmount,1),yearOnPercent:Object(W["d"])(a.data.cancerYearOnPercent,2)},{label:"慢病",yearAmount:Object(W["d"])(a.data.chronicDiseasesYearAmount,1),yearOnPercent:Object(W["d"])(a.data.chronicDiseasesYearOnPercent,2)},{label:"四大类",yearAmount:Object(W["d"])(a.data.fourCategoryYearAmount,1),yearOnPercent:Object(W["d"])(a.data.fourCategoryYearOnPercent,2)},{label:"细分",yearAmount:Object(W["d"])(a.data.segmentYearAmount,1),yearOnPercent:Object(W["d"])(a.data.segmentYearOnPercent,2)}]}),e(!0)}))}))}},{key:"_getTopScale",value:function(){var t=this;return new Promise((function(e){Object(R["Q"])(Object(o["a"])({},t.paramsObj)).then((function(a){t.typeObjList=a.data.map((function(t,e){return{top:"TOP"+(e+1),objName:t.customerCategoryName,proportion:Object(W["d"])(t.proportion,2),objNumber:t.customerNum?t.customerNum+"家":"--",yearAmount:Object(W["d"])(t.yearAmount,1),yearNetIncrease:Object(W["d"])(t.yearNetIncrease,1),yearOnPercent:Object(W["d"])(t.yearOnPercent,2),monthNetIncreasePercent:Object(W["d"])(t.netIncreaseContributePercent,2),effectPercent:Object(W["d"])(t.effectPercent,2),contributePercent:Object(W["d"])(t.contributePercent,2)}})),e(!0)}))}))}},{key:"_getFixCategoryDetailList",value:function(){var t=this;Object(R["t"])(Object(o["a"])(Object(o["a"])({},this.paramsObj),{},{fixCategory:this.fixCategory,pageNum:this.page,pageSize:20})).then((function(e){var a=e.data.list.map((function(t){return{objId:t.customerId,objName:t.customerName,monthAmount:Object(W["d"])(t.monthAmount,1),monthNetIncrease:Object(W["d"])(t.monthNetIncrease,1),monthOnAmount:Object(W["d"])(t.monthOnAmount,1),monthOnPercent:Object(W["d"])(t.monthOnPercent,2),yearAmount:Object(W["d"])(t.yearAmount,1),yearNetIncrease:Object(W["d"])(t.yearNetIncrease,1),yearOnAmount:Object(W["d"])(t.yearOnAmount,1),yearOnPercent:Object(W["d"])(t.yearOnPercent,2)}}));t.customObjList=t.customObjList.concat(a),e.data.hasNextPage?t.page++:t.finished=!0,t.loading=!1}))}},{key:"_getStatByBrandCategory",value:function(){var t=this;return new Promise((function(e){Object(R["I"])(Object(o["a"])({},t.paramsObj)).then((function(a){t.KAtypeObjList=a.data.map((function(t,e){return{top:"品牌合计"===t.brandCategoryName?"TOTAL":"TOP"+(e+1),objName:t.brandCategoryName,proportion:Object(W["d"])(t.proportion,2),objNumber:t.brandCount?t.brandCount+"个":"--",yearAmount:Object(W["d"])(t.yearAmount,1),yearNetIncrease:Object(W["d"])(t.yearNetIncrease,1),yearOnPercent:Object(W["d"])(t.yearOnPercent,2),monthNetIncreasePercent:Object(W["d"])(t.netIncreaseContributePercent,2),effectPercent:Object(W["d"])(t.effectPercent,2),contributePercent:Object(W["d"])(t.contributePercent,2)}})),e(!0)}))}))}},{key:"_getFixBrandCategoryDetailList",value:function(){var t=this;Object(R["s"])(Object(o["a"])(Object(o["a"])({},this.paramsObj),{},{fixBrandCategory:this.fixBrandCategory,pageNum:this.page,pageSize:20})).then((function(e){var a=e.data.list.map((function(t){return{objName:t.brandName,monthAmount:Object(W["d"])(t.monthAmount,1),monthNetIncrease:Object(W["d"])(t.monthNetIncrease,1),monthOnAmount:Object(W["d"])(t.monthOnAmount,1),monthOnPercent:Object(W["d"])(t.monthOnPercent,2),yearAmount:Object(W["d"])(t.yearAmount,1),yearNetIncrease:Object(W["d"])(t.yearNetIncrease,1),yearOnAmount:Object(W["d"])(t.yearOnAmount,1),yearOnPercent:Object(W["d"])(t.yearOnPercent,2)}}));t.KAObjList=t.KAObjList.concat(a),e.data.hasNextPage?t.page++:t.finished=!0,t.loading=!1}))}},{key:"onRefresh",value:function(){this.finished=!1,this.loading=!0,this.page=1,this.customObjList=[],this.KAObjList=[],this.onLoad()}},{key:"onLoad",value:function(){this.refreshing&&(this.page=1,this.customObjList=[],this.KAObjList=[],this.refreshing=!1),2===+this.paramsObj.id?this._getFixCategoryDetailList():3===+this.paramsObj.id&&this._getFixBrandCategoryDetailList()}},{key:"tabClick",value:function(t){this.page=1,2===+this.paramsObj.id?this.fixCategory=this.levelList[t]:this.fixBrandCategory=this.KAlevelList[t],this.onRefresh()}},{key:"selectCalendar",value:function(t){this.calendarConfirm(t)}},{key:"calendarConfirm",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.calendarShow=!1,this.SET_CSJNOWTIME(e),this.paramsObj.date=this.$dayjs(e).format("YYYY-MM-DD"),this.SET_CSJCHANGETIME(!0),this.init();case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"calendarClick",value:function(){this.calendarShow=!0}},{key:"created",value:function(){window.scrollTo(0,0)}},{key:"init",value:function(){var t=+this.paramsObj.id;if(this.page=1,this.customObjList=[],this.KAObjList=[],this.refreshing=!1,this.loading=!0,this.finished=!1,1===t){var e=this.$toast.loading({forbidClick:!0,duration:0});Promise.all([this._getStatByCentralizedLabel(),this._getStatByInnovationLabel(),this._getStatByTopPipeline()]).then((function(){e.clear()})).catch((function(){e.clear()}))}else if(2===t){var a=this.$toast.loading({forbidClick:!0,duration:0});this.onLoad(),Promise.all([this._getTopScale()]).then((function(){a.clear()}))}else if(3===t){var n=this.$toast.loading({forbidClick:!0,duration:0});Promise.all([this._getStatByBrandCategory()]).then((function(){n.clear()})),this._getFixBrandCategoryDetailList()}}},{key:"mounted",value:function(){this.paramsObj=this.$route.params,this.init()}}]),a}(Object(d["b"])(M["a"]));Object(b["a"])([z.Mutation],H.prototype,"SET_CSJNOWTIME",void 0),Object(b["a"])([z.Mutation],H.prototype,"SET_CSJCHANGETIME",void 0),Object(b["a"])([z.Getter],H.prototype,"csjNowTime",void 0),H=Object(b["a"])([Object(d["a"])({components:{Header:Y,CfCard:v,CardLine:A,CustomCard:F}})],H);var G=H,Q=G,q=(a("4428"),Object(p["a"])(Q,n,r,!1,null,"3b75d85a",null));e["default"]=q.exports}}]);