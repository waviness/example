(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-502bf209"],{"1c63":function(t,e,s){},"9f6f":function(t,e,s){"use strict";s("1c63")},dc0c:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pa-10 pb-100"},[s("div",{staticClass:"white-block d-flex justify-space-between inner-block"},[s("div",[s("div",[t._v(t._s(t.detailInfor.custId)+"/")]),s("div",[t._v(t._s(t.detailInfor.custName||""))])]),s("div",{staticClass:"d-flex flex-column justify-space-between",staticStyle:{"margin-left":"90px","min-width":"fit-content"}},[s("div",{staticClass:"textAlignR"},[t._v(t._s(t.detailInfor.hospitalLevel||""))]),s("div",{staticClass:"d-flex mt-1"},[s("div",{staticClass:"mr-2"},[t._v("维护人")]),s("div",{staticClass:"color-gray-4"},[t._v(t._s(t.detailInfor.cceId&&t.detailInfor.creName?t.detailInfor.creName:""))])])])]),s("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[s("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了",error:t.error,"error-text":"请求失败，点击重新加载"},on:{"update:error":function(e){t.error=e},load:t.getDataList},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(e){return s("div",{key:e.cueId,staticClass:"gray-block box-shadow mt-2 van-clearfix",on:{click:function(s){return t.toEditUser(3,e)}}},[s("div",{staticClass:"white-block pa-10"},[s("div",{staticClass:"d-flex justify-space-between align-center"},[s("div",{staticClass:"font-15"},[t._v(t._s(e.userId?e.userId+"/"+e.userName:""))]),s("div",[t._v(t._s(e.orgnizationRoleId)+"/"+t._s(e.orgnizationRoleName))])]),s("div",{staticClass:"mt-1"},[t._v(t._s(e.phoneNum))]),s("div",{staticClass:"d-flex align-center mt-4"},[s("div",{staticClass:"width-label color-gray-4"},[t._v("微信号")]),s("div",{staticClass:"flex-1"},[t._v(t._s(e.wxCode))])]),s("div",{staticClass:"d-flex align-center mt-2"},[s("div",{staticClass:"width-label color-gray-4"},[t._v("部门信息")]),s("div",{staticClass:"flex-1"},[t._v(t._s(e.departmentId)+"/"+t._s(e.departmentName))])]),s("div",{staticClass:"d-flex align-center mt-2"},[s("div",{staticClass:"width-label color-gray-4"},[t._v("职位信息")]),s("div",{staticClass:"flex-1"},[t._v(t._s(e.positionId)+"/"+t._s(e.positionName))])]),s("div",{staticClass:"d-flex align-center mt-2"},[s("div",{staticClass:"width-label color-gray-4"},[t._v("维护人")]),s("div",{staticClass:"flex-1"},[t._v(t._s(e.operationId)+"/"+t._s(e.operationName))])]),s("div",{staticClass:"d-flex align-center mt-2"},[s("div",{staticClass:"width-label color-gray-4"},[t._v("状态")]),s("div",{staticClass:"flex-1"},[t._v(" "+t._s(0===e.status?"正式":2===e.status?"退休/离职":3===e.status?"转职":4===e.status?"由转职来":"")+" ")])])]),t.onlyRead?t._e():s("div",{staticClass:"inner-block textAlignR"},[s("van-button",{staticClass:"ml-3 px-10",attrs:{type:"info",size:"mini",round:""},on:{click:function(s){return s.stopPropagation(),t.toEditUser(2,e)}}},[t._v("编辑")]),s("van-button",{staticClass:"ml-3 px-10",attrs:{type:"default",size:"mini",round:"",plain:""},on:{click:function(s){return s.stopPropagation(),t.shareTo(e)}}},[t._v("分享至")]),s("van-button",{staticClass:"ml-3 px-10",attrs:{type:"default",size:"mini",round:"",plain:""},on:{click:function(s){return s.stopPropagation(),t.transferTo(e)}}},[t._v("转职至")]),s("van-button",{staticClass:"ml-3 px-10",attrs:{type:"danger",size:"mini",round:"",plain:""},on:{click:function(s){return s.stopPropagation(),t.deleteUser(e)}}},[t._v("删除")])],1)])})),0)],1),t.onlyRead?t._e():s("fix-button",{attrs:{title:"人员新增",icon:"#ytcrm-renyuan1"},on:{click:function(e){return t.toEditUser(1)}}})],1)},a=[],n=s("1da1"),r=s("d4ec"),o=s("bee2"),l=s("262e"),c=s("2caf"),d=(s("4de4"),s("d3b7"),s("96cf"),s("9ab4")),u=s("1b40"),f=s("4bb5"),v=s("74d2"),h=Object(f["a"])("app"),p=function(t){Object(l["a"])(s,t);var e=Object(c["a"])(s);function s(){var t;return Object(r["a"])(this,s),t=e.apply(this,arguments),t.onlyRead=!1,t.list=[],t.loading=!1,t.finished=!1,t.refreshing=!1,t.error=!1,t}return Object(o["a"])(s,[{key:"onRefresh",value:function(){this.finished=!1,this.loading=!0,this.list=[],this.getDataList()}},{key:"getDataList",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(v["N"])({creId:this.detailInfor.creId,custId:this.detailInfor.custId});case 2:e=t.sent,this.loading=!1,this.refreshing=!1,e.success?(this.list=e.data,this.finished=!0):this.error=!0;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"onConfirm",value:function(){var t=this.$refs.filter;t.toggle(),this.refreshData()}},{key:"refreshData",value:function(){this.list=[],this.finished=!1,this.loading=!0,this.getDataList()}},{key:"transferTo",value:function(t){this.$router.push({name:"CustomerTransfer",params:{cupId:t?t.cupId:"",igonreCustId:this.detailInfor.custId}})}},{key:"deleteUser",value:function(t){var e=this;this.$dialog.confirm({title:"提示",message:"确定删除？",confirmButtonColor:"#2271F5"}).then(Object(n["a"])(regeneratorRuntime.mark((function s(){var i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,Object(v["l"])({cupId:t.cupId});case 2:i=s.sent,i.success?(e.$toast.success(i.msg||"删除成功"),e.refreshData()):e.$toast.fail(i.msg||"删除失败");case 4:case"end":return s.stop()}}),s)})))).catch((function(){}))}},{key:"shareTo",value:function(t){this.$router.push({name:"CustomerShare",params:{shareType:"2",personDetail:t}})}},{key:"toEditUser",value:function(t,e){this.$router.push({name:"CustomerPersonAdd",params:{type:String(t),customerInfo:this.detailInfor,cupId:e?e.cupId:""}})}},{key:"mounted",value:function(){this.list=[],this.onlyRead=this.detailInfor.onlyRead}}]),s}(u["d"]);Object(d["a"])([h.Getter],p.prototype,"detailInfor",void 0),p=Object(d["a"])([Object(u["a"])({})],p);var m=p,g=m,b=(s("9f6f"),s("2877")),_=Object(b["a"])(g,i,a,!1,null,"74a7c3d7",null);e["default"]=_.exports}}]);