(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3eb9f22e"],{"520d":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pb-100"},[a("div",{staticClass:"balance-gross-detail"},[a("van-sticky",[a("div",{staticClass:"header"},[a("div",{staticClass:"header-content d-flex align-center"},[a("div",{staticClass:"flex-1 d-flex align-center"},[t.customerOptions.length>0?a("van-dropdown-menu",{attrs:{"active-color":"#1989fa"}},[a("van-dropdown-item",{attrs:{options:t.customerOptions},on:{change:t.onCustomerChange},model:{value:t.selectedCustomer,callback:function(e){t.selectedCustomer=e},expression:"selectedCustomer"}})],1):t._e()],1),a("div",{staticClass:"flex-1 textAlignR",on:{click:function(e){t.showDatePicker=!0}}},[a("div",{staticClass:"keep_center"},[a("span",{staticClass:"time"},[t._v(t._s(t.getRangeDate(t.currentDate)))]),a("van-icon",{staticClass:"pl-1",attrs:{size:"14px",name:"arrow-down"}})],1)])])])]),a("van-popup",{attrs:{position:"bottom",round:""},model:{value:t.showDatePicker,callback:function(e){t.showDatePicker=e},expression:"showDatePicker"}},[a("van-picker",{attrs:{"show-toolbar":"",title:"选择年月",columns:t.dateColumns},on:{confirm:t.onDateConfirm,cancel:function(e){t.showDatePicker=!1},change:t.onPickerChange}})],1),a("div",{staticClass:"card-container"},[a("div",{staticClass:"scroll-container"},[a("div",{staticClass:"cards-grid"},t._l(t.firstRowCards.concat(t.secondRowCards),(function(e,s){return a("div",{key:s,staticClass:"card"},[a("div",{staticClass:"title"},[t._v(t._s(e.title))]),a("div",{staticClass:"change"},[t.isSplitCard(e.title)?t._l(t.splitChange(e.change),(function(s,n){return a("span",{key:n,staticClass:"icon-center"},[a("i",{class:t.getTrendIconClass(s,e.title)}),a("span",{class:t.getChangeClass(s,e.title)},[t._v(" "+t._s(Math.abs(s))+t._s(t.getUnitByPart(e.title,n))+" ")]),n<t.splitChange(e.change).length-1?a("span",[t._v("/")]):t._e()])})):[a("i",{class:t.getTrendIconClass(e.change,e.title)}),a("span",{class:t.getChangeClass(e.change,e.title)},[t._v(" "+t._s(Math.abs(e.change))+t._s(e.changeUnit)+" ")])]],2),a("div",{staticClass:"value"},[t._v(t._s(e.value)+t._s(e.unit||""))])])})),0)])]),a("div",{staticClass:"table-div"},[a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.tableData.length&&!t.filterParams.loading,expression:"tableData.length == 0 && !filterParams.loading"}],staticClass:"white-block pb-3 mb-4"},[a("app-empty",{staticClass:"py-7",attrs:{description:"暂无数据"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.filterParams.loading,expression:"filterParams.loading"}],staticClass:"d-flex py-8 justify-center align-center"},[a("van-loading",{attrs:{type:"spinner",color:"#1989fa"}})],1),a("div",{staticClass:"table-body background-color-white mt-2"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.tableData.length>0,expression:"tableData.length > 0"}],staticClass:"table-line d-flex font-14 color-gray-5 lineHeight-20 align-center py-3"},[a("div",{staticClass:"table-div-1"},[t._v("品种ID/品种名称")]),a("div",{staticClass:"table-div-2"},[t._v("规格")]),a("div",{staticClass:"table-div-3"},[t._v("平衡毛利(万元)")]),a("div",{staticClass:"table-div-4"},[t._v("平衡毛利率")]),a("div",{staticClass:"table-div-5"},[t._v("销售数量")]),a("div",{staticClass:"table-div-6"},[t._v("无税销售(万元)")]),a("div",{staticClass:"table-div-7"},[t._v("基础毛利率")]),a("div",{staticClass:"table-div-8"},[t._v("上游付款天数")]),a("div",{staticClass:"table-div-9"},[t._v("库存周转天数")]),a("div",{staticClass:"table-div-10"},[t._v("下游回款天数")]),a("div",{staticClass:"table-div-11"},[t._v("采购银行承兑比例")]),a("div",{staticClass:"table-div-12"},[t._v(t._s("968"==t.deptId?"电商及战采销售占比":"内部零售及批发销售占比"))]),a("div",{staticClass:"table-div-13"},[t._v("集采类型")]),a("div",{staticClass:"table-div-14"},[t._v("集采中标状态")]),a("div",{staticClass:"table-div-15"},[t._v("厂家")]),a("div",{staticClass:"table-div-16"},[t._v("采购员")])]),t.tableData.length>0?a("div",{staticClass:"table-content"},t._l(t.tableData,(function(e,s){return a("div",{key:s+"pz",staticClass:"table-line d-flex font-14 color-black-2 lineHeight-20 align-center py-3",style:s%2===0?"background-color: #F7F7F7":""},[a("div",{staticClass:"table-div-1"},[t._v(t._s(e.goodsId)+"/"+t._s(e.goodsName))]),a("div",{staticClass:"table-div-2"},[t._v(t._s(e.goodsType))]),a("div",{staticClass:"table-div-3"},[t._v(t._s(e.phml))]),a("div",{staticClass:"table-div-4"},[t._v(t._s(e.phmll)+"%")]),a("div",{staticClass:"table-div-5"},[t._v(t._s(e.goodsQty))]),a("div",{staticClass:"table-div-6"},[t._v(t._s(e.wsxs))]),a("div",{staticClass:"table-div-7"},[t._v(t._s(e.jcmll?e.jcmll:"-")+"%")]),a("div",{staticClass:"table-div-8"},[t._v(t._s(e.syfkts?e.syfkts:"-"))]),a("div",{staticClass:"table-div-9"},[t._v(t._s(e.kczzts?e.kczzts:"-"))]),a("div",{staticClass:"table-div-10"},[t._v(t._s(e.xyhkts?e.xyhkts:"-"))]),a("div",{staticClass:"table-div-11"},[t._v(t._s(e.cgcdbl?e.cgcdbl:"-")+"%")]),a("div",{staticClass:"table-div-12"},[t._v(t._s("968"==t.deptId?e.dsjzcxszb:e.nblsjpfxszb)+"%")]),a("div",{staticClass:"table-div-13"},[t._v(t._s(t.getProcureTypeText(e.jcType,e.jcBatch)))]),a("div",{staticClass:"table-div-14"},[t._v(t._s(e.isBid?e.isBid:"-"))]),a("div",{staticClass:"table-div-15"},[t._v(t._s(e.factory?e.factory:"-"))]),a("div",{staticClass:"table-div-16"},[t._v(t._s(e.buyerName?e.buyerName:"-"))])])})),0):t._e()]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tableData.length>0,expression:"tableData.length > 0"}],staticClass:"py-4 background-color-white"},[a("van-pagination",{attrs:{"force-ellipses":!0,"total-items":t.filterParams.total,"items-per-page":t.filterParams.pageSize},on:{change:t.updatePagedData},scopedSlots:t._u([{key:"prev-text",fn:function(){return[a("van-icon",{attrs:{name:"arrow-left"}})]},proxy:!0},{key:"next-text",fn:function(){return[a("van-icon",{attrs:{name:"arrow"}})]},proxy:!0},{key:"page",fn:function(e){var a=e.text;return[t._v(t._s(a))]}}]),model:{value:t.filterParams.currentPage,callback:function(e){t.$set(t.filterParams,"currentPage",e)},expression:"filterParams.currentPage"}})],1)]),a("div",{staticClass:"commonOpButton-footer"},[a("van-button",{attrs:{round:"",plain:"",type:"info"},on:{click:t.openFilter}},[a("div",{staticClass:"d-flex align-center"},[a("icon-svg",{staticStyle:{width:"15px",height:"15px"},attrs:{name:"ytcrm-shaixuanfilter1"}}),a("div",{staticClass:"color-main-2 font-12 fontWeight-500 ml-2"},[t._v("高级操作")])],1)])],1),a("van-action-sheet",{attrs:{title:"高级筛选"},model:{value:t.showFilter,callback:function(e){t.showFilter=e},expression:"showFilter"}},[a("div",{staticClass:"px-2 pb-3 font-14"},[a("van-field",{attrs:{label:"品种ID/名称",placeholder:"点击输入品种ID/名称","input-align":"right",clearable:""},model:{value:t.filterObj.goods,callback:function(e){t.$set(t.filterObj,"goods",e)},expression:"filterObj.goods"}}),a("van-field",{attrs:{readonly:"",clickable:"",label:"排序类型",placeholder:"点击选择排序类型","input-align":"right"},on:{click:function(e){t.showSortTypePopup=!0}},model:{value:t.filterObj.sortType,callback:function(e){t.$set(t.filterObj,"sortType",e)},expression:"filterObj.sortType"}}),a("div",{staticClass:"d-flex algin-center justify-space-between mx-2 button-div"},[a("van-button",{attrs:{round:""},on:{click:t.filterRefresh}},[t._v(" 重置 ")]),a("van-button",{attrs:{round:"",type:"info"},on:{click:t.handleFilterOk}},[t._v(" 确定 ")])],1)],1)]),a("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.showSortTypePopup,callback:function(e){t.showSortTypePopup=e},expression:"showSortTypePopup"}},[a("van-picker",{attrs:{"show-toolbar":"",columns:t.sortTypes.map((function(t){return t.text}))},on:{confirm:t.onSortConfirm,cancel:function(e){t.showSortTypePopup=!1}}})],1)],1)])},n=[],i=a("3835"),r=a("5530"),l=a("1da1"),c=a("d4ec"),o=a("bee2"),u=a("262e"),d=a("2caf"),h=(a("96cf"),a("99af"),a("caad"),a("d81d"),a("ac1f"),a("1276"),a("a9e3"),a("b680"),a("4e82"),a("fb6a"),a("d3b7"),a("159b"),a("4fadc"),a("7db0"),a("5319"),a("2532"),a("4d90"),a("9ab4")),p=a("1b40"),v=a("5a0c"),b=a.n(v),f=a("2279"),m=a("5b92"),g=a("b32d"),y=function(t){Object(u["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;return Object(c["a"])(this,a),t=e.apply(this,arguments),t.supplyId=t.$route.query.supplyId,t.deptId=t.$route.query.deptId,t.showDatePicker=!1,t.selectedDate="",t.supplyDate="",t.dateColumns=[],t.availableDate=[],t.selectedCustomer=t.supplyId,t.searchGoods="",t.showFilter=!1,t.showSortTypePopup=!1,t.jcTypeMap=[],t.dateTime=t.$route.query.dateTime,t.currentDate=new Date(t.dateTime?t.dateTime:"2024-08-31"),t.filterObj={goods:"",sortType:""},t.filterParams={total:0,currentPage:1,pageSize:10,allData:[],loading:!1},t.sortTypes=[{text:"平衡毛利正序",value:"phmlAsc"},{text:"平衡毛利倒序",value:"phmlDesc"},{text:"平衡毛利率正序",value:"phmllAsc"},{text:"平衡毛利率倒序",value:"phmllDesc"},{text:"无税金额正序",value:"wsxsAsc"},{text:"无税金额倒序",value:"wsxsDesc"},{text:"基础毛利率正序",value:"jcmllAsc"},{text:"基础毛利率倒序",value:"jcmllDesc"}],t.customerOptions=[],t.tableData=[],t.firstRowCards=[{title:"平衡毛利（万元）",value:0,unit:"",change:0,changeUnit:"%"},{title:"上游付款天数/承兑比例",value:0,unit:"",change:0,changeUnit:"p"},{title:"基础毛利率",value:0,unit:"%",change:0,changeUnit:"p"},{title:"库存资金占用率",value:0,unit:"%",change:0,changeUnit:"p"},{title:"固定费用率",value:0,unit:"%",change:0,changeUnit:"p"},{title:"上游资金收益率",value:0,unit:"%",change:0,changeUnit:"p"}],t.secondRowCards=[{title:"无税销售（万元）",value:0,unit:"",change:0,changeUnit:"%"},{title:"下游回款天数/承兑比例",value:0,unit:"",change:0,changeUnit:"p"},{title:"平衡毛利率",value:0,unit:"%",change:0,changeUnit:"p"},{title:"库存周转天数",value:0,unit:"天",change:0,changeUnit:"p"},{title:"电商及战采销售占比",value:0,unit:"%",change:0,changeUnit:"p"},{title:"下游资金占用率",value:0,unit:"%",change:0,changeUnit:"p"}],t}return Object(o["a"])(a,[{key:"formatDate",value:function(t){return b()(t).format("YYYY-MM-DD")}},{key:"getRangeDate",value:function(t){var e=b()(t).format("YYYY"),a=b()(t).format("M");return"".concat(e,"年1月-").concat(a,"月")}},{key:"onCustomerChange",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.supplyId=e,this.filterParams.currentPage=1,t.next=4,this.fetchBalanceGrossData();case 4:return t.next=6,this.fetchGoodsDetail();case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"isSplitCard",value:function(t){return["上游付款天数/承兑比例","下游回款天数/承兑比例"].includes(t)}},{key:"splitChange",value:function(t){return(t||"").split("/").map(Number)}},{key:"getUnitByPart",value:function(t,e){return"上游付款天数/承兑比例"===t||"下游回款天数/承兑比例"===t?0===e?"":"p":""}},{key:"getChangeClass",value:function(t,e){var a=["下游资金占用率","固定费用率","下游回款天数/承兑比例","电商及战采销售占比","库存资金占用率","库存周转天数"];return a.includes(e)?t>0?"decrease":t<0?"increase":"no-change":t>0?"increase":t<0?"decrease":"no-change"}},{key:"getTrendIconClass",value:function(t,e){var a=["下游资金占用率","固定费用率","下游回款天数/承兑比例","电商及战采销售占比","库存资金占用率","库存周转天数"];return a.includes(e)?t>0?"rank-up-icon2":t<0?"rank-down-icon2":"rank-line-icon":t>0?"rank-up-icon":t<0?"rank-down-icon":"rank-line-icon"}},{key:"fetchBalanceGrossData",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={type:0,deptId:this.deptId,supplierId:this.supplyId,start:this.$dayjs(this.dateTime).startOf("year").format("YYYY-MM-DD"),end:this.dateTime},t.prev=1,t.next=4,Object(f["hb"])(e);case 4:a=t.sent,a.data&&(this.firstRowCards=this.firstRowCards.map((function(t){var e=Object(r["a"])({},t);switch(t.title){case"平衡毛利（万元）":e.value=Object(m["b"])(a.data.phml),e.change=Number(a.data.phmltb).toFixed(2);break;case"上游付款天数/承兑比例":e.value="".concat(Math.round(a.data.syfkts),"天/").concat(Number(a.data.cgyhcdbl).toFixed(2),"%"),e.change="".concat(Number(a.data.syfktstb).toFixed(2),"/").concat(Number(a.data.cgyhcdbltb).toFixed(2));break;case"基础毛利率":e.value=Number(a.data.jcmll).toFixed(2),e.change=Number(a.data.jcmlltb).toFixed(2);break;case"库存资金占用率":e.value=Number(a.data.kczjzyl).toFixed(2),e.change=Number(a.data.kczjzyltb).toFixed(2);break;case"固定费用率":e.value=Number(a.data.gdfyl).toFixed(2),e.change=Number(a.data.gdfyltb).toFixed(2);break;case"上游资金收益率":e.value=Number(a.data.syzjsyl).toFixed(2),e.change=Number(a.data.syzjsyltb).toFixed(2);break}return e})),this.secondRowCards=this.secondRowCards.map((function(t){var e=Object(r["a"])({},t);switch(t.title){case"无税销售（万元）":e.value=Object(m["b"])(a.data.wsxs),e.change=Number(a.data.wsxstb).toFixed(2);break;case"下游回款天数/承兑比例":e.value="".concat(Math.round(a.data.xyhkts),"天/").concat(Number(a.data.xyyhcdbl).toFixed(2),"%"),e.change="".concat(Number(a.data.xyhktstb).toFixed(2),"/").concat(Number(a.data.xyyhcdbltb).toFixed(2));break;case"平衡毛利率":e.value=Number(a.data.phmll).toFixed(2),e.change=Number(a.data.phmlltb).toFixed(2);break;case"库存周转天数":e.value=Math.round(a.data.kczzts),e.change=Number(a.data.kczztstb).toFixed(2);break;case"电商及战采销售占比":e.value=Number(a.data.dsjzcxszb).toFixed(2),e.change=Number(a.data.dsjzcxszbtb).toFixed(2);break;case"下游资金占用率":e.value=Number(a.data.xyzjzyl).toFixed(2),e.change=Number(a.data.xyzjzyltb).toFixed(2);break}return e}))),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1);case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"fetchGoodsDetail",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={deptId:this.deptId,supplierId:this.supplyId,start:this.$dayjs(this.dateTime).startOf("year").format("YYYY-MM-DD"),end:this.dateTime,buyer:"",factory:"",goods:this.searchGoods},this.tableData=[],this.filterParams.loading=!0,t.prev=3,t.next=6,Object(f["ib"])(e);case 6:a=t.sent,this.filterParams.loading=!1,a.data&&(this.filterParams.allData=a.data.map((function(t){return{goodsId:t.goodsId,goodsName:t.goodsName,goodsType:t.goodsType,phml:Object(m["b"])(t.phml),phmll:null!=t.phmll?t.phmll.toFixed(2):"-",goodsQty:null!=t.goodsQty?Object(m["b"])(t.goodsQty):"-",wsxs:Object(m["b"])(t.wsxs),jcmll:null!=t.jcmll?t.jcmll.toFixed(2):"-",syfkts:Math.round(t.syfkts),kczzts:Math.round(t.kczzts),xyhkts:Math.round(t.xyhkts),cgcdbl:null!=t.cgcdbl?t.cgcdbl.toFixed(2):"-",dsjzcxszb:null!=t.dsjzcxszb?t.dsjzcxszb.toFixed(2):"-",nblsjpfxszb:null!=t.nblsjpfxszb?t.nblsjpfxszb.toFixed(2):"-",jcType:null!=t.jcType?t.jcType:"-",jcBatch:null!=t.jcBatch?t.jcBatch:"-",isBid:0==t.isBid?"非中标":1==t.isBid?"中标":"-",factory:t.factory?t.factory:"-",buyerName:t.buyerName?t.buyerName:"-"}})),this.filterParams.total=this.filterParams.allData.length,s=this.filterObj.sortType,"平衡毛利正序"===s?this.filterParams.allData.sort((function(t,e){return t.phml-e.phml})):"平衡毛利倒序"===s?this.filterParams.allData.sort((function(t,e){return e.phml-t.phml})):"平衡毛利率正序"===s?this.filterParams.allData.sort((function(t,e){return parseFloat(t.phmll)-parseFloat(e.phmll)})):"平衡毛利率倒序"===s?this.filterParams.allData.sort((function(t,e){return parseFloat(e.phmll)-parseFloat(t.phmll)})):"无税金额正序"===s?this.filterParams.allData.sort((function(t,e){return t.wsxs-e.wsxs})):"无税金额倒序"===s?this.filterParams.allData.sort((function(t,e){return e.wsxs-t.wsxs})):"基础毛利率正序"===s?this.filterParams.allData.sort((function(t,e){return parseFloat(t.jcmll)-parseFloat(e.jcmll)})):"基础毛利率倒序"===s&&this.filterParams.allData.sort((function(t,e){return parseFloat(e.jcmll)-parseFloat(t.jcmll)})),this.updatePagedData()),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](3);case 14:case"end":return t.stop()}}),t,this,[[3,11]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"updatePagedData",value:function(){var t=(this.filterParams.currentPage-1)*this.filterParams.pageSize,e=t+this.filterParams.pageSize;this.tableData=this.filterParams.allData.slice(t,e)}},{key:"openFilter",value:function(){this.showFilter=!0}},{key:"filterRefresh",value:function(){this.filterObj={goods:"",sortType:""}}},{key:"transformData",value:function(t){var e={};return t.forEach((function(t){var a=t.year,s=t.month;e[a]||(e[a]=[]),e[a].push(s)})),Object.entries(e).map((function(t){var e=Object(i["a"])(t,2),a=e[0],s=e[1];return{year:parseInt(a,10),month:s.sort((function(t,e){return t-e}))}})).sort((function(t,e){return t.year-e.year}))}},{key:"getProcureTypeText",value:function(t,e){if(null===t||null===e)return"-";var a=this.jcTypeMap.find((function(e){return e.procureTypeId===t}));return a?"".concat(a.procureTypeName,"第").concat(e,"批次"):"-"}},{key:"onSortConfirm",value:function(t){var e=this.sortTypes.find((function(e){return e.text===t}));e&&(this.filterObj.sortType=e.text),this.showSortTypePopup=!1}},{key:"handleFilterOk",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.showFilter=!1,this.searchGoods=this.filterObj.goods,t.next=4,this.fetchGoodsDetail();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"fetchSupplierList",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.query.filterResult,a={deptId:this.deptId,type:1,start:this.$dayjs(this.supplyDate).startOf("year").format("YYYY-MM-DD"),end:this.supplyDate,search:e},t.prev=2,t.next=5,Object(f["jb"])(a);case 5:s=t.sent,s.data&&(this.customerOptions=s.data.map((function(t){return{text:"".concat(t.supplyId,"/").concat(t.supplyName),value:t.supplyId}}))),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2);case 12:case"end":return t.stop()}}),t,this,[[2,9]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"initDateColumns",value:function(){var t=this.availableDate.map((function(t){return"".concat(t.year,"年1月至")})),e=this.availableDate[this.availableDate.length-1],a=e.month.map((function(t){return"".concat(t,"月")}));this.dateColumns=[{values:t,defaultIndex:t.length-1},{values:a,defaultIndex:a.length-1}]}},{key:"onPickerChange",value:function(t,e,a){if(0===a){var s=parseInt(e[0].replace("年1月至",""),10),n=this.availableDate.find((function(t){return t.year===s}));if(n){var i=n.month.map((function(t){return"".concat(t,"月")}));t.setColumnValues(1,i),i.includes(e[1])||t.setColumnIndex(1,0)}}}},{key:"onDateConfirm",value:function(t){this.selectedDate="".concat(t[0]).concat(t[1]),this.showDatePicker=!1;var e=t[0].replace("年1月至",""),a=t[1].replace("月",""),s="".concat(e,"-").concat(String(a).padStart(2,"0"),"-01");this.dateTime=s,this.currentDate=new Date(s),this.filterParams.currentPage=1,this.fetchGoodsDetail(),this.fetchBalanceGrossData()}},{key:"getJcTypeMap",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(f["gb"])();case 3:e=t.sent,e.data&&(this.jcTypeMap=e.data),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"mounted",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getJcTypeMap();case 2:return t.next=4,Object(f["U"])({deptId:this.deptId});case 4:return e=t.sent,e&&e.data&&(this.availableDate=this.transformData(e.data),a=this.availableDate[this.availableDate.length-1],s=a.month[a.month.length-1],this.supplyDate="".concat(a.year,"-").concat(String(s).padStart(2,"0"),"-01"),this.initDateColumns()),this.filterObj.sortType="平衡毛利倒序",t.next=9,this.fetchSupplierList();case 9:return t.next=11,this.fetchBalanceGrossData();case 11:return t.next=13,this.fetchGoodsDetail();case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"destroyed",value:function(){Object(g["b"])()}}]),a}(p["d"]);y=Object(h["a"])([Object(p["a"])({components:{}})],y);var x=y,k=x,C=(a("866e"),a("2877")),w=Object(C["a"])(k,s,n,!1,null,"ebea7a86",null);e["default"]=w.exports},5267:function(t,e,a){},"866e":function(t,e,a){"use strict";a("5267")}}]);