(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f12d4ac"],{"39b3":function(t,a,e){},8410:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"full-HW"},[e("switch-and-statistics",{attrs:{nowName:t.nowName,isHome:!0,info:t.info,showZl:1==t.mode,selectMode:t.selectMode},on:{openSelect:t.openSelect,toDetail:t.toDetail,changeTime:t.changeTime}}),e("div",{staticStyle:{margin:"8px 10px 0 10px"}},[e("div",{staticClass:"white-block",style:0==t.mode?"padding: 10px 16px 16px 4px":"padding: 10px 16px"},[e("div",{staticClass:"color-black-2 font-15 fontWeight lineHeight-21 mb-3",style:0==t.mode?"padding-left: 10px":""},[t._v(" 销售 ")]),e("div",{staticClass:"d-flex"},[1===t.mode||2===t.mode?e("router-link",{staticClass:"d-flex align-center flex-column block-content",attrs:{to:{name:"organizationList"}},nativeOn:{click:function(a){return t.cdpModuleClick(1,"组织")}}},[e("div",{staticClass:"icon-div-zuzhi"}),e("div",{staticClass:"color-black-2 font-14 lineHeight-20"},[t._v("组织")])]):t._e(),0!=t.mode?e("router-link",{staticClass:"d-flex align-center flex-column block-content",attrs:{to:{name:"departmentList"}},nativeOn:{click:function(a){return t.cdpModuleClick(2,"部门")}}},[e("div",{staticClass:"icon-div-bumeng"}),e("div",{staticClass:"color-black-2 font-14 lineHeight-20"},[t._v("部门")])]):t._e(),0!=t.mode?e("router-link",{staticClass:"d-flex align-center flex-column block-content",attrs:{to:{name:"staffList"}},nativeOn:{click:function(a){return t.cdpModuleClick(3,"员工")}}},[e("div",{staticClass:"icon-div-yuangong"}),e("div",{staticClass:"color-black-2 font-14 lineHeight-20"},[t._v("员工")])]):t._e(),0==t.mode?e("router-link",{staticClass:"d-flex align-center flex-column",attrs:{to:{name:"analysisList",query:{isAnalysis:!0}}},nativeOn:{click:function(a){return t.cdpModuleClick(4,"自助分析")}}},[e("div",{staticClass:"icon-div-zzfx"}),e("div",{staticClass:"color-black-2 font-14 lineHeight-20"},[t._v("自助分析")])]):t._e()],1)]),e("div",{staticClass:"white-block mt-2",staticStyle:{padding:"10px 16px 16px 4px"}},[e("div",{staticClass:"color-black-2 font-15 fontWeight lineHeight-21 mb-3",staticStyle:{"padding-left":"10px"}},[t._v("管理")]),e("div",{staticClass:"d-flex justify-space-between"},[e("router-link",{staticClass:"d-flex align-center flex-column",attrs:{to:{name:"TaskSupervision"}},nativeOn:{click:function(a){return t.cdpModuleClick(5,"督办协同")}}},[e("van-badge",{attrs:{content:t.dbCount}},[e("div",{staticClass:"icon-div-dbxt"})]),e("div",{staticClass:"color-black-2 font-14 lineHeight-20"},[t._v("督办协同")])],1)],1)])]),e("select-popup",{ref:"selectPopup",attrs:{nowData:t.nowData,selectMode:t.selectMode},on:{changeChoose:t.changeChoose}})],1)},i=[],o=e("d4ec"),s=e("bee2"),c=e("262e"),r=e("2caf"),d=(e("b0c0"),e("d3b7"),e("25f0"),e("9ab4")),l=e("1b40"),u=e("020e"),f=e("8b7c"),h=e("d926"),m=e("8cfc"),b=function(t){Object(c["a"])(e,t);var a=Object(r["a"])(e);function e(){var t;return Object(o["a"])(this,e),t=a.apply(this,arguments),t.dbCount=0,t.active=2,t.selectMode=0,t}return Object(s["a"])(e,[{key:"changeChoose",value:function(t){this.nowName=t.name,this.nowData=t.id}},{key:"toDetail",value:function(){this.$crmUserClick({catalogType:1,catalogTypeName:"CDP",cucrId:"",menuId:6,menuName:"CDP首页箭头",menuOperation:"首页箭头点击跳转",operationType:0});var t={name:this.nowName,id:this.nowData,isJump:1!=this.mode,fromHome:!0};switch(this.mode){case 0:this.$router.push({name:"staffList",query:t});break;case 1:this.$router.push({name:"organizationList",query:t});break;case 2:this.$router.push({name:"organizationList",query:t});break;case 3:this.$router.push({name:"departmentList",query:t});break}}},{key:"changeTime",value:function(){this.initData()}},{key:"initData",value:function(){switch(this.mode){case 0:this._getDataUserSalesDetail();break;case 1:this._dataCenterHome();break;case 2:this._dataCenterHome();break;case 3:this._dataCenterHome();break}this._getSynergiaOrderInfo()}},{key:"_getSynergiaOrderInfo",value:function(){var t=this;Object(m["k"])({}).then((function(a){200==a.code&&a.data?t.dbCount=a.data.pendingNum?a.data.pendingNum:0:t.dbCount=0}))}},{key:"_dataCenterHome",value:function(){var t=this,a=Object(h["c"])(this.nowTime),e={deptId:this.nowData,date:a,type:1,hideLoading:!0},n=this.$toast.loading({forbidClick:!1,duration:0});Object(f["b"])(e).then((function(a){n.clear(),200==a.code&&a.data?(t.info.data1=a.data.dailySales?a.data.dailySales:0,t.info.data2=a.data.unStrategySales?a.data.unStrategySales:0,t.info.data3=a.data.monthSales?a.data.monthSales:0,t.info.data4=a.data.lastMonthSales?a.data.lastMonthSales:0,t.info.data5=a.data.monthGrowthRate?a.data.monthGrowthRate:0,t.info.data6=a.data.yearSales?a.data.yearSales:0,t.info.data7=a.data.lastYearSales?a.data.lastYearSales:0,t.info.data8=a.data.yearGrowthRate?a.data.yearGrowthRate:0,t.info.data10=a.data.tzYearGrowthRate?a.data.tzYearGrowthRate:0):(t.info.data1=0,t.info.data2=0,t.info.data3=0,t.info.data4=0,t.info.data5=0,t.info.data6=0,t.info.data7=0,t.info.data8=0,t.info.data10=0)}))}},{key:"_getDataUserSalesDetail",value:function(){var t=this,a={selectDate:Object(h["d"])(this.nowTime),userId:this.nowData};Object(f["g"])(a).then((function(a){200==a.code&&a.data&&(t.info.data1=a.data.currentDayMoney?a.data.currentDayMoney:0,t.info.data3=a.data.currentMonthMoney?a.data.currentMonthMoney:0,t.info.data4=a.data.lyCurrentMonthMoney?a.data.lyCurrentMonthMoney:0,t.info.data5=a.data.monthPercentage?a.data.monthPercentage:0,t.info.data6=a.data.currentYearMoney?a.data.currentYearMoney:0,t.info.data7=a.data.lyCurrentYearMoney?a.data.lyCurrentYearMoney:0,t.info.data8=a.data.yearPercentage?a.data.yearPercentage:0)}))}},{key:"setDate",value:function(){var t=this;setTimeout((function(){switch(t.mode){case 0:t.selectMode=3,t.nowName=t.userInfor.userName,t.nowData=t.userInfor.userId.toString();break;case 1:t.selectMode=0,t.sybOriginList.length>0?(t.nowName=t.sybOriginList[0].name,t.nowData=t.sybOriginList[0].id.toString()):t.setDate();break;case 2:t.selectMode=0,t.xszxOriginList.length>0?(t.nowName=t.xszxOriginList[0].name,t.nowData=t.xszxOriginList[0].id.toString()):t.setDate();break;case 3:t.selectMode=2,t.bmList.length>0?(t.nowName=t.bmList[0].name,t.nowData=t.bmList[0].id.toString()):t.setDate();break}}),1e3)}},{key:"cdpModuleClick",value:function(t,a){this.$crmUserClick({catalogType:1,catalogTypeName:"CDP",cucrId:"",menuId:t,menuName:a,menuOperation:"CDP首页已授权模块载入",operationType:0})}},{key:"activated",value:function(){this.nowData?this.initData():this.setDate()}},{key:"initFirstData",value:function(){this.nowData&&this.initData()}}]),e}(Object(l["b"])(u["a"]));Object(d["a"])([Object(l["e"])("nowData")],b.prototype,"initFirstData",null),b=Object(d["a"])([Object(l["a"])({beforeRouteLeave:function(t,a,e){this.closeSelect(),"organizationList"==t.name||"departmentList"==t.name||"staffList"==t.name?(t.meta.isFresh=!0,e(!0)):("analysisList"==t.name||(this.nowData=null),e(!0))}})],b);var g=b,p=g,y=(e("b18b"),e("2877")),v=Object(y["a"])(p,n,i,!1,null,"dae878c6",null);a["default"]=v.exports},b18b:function(t,a,e){"use strict";e("39b3")}}]);