(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b3ac484"],{"005c":function(t,e,n){},"16b9":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-sticky",[n("div",{staticClass:"visitRecord py-3 white-bg d-flex font-16"},[n("div",{staticClass:"flex-1 textAlignC"},[t._v("客情概览")]),n("div",{staticClass:"flex-2 d-flex pl-4 align-center textAlignC",on:{click:t.changeDate}},[n("span",{staticClass:"pr-4"},[t._v(" "+t._s(t.$dayjs(t.dateRange[0]).format("YYYY-MM-DD"))+" ~ "+t._s(t.$dayjs(t.dateRange[1]).format("YYYY-MM-DD"))+" ")]),n("van-icon",{attrs:{name:"arrow-down"}})],1)])]),n("ul",{staticClass:"pa-2 d-flex"},[n("li",{staticClass:"d-flex flex-1 pa-2 justify-space-between align-center main-2-block"},[n("span",{staticClass:"color-white d-flex flex-column"},[n("span",[t._v("拜访客户数")]),n("span",{staticClass:"font-24 pt-2"},[t._v(t._s(t.numberObj.visitCstmNum))])]),n("app-icon",{staticClass:"copy-content pl-1",attrs:{name:"#ytcrm-xingzhuangjiehe3"}})],1),n("li",{staticClass:"ml-2 flex-1 pa-2 d-flex justify-space-between align-center white-block"},[n("span",{staticClass:"d-flex flex-column"},[n("span",[t._v("接待客户数")]),n("span",{staticClass:"font-24 color-main-2 pt-2"},[t._v(t._s(t.numberObj.receiveCstmNum))])]),n("app-icon",{attrs:{name:"#ytcrm-a-xingzhuangjiehe11"}})],1),n("li",{staticClass:"ml-2 flex-1 pa-2 d-flex justify-space-between align-center white-block"},[n("span",{staticClass:"d-flex flex-column"},[n("span",[t._v("协访客户数")]),n("span",{staticClass:"font-24 color-main-2 pt-2"},[t._v(t._s(t.numberObj.assistVisitCstmNum))])]),n("app-icon",{attrs:{name:"#ytcrm-a-xingzhuangjiehe22"}})],1)]),t.dataList.length>0?n("div",{staticClass:"table-div mt-2"},[n("div",{staticClass:"table-body background-color-white"},[t._m(0),n("div",{staticClass:"table-content"},t._l(t.dataList,(function(e,r){return n("div",{key:r,staticClass:"table-line d-flex font-14 color-black-2 lineHeight-20 align-center py-3",style:r%2===0?"background-color: #F7F7F7":"",on:{click:function(n){return t.lineClick(e)}}},[n("div",{staticClass:"table-div-1 flex-2 pl-4"},[t._v(t._s(e.userId)+"/ "+t._s(e.userName))]),n("div",{staticClass:"table-div-2 flex-3"},[t._v(" "+t._s(e.projectName)+" ")]),n("div",{staticClass:"table-div-3 flex-2"},[t._v(" "+t._s(e.upVisitNum)+" ")])])})),0)]),n("div",{staticClass:"background-color-white"},[n("van-pagination",{attrs:{"force-ellipses":!0,"total-items":t.params.total,"items-per-page":t.params.size},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"prev-text",fn:function(){return[n("van-icon",{attrs:{name:"arrow-left"}})]},proxy:!0},{key:"next-text",fn:function(){return[n("van-icon",{attrs:{name:"arrow"}})]},proxy:!0},{key:"page",fn:function(e){var n=e.text;return[t._v(t._s(n))]}}],null,!1,3075570953),model:{value:t.params.currentPage,callback:function(e){t.$set(t.params,"currentPage",e)},expression:"params.currentPage"}})],1)]):t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:0==t.dataList.length,expression:"dataList.length == 0"}],staticClass:"white-block pb-3 mb-4"},[n("app-empty",{staticClass:"py-7",attrs:{description:"暂无数据"}})],1),n("van-calendar",{attrs:{type:"range","default-date":t.dateRange,"min-date":new Date(2023,0,1),"max-date":new Date,color:"#1989fa"},on:{select:t.selectCalendar,confirm:t.calendarConfirm},model:{value:t.calendarShow,callback:function(e){t.calendarShow=e},expression:"calendarShow"}})],1)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"table-line d-flex font-14 color-gray-5 lineHeight-20 align-center py-3"},[n("div",{staticClass:"table-div-1 flex-2 pl-4"},[t._v("业务员")]),n("div",{staticClass:"table-div-2 flex-3"},[t._v("项目")]),n("div",{staticClass:"table-div-3 flex-2"},[t._v("拜访客户数")])])}],s=n("d4ec"),i=n("bee2"),u=n("262e"),c=n("2caf"),o=(n("b0c0"),n("9ab4")),p=n("1b40"),l=n("6e5a");p["a"].registerHooks(["beforeRouteEnter"]);var m=function(t){Object(u["a"])(n,t);var e=Object(c["a"])(n);function n(){var t;return Object(s["a"])(this,n),t=e.apply(this,arguments),t.dateRange=[],t.calendarShow=!1,t.numberObj={visitCstmNum:"",assistVisitCstmNum:"",receiveCstmNum:""},t.params={currentPage:1,total:0,size:8},t.dataList=[],t}return Object(i["a"])(n,[{key:"changeDate",value:function(){this.calendarShow=!0}},{key:"selectCalendar",value:function(t){this.dateRange=t}},{key:"calendarConfirm",value:function(t){this.calendarShow=!1,this.dateRange=t,this.params.currentPage=1,this._getSzymUserProjectVisit(),this._getSzymUserVisitStat()}},{key:"_getSzymUserVisitStat",value:function(){var t=this;Object(l["k"])({userIdList:[],startTime:this.$dayjs(this.dateRange[0]).format("YYYY-MM-DD")+" 00:00:00",endTime:this.$dayjs(this.dateRange[1]).format("YYYY-MM-DD")+" 23:59:59"}).then((function(e){var n=e.data,r=n.visitCstmNum,a=n.assistVisitCstmNum,s=n.receiveCstmNum;t.numberObj.visitCstmNum=r,t.numberObj.assistVisitCstmNum=a,t.numberObj.receiveCstmNum=s}))}},{key:"_getSzymUserProjectVisit",value:function(){var t=this;Object(l["g"])({userIdList:[],startTime:this.$dayjs(this.dateRange[0]).format("YYYY-MM-DD")+" 00:00:00",endTime:this.$dayjs(this.dateRange[1]).format("YYYY-MM-DD")+" 23:59:59",pageNum:this.params.currentPage,pageSize:this.params.size}).then((function(e){t.dataList=e.data.list,t.params.total=e.data.total}))}},{key:"handleTableChange",value:function(){this._getSzymUserProjectVisit()}},{key:"lineClick",value:function(t){this.$router.push({name:"medicalCustomerFollow",query:{userId:t.userId,projectId:t.projectId}})}},{key:"beforeRouteEnter",value:function(t,e,n){n((function(t){"CrmIndex"!==e.name&&"Home"!==e.name||(t.dateRange=[new Date(t.$dayjs().subtract(29,"day")),new Date],t._getSzymUserProjectVisit(),t._getSzymUserVisitStat())}))}},{key:"mounted",value:function(){this.dateRange=[new Date(this.$dayjs().subtract(29,"day")),new Date]}}]),n}(p["d"]);m=Object(o["a"])([Object(p["a"])({})],m);var f=m,d=f,g=(n("7536"),n("2877")),h=Object(g["a"])(d,r,a,!1,null,"ac362534",null);e["default"]=h.exports},"6e5a":function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"r",(function(){return u})),n.d(e,"d",(function(){return c})),n.d(e,"l",(function(){return o})),n.d(e,"m",(function(){return p})),n.d(e,"a",(function(){return l})),n.d(e,"i",(function(){return m})),n.d(e,"b",(function(){return f})),n.d(e,"e",(function(){return d})),n.d(e,"f",(function(){return g})),n.d(e,"k",(function(){return h})),n.d(e,"g",(function(){return v})),n.d(e,"h",(function(){return y})),n.d(e,"j",(function(){return b})),n.d(e,"n",(function(){return w})),n.d(e,"q",(function(){return x})),n.d(e,"p",(function(){return C})),n.d(e,"o",(function(){return j}));var r=n("1da1"),a=(n("99af"),n("96cf"),n("b32d")),s=n("90ae"),i=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post(s["c"],"/api/SzymCustomerManager/getSzymCustomerMng",e,e.hideloading);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post(s["c"],"/api/SzymCustomerManager/updSzymCustomer",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(s["c"],"/api/SzymCustomerManager/getSzymCustomerStaff",e,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(s["c"],"/api/SzymCustomerManager/getUserByPhoneNum",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post(s["c"],"/api/SzymCustomerManager/optSzymCustomerStaff?szymCustomerId="+e.szymCustomerId,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post(s["c"],"/api/SzymCustomerManager/dltSzymCustomerStaff?scStaffId="+e.scStaffId,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post(s["c"],"/api/SzymUserVisit/getSzymUserVisit",e,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(s["c"],"/api/SzymCustomer/getSzymCustomerContact",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(s["c"],"/api/SzymCustomer/getSzymCustomerTransport",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post(s["c"],"/api/SzymProjectMng/getSzymProjectMng",e,e.loading);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post(s["c"],"/api/SzymUserVisit/getSzymUserVisitStat",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post(s["c"],"/api/SzymUserVisit/getSzymUserProjectVisit",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post(s["c"],"/api/SzymUserVisit/getSzymUserVisiByUserProject",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(s["c"],"/api/SzymUserVisit/getSzymUserVisitBySuvId",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post(s["c"],"/api/SzymUserVisit/optSzymUserVisit",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post(s["c"],"/api/SzymUserVisit/optSzymUserVisitPic?suvId=".concat(e.suvId,"&deleteFlag=").concat(e.deleteFlag),e.list);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),C=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post(s["c"],"/api/SzymUserVisit/optSzymUserVisitLabelRemark",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].dataPost(s["c"],"/api/SzymUserVisit/optSzymUserVisitClockIn",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},7536:function(t,e,n){"use strict";n("005c")}}]);