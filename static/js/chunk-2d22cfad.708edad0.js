(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22cfad"],{f618:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pb-8"},[a("DepartIndex",{ref:"departIndex3",attrs:{deptLevel:3,enterDeptObj:e.deptObj,dateTime:e.$dayjs(e.csjNowTime).format("YYYY-MM-DD"),departNameTabs:e.departNameTabs,salesDataObj:e.salesDataObj,echartsWarpName:"echartsSalesWarp"},on:{calendarClick:e.calendarClick,tabsChange:e.tabsChange}}),a("LineWarp",{attrs:{enterDeptObj:e.deptObj,deptLevel:2,dateTime:e.$dayjs(e.csjNowTime).format("YYYY-MM-DD")}}),a("van-calendar",{attrs:{"default-date":e.csjNowTime,"min-date":new Date(2021,0,1),"max-date":new Date((new Date).getTime()-864e5),"first-day-of-week":"1",color:"#1989fa","show-confirm":!1},on:{select:e.selectCalendar},model:{value:e.calendarShow,callback:function(t){e.calendarShow=t},expression:"calendarShow"}})],1)},d=[],r=a("1da1"),c=a("d4ec"),i=a("bee2"),s=a("262e"),o=a("2caf"),p=(a("d81d"),a("b0c0"),a("96cf"),a("9ab4")),l=a("1b40"),m=a("3268"),u=a("5b92"),b=a("32b4"),h=a("5420"),j=function(e){Object(s["a"])(a,e);var t=Object(o["a"])(a);function a(){var e;return Object(c["a"])(this,a),e=t.apply(this,arguments),e.calendarShow=!1,e.deptObj={},e.salesDataObj={},e.departNameTabs=[],e.nowTabValue=0,e}return Object(i["a"])(a,[{key:"selectCalendar",value:function(e){this.calendarConfirm(e)}},{key:"calendarConfirm",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.calendarShow=!1,this.SET_CSJNOWTIME(t),this._getQuickOverviewMix({date:this.$dayjs(this.csjNowTime).format("YYYY-MM-DD"),deptLevel:2,deptId:this.deptObj.deptId,deptName:this.deptObj.deptName,full:!0}).then((function(e){a.init(e.data)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"calendarClick",value:function(){this.calendarShow=!0}},{key:"shortNameGet",get:function(){return function(e){return"省级医院销售部"===e?"省级":"市级医院销售部"===e?"市级":"市外医院销售部"===e?"市外":"中成药销售部"===e?"中成药":"杭州社区医院销售部"===e?"社区":e}}},{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$route.params.deptId&&(this.deptObj=this.$route.params);var a=t||this.csjDepartObj[2];this.salesDataObj={loading:!0,cdmoney:Object(u["d"])(a.cdmoney,1),cmcircleOnPercent:Object(u["d"])(a.cmcircleOnPercent,2),cmmoney:Object(u["d"])(a.cmmoney,1),cmonPercent:Object(u["d"])(a.cmonPercent,2),cmperiodIncrease:Object(u["d"])(a.cmperiodIncrease,1),cymoney:Object(u["d"])(a.cymoney,1),cyonPercent:Object(u["d"])(a.cyonPercent,2),cyperiodIncrease:Object(u["d"])(a.cyperiodIncrease,1),increaseGoal:Object(u["d"])(a.increaseGoal,2),comparedTarget:a.increaseGoal?Object(u["d"])(this.$arithmetic.subtract(a.cyonPercent,a.increaseGoal),2):"--"},this.departNameTabs=a.sonDeptList.map((function(t){return{deptId:t.deptId,deptLevel:t.deptLevel,deptParentId:t.deptParentId,shortName:e.shortNameGet(t.deptName),showName:t.deptName,hasClick:t.drillDownFlag}})),this.$nextTick((function(){e.$refs.departIndex3._getQuickOverview({deptName:e.departNameTabs[e.nowTabValue].showName,deptId:e.departNameTabs[e.nowTabValue].deptId}),e.$refs.departIndex3._getMonthCumulativeMoney({deptName:e.deptObj.deptName,deptId:e.deptObj.deptId})}))}},{key:"tabsChange",value:function(e){this.nowTabValue=e}},{key:"created",value:function(){this.init()}},{key:"beforeRouteEnter",value:function(e,t,a){a((function(e){"DrugIndex"===t.name&&e.init(),"DimensionIndex"===t.name&&(e.$nextTick((function(){var t=e.$refs.departIndex3;t.myChart||t._getMonthCumulativeMoney({deptName:e.deptObj.deptName,deptId:e.deptObj.deptId})})),e.csjChangeTime&&e._getQuickOverviewMix({date:e.$dayjs(e.csjNowTime).format("YYYY-MM-DD"),deptLevel:2,deptId:e.deptObj.deptId,deptName:e.deptObj.deptName,full:!0}).then((function(t){e.init(t.data)})))}))}}]),a}(Object(l["b"])(h["a"]));j=Object(p["a"])([Object(l["a"])({components:{DepartIndex:m["a"],LineWarp:b["a"]}})],j);var f=j,O=f,v=a("2877"),w=Object(v["a"])(O,n,d,!1,null,"547644df",null);t["default"]=w.exports}}]);