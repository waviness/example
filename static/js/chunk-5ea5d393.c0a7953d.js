(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5ea5d393"],{"015d":function(t,e,a){},"020e":function(t,e,a){"use strict";var s=a("d4ec"),i=a("bee2"),n=a("262e"),o=a("2caf"),c=a("9ab4"),r=a("1b40"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-popup",{staticClass:"full-HW",attrs:{position:"top"},model:{value:t.showPopup,callback:function(e){t.showPopup=e},expression:"showPopup"}},[a("div",{staticClass:"px-4 py-2 d-flex align-center"},[4===t.selectMode?a("van-popover",{attrs:{trigger:"click",actions:t.option1},on:{select:t.onSelect},scopedSlots:t._u([{key:"reference",fn:function(){return[a("div",{staticClass:"select-text mr-2"},[a("span",{staticClass:"font-14"},[t._v(t._s(t.searchType))]),a("van-icon",{staticClass:"mt-1",staticStyle:{float:"right"},attrs:{name:"arrow-down",size:"14",color:"#969799"}})],1)]},proxy:!0}],null,!1,496864744),model:{value:t.showPopover,callback:function(e){t.showPopover=e},expression:"showPopover"}}):t._e(),a("van-field",{attrs:{placeholder:t.getPlaceholder,"left-icon":"search"},on:{input:t.search},model:{value:t.params.keyword,callback:function(e){t.$set(t.params,"keyword",e)},expression:"params.keyword"}})],1),1===t.selectMode||0===t.selectMode?a("div",{staticClass:"popup-body"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.sybList.length>0,expression:"sybList.length > 0"}],staticClass:"zz-div color-black-2 font-14 pl-3 van-popup-bg"},[t._v("事业部")]),t._l(t.sybList,(function(e,s){return a("div",{key:s+"syb",staticClass:"popup-data d-flex align-center justify-space-between pl-3 pr-4 font-14",on:{click:function(a){return t.chooseData(e,!1)}}},[a("span",{class:t.nowData==e.id?"color-main-2":"color-black-2"},[t._v(t._s(e.name))]),a("van-icon",{staticClass:"color-gray-4",attrs:{name:"arrow"}})],1)})),a("div",{directives:[{name:"show",rawName:"v-show",value:t.xszxList.length>0,expression:"xszxList.length > 0"}],staticClass:"zz-div color-black-2 font-14 pl-3 van-popup-bg"},[t._v("销售中心")]),t._l(t.xszxList,(function(e,s){return a("div",{key:s+"xszx",staticClass:"popup-data d-flex align-center justify-space-between pl-3 pr-4 font-14",on:{click:function(a){return t.chooseData(e,!0)}}},[a("span",{class:t.nowData==e.id?"color-main-2":"color-black-2"},[t._v(t._s(e.name))]),a("van-icon",{staticClass:"color-gray-4",attrs:{name:"arrow"}})],1)})),0==t.sybList.length&&0==t.xszxList.length?a("app-empty",{staticStyle:{"margin-top":"200px"},attrs:{description:"暂无数据"}}):t._e()],2):t._e(),1!==t.selectMode&&0!==t.selectMode?a("van-list",{staticClass:"popup-body",attrs:{finished:t.params.finished},on:{load:t.onLoad},model:{value:t.params.loading,callback:function(e){t.$set(t.params,"loading",e)},expression:"params.loading"}},[t._l(t.selectList,(function(e,s){return a("div",{key:s,staticClass:"popup-data d-flex align-center justify-space-between pl-3 pr-4 font-14",on:{click:function(a){return t.chooseData(e,!1)}}},[a("span",{class:t.nowData==e.id?"color-main-2":"color-black-2"},[t._v(" "+t._s(3===t.selectMode?e.name+"("+e.department+")":3===t.selectMode?e.id+"/"+e.name:e.name)+" ")]),a("van-icon",{staticClass:"color-gray-4",attrs:{name:"arrow"}})],1)})),0==t.selectList.length?a("app-empty",{staticStyle:{"margin-top":"200px"},attrs:{description:"暂无数据"}}):t._e()],2):t._e()],1)},d=[],p=a("b85c"),h=(a("e9c4"),a("caad"),a("2532"),a("b0c0"),a("d3b7"),a("159b"),a("a9e3"),a("8b7c")),u=a("4bb5"),f=Object(u["a"])("cdp"),g=function(t){Object(n["a"])(a,t);var e=Object(o["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.showPopup=!1,t.selectOriginList=[],t.selectList=[],t.sybList=[],t.xszxList=[],t.option1=[{text:"客户"},{text:"品种"}],t.searchType="客户",t.showPopover=!1,t.params={pageNum:1,pageSize:30,keyword:"",total:0,loading:!1,finished:!1},t}return Object(i["a"])(a,[{key:"getPlaceholder",get:function(){switch(this.selectMode){case 1:return"输入组织关键词";case 2:return"输入部门关键词";case 3:return"输入人员关键词"}return"搜索"}},{key:"init",value:function(){this.showPopup=!0,(4!=this.selectMode||!this.nowData&&1==this.params.pageNum)&&(this.selectList=[],this.changeList())}},{key:"close",value:function(){this.params.keyword="",this.showPopup=!1}},{key:"changeList",value:function(){switch(this.selectMode){case 0:return this.params.finished=!0,this.sybList=JSON.parse(JSON.stringify(this.sybOriginList)),void(this.xszxList=this.sybList.length>0?[]:JSON.parse(JSON.stringify(this.xszxOriginList)));case 1:return this.params.finished=!0,this.sybList=JSON.parse(JSON.stringify(this.sybOriginList)),void(this.xszxList=JSON.parse(JSON.stringify(this.xszxOriginList)));case 2:this.params.finished=!0,this.selectOriginList=this.bmList;break;case 3:this.params.finished=!0,this.selectOriginList=this.ryList;break;case 4:return void this.getSelectList();case 6:this.params.finished=!0,this.selectOriginList=this.fatherList;break;case 7:this.params.finished=!0,this.selectOriginList=this.xszxList;break;case 8:this.params.finished=!0,this.selectOriginList=this.bmChildList;break}this.selectList=JSON.parse(JSON.stringify(this.selectOriginList))}},{key:"search",value:function(){switch(this.selectList=[],this.selectMode){case 0:this.sybList=[],this.xszxList=[];var t,e=Object(p["a"])(this.sybOriginList);try{for(e.s();!(t=e.n()).done;){var a=t.value;(a.name.includes(this.params.keyword)||a.id.includes(this.params.keyword))&&this.sybList.push(a)}}catch(S){e.e(S)}finally{e.f()}if(0==this.sybOriginList.length){var s,i=Object(p["a"])(this.xszxOriginList);try{for(i.s();!(s=i.n()).done;){var n=s.value;(n.name.includes(this.params.keyword)||n.id.includes(this.params.keyword))&&this.xszxList.push(n)}}catch(S){i.e(S)}finally{i.f()}}break;case 1:this.sybList=[],this.xszxList=[];var o,c=Object(p["a"])(this.sybOriginList);try{for(c.s();!(o=c.n()).done;){var r=o.value;(r.name.includes(this.params.keyword)||r.id.includes(this.params.keyword))&&this.sybList.push(r)}}catch(S){c.e(S)}finally{c.f()}var l,d=Object(p["a"])(this.xszxOriginList);try{for(d.s();!(l=d.n()).done;){var h=l.value;(h.name.includes(this.params.keyword)||h.id.includes(this.params.keyword))&&this.xszxList.push(h)}}catch(S){d.e(S)}finally{d.f()}break;case 2:var u,f=Object(p["a"])(this.selectOriginList);try{for(f.s();!(u=f.n()).done;){var g=u.value;(g.name.includes(this.params.keyword)||g.id.includes(this.params.keyword))&&this.selectList.push(g)}}catch(S){f.e(S)}finally{f.f()}break;case 3:var v,m=Object(p["a"])(this.selectOriginList);try{for(m.s();!(v=m.n()).done;){var y=v.value;(y.name.includes(this.params.keyword)||y.id.includes(this.params.keyword))&&this.selectList.push(y)}}catch(S){m.e(S)}finally{m.f()}break;case 4:return this.params.pageNum=1,this.params.finished=!1,this.selectList=[],void this.getSelectList();case 6:var b,O=Object(p["a"])(this.selectOriginList);try{for(O.s();!(b=O.n()).done;){var w=b.value;(w.name.includes(this.params.keyword)||w.id.includes(this.params.keyword))&&this.selectList.push(w)}}catch(S){O.e(S)}finally{O.f()}break;case 7:var j,x=Object(p["a"])(this.selectOriginList);try{for(x.s();!(j=x.n()).done;){var C=j.value;(C.name.includes(this.params.keyword)||C.id.includes(this.params.keyword))&&this.selectList.push(C)}}catch(S){x.e(S)}finally{x.f()}break;case 8:var L,_=Object(p["a"])(this.selectOriginList);try{for(_.s();!(L=_.n()).done;){var k=L.value;(k.name.includes(this.params.keyword)||k.id.includes(this.params.keyword))&&this.selectList.push(k)}}catch(S){_.e(S)}finally{_.f()}break}}},{key:"getSelectList",value:function(){"客户"===this.searchType?this._getCustomers():this._getGoodsList()}},{key:"_getCustomers",value:function(){var t=this;this.params.loading=!0;var e={customerKeyword:this.params.keyword,pageNum:this.params.pageNum,pageSize:this.params.pageSize};Object(h["c"])(e).then((function(e){t.params.loading=!1,200==e.code&&e.data&&e.data.list?(e.data.list.forEach((function(e){t.selectList.push({id:e.customerId,name:e.customerName})})),t.params.total=e.data.total,t.params.total==t.selectList.length&&(t.params.finished=!0)):(t.params.total=0,t.params.finished=!0)}))}},{key:"_getGoodsList",value:function(){var t=this,e={goodsKeyword:this.params.keyword,pageNum:this.params.pageNum,pageSize:this.params.pageSize};Object(h["k"])(e).then((function(e){t.params.loading=!1,200==e.code&&e.data&&e.data.list?(e.data.list.forEach((function(e){t.selectList.push({id:e.goodsId,name:e.goodsId+"/"+e.goodsName+(e.currencyName?"("+e.currencyName+")":"")})})),t.params.total=e.data.total,t.params.total===t.selectList.length&&(t.params.finished=!0)):(t.params.total=0,t.params.finished=!0)}))}},{key:"onLoad",value:function(){4===this.selectMode&&(this.params.pageNum++,this.changeList())}},{key:"chooseData",value:function(t,e){this.$crmUserClick({catalogType:1,catalogTypeName:"CDP",cucrId:"",menuId:t.id,menuName:t.name,menuOperation:"下拉部门筛选选中点击",operationType:1}),this.showPopup=!1,t.data!==this.nowData&&(4===this.selectMode?this.$emit("changeAnalysisChoose",{data:t,type:this.searchType}):1===this.selectMode?this.$emit("changeOrganizationChoose",{data:t,isJump:e}):this.$emit("changeChoose",t))}},{key:"onSelect",value:function(t){this.searchType!==t.text&&(this.searchType=t.text,this.selectList=[],this.params.keyword="",this.params.finished?(this.params.pageNum=0,this.params.finished=!1):(this.params.pageNum=1,this.getSelectList()))}},{key:"changeSy",value:function(){this.sybList=JSON.parse(JSON.stringify(this.sybOriginList))}},{key:"changeXszx",value:function(){this.xszxList=JSON.parse(JSON.stringify(this.xszxOriginList))}},{key:"changeBm",value:function(){2===this.selectMode&&this.changeList()}},{key:"changeBmChild",value:function(){8===this.selectMode&&this.changeList()}},{key:"changeRy",value:function(){3===this.selectMode&&this.changeList()}}]),a}(r["d"]);Object(c["a"])([f.Getter],g.prototype,"bmList",void 0),Object(c["a"])([f.Getter],g.prototype,"bmChildList",void 0),Object(c["a"])([f.Getter],g.prototype,"ryList",void 0),Object(c["a"])([f.Getter],g.prototype,"sybOriginList",void 0),Object(c["a"])([f.Getter],g.prototype,"xszxOriginList",void 0),Object(c["a"])([Object(r["c"])({type:Number,default:0})],g.prototype,"selectMode",void 0),Object(c["a"])([Object(r["c"])({type:String,default:""})],g.prototype,"nowData",void 0),Object(c["a"])([Object(r["c"])({type:Array,default:function(){return[]}})],g.prototype,"fatherList",void 0),Object(c["a"])([Object(r["e"])("sybOriginList")],g.prototype,"changeSy",null),Object(c["a"])([Object(r["e"])("xszxOriginList")],g.prototype,"changeXszx",null),Object(c["a"])([Object(r["e"])("bmList")],g.prototype,"changeBm",null),Object(c["a"])([Object(r["e"])("bmChildList")],g.prototype,"changeBmChild",null),Object(c["a"])([Object(r["e"])("ryList")],g.prototype,"changeRy",null),g=Object(c["a"])([Object(r["a"])({components:{}})],g);var v=g,m=v,y=(a("3003"),a("2877")),b=Object(y["a"])(m,l,d,!1,null,"127a7161",null),O=b.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"full-width switch-and-statistics",attrs:{id:"switchAndStatistics"}},[a("div",{staticClass:"white-bg d-flex font-15 switch-tab"},[a("div",{staticClass:"d-flex align-center justify-center",on:{click:t.openSelect}},[a("span",{staticClass:"tab-text"},[t._v(t._s(t.nowName))]),t.getIconJudge?a("icon-Svg",{staticClass:"pl-1",staticStyle:{width:"10px"},attrs:{name:"ytcrm-cdp-select"}}):t._e()],1),a("div",{staticClass:"d-flex align-center justify-center",on:{click:t.openCalendar}},[a("span",[t._v(t._s(t.getTimeText))]),a("icon-Svg",{staticClass:"pl-1",staticStyle:{width:"10px"},attrs:{name:"ytcrm-cdp-select"}})],1)]),a("div",{staticClass:"statistics-body",class:t.isLong?"statistics-body-long":"",style:t.isHome?"z-index: 3":"",attrs:{id:"switchAndStatisticsBody"}},[t.detailInfo&&t.detailInfo.name?a("div",{staticClass:"d-flex justify-center mt-2",attrs:{id:"textHeight"}},[a("div",{staticClass:"d-flex align-center background-color-white color-main-2 fontWeight-500 font-17 statistics-text",class:t.allText?"":"no-all-statistics-text",on:{click:function(e){t.allText=!t.allText}}},[0===t.detailInfo.type?a("icon-Svg",{staticClass:"statistics-text-icon",attrs:{name:"ytcrm-cdpKh-copy"}}):t._e(),1===t.detailInfo.type?a("icon-Svg",{staticClass:"statistics-text-icon",attrs:{name:"ytcrm-cdpPz-copy"}}):t._e(),a("span",{staticClass:"lineHeight-25 lines-text"},[t._v(t._s(t.detailInfo.name))]),t.judgeSl&&!t.allText?a("van-icon",{attrs:{name:"arrow-down"}}):t._e(),t.judgeSl&&t.allText?a("van-icon",{attrs:{name:"arrow-up"}}):t._e()],1)]):t._e(),a("div",{staticClass:"d-flex justify-center color-white fontWeight-500"},[a("span",{staticClass:"font-40 mr-2",staticStyle:{"font-size":"40px","line-height":"56px"}},[t._v(t._s(t.yToW(t.info.data1?t.info.data1:0)))]),a("span",{staticClass:"font-14 mt-6 lineHeight-12"},[t._v("日销售(万元)")])]),t.showZl?a("div",{staticClass:"d-flex justify-center color-white mt-1 font-16 fontWeight-500 lineHeight-22"},[t._v(" 不含战略采购："+t._s(t.yToW(t.info.data2?t.info.data2:0))+"万元 ")]):t._e(),a("div",{staticClass:"white-bg mt-2 statistics-div fontWeight-500"},[a("div",{staticClass:"d-flex mb-4 statistics-div-line"},[a("div",{staticClass:"d-flex align-center flex-column"},[a("span",{staticClass:"font-14 color-gray-4 lineHeight-20 mb-1"},[t._v("本月累计")]),a("span",{staticClass:"font-16 color-main-2"},[t._v(t._s(t.yToW(t.info.data3?t.info.data3:0)))])]),a("div",{staticClass:"d-flex align-center flex-column",staticStyle:{margin:"0 auto"}},[a("span",{staticClass:"font-14 color-gray-4 lineHeight-20 mb-1"},[t._v("去年同期")]),a("span",{staticClass:"font-16 color-main-2"},[t._v(t._s(t.yToW(t.info.data4?t.info.data4:0)))])]),a("div",{staticClass:"d-flex align-center flex-column"},[a("span",{staticClass:"font-14 color-gray-4 lineHeight-20 mb-1"},[t._v(" 同比增长")]),a("div",{staticClass:"d-flex align-center"},[a("i",{staticClass:"mr-3",class:t.info.data5&&t.info.data5>=0?"rank-up-icon":"rank-down-icon"}),a("span",{staticClass:"font-14",class:t.info.data5&&t.info.data5>=0?"color-normal":"color-red",staticStyle:{"font-weight":"normal"}},[t._v(t._s(t.nToP(t.info.data5?t.info.data5:0))+"%")])])])]),a("div",{staticClass:"d-flex statistics-div-line"},[a("div",{staticClass:"d-flex align-center flex-column"},[a("span",{staticClass:"font-14 color-gray-4 lineHeight-20 mb-1"},[t._v("本年累计")]),a("span",{staticClass:"font-16 color-main-2"},[t._v(t._s(t.yToW(t.info.data6?t.info.data6:0)))])]),a("div",{staticClass:"d-flex align-center flex-column",staticStyle:{margin:"0 auto"}},[a("span",{staticClass:"font-14 color-gray-4 lineHeight-20 mb-1"},[t._v("去年同期")]),a("span",{staticClass:"font-16 color-main-2"},[t._v(t._s(t.yToW(t.info.data7?t.info.data7:0)))])]),a("div",{staticClass:"d-flex align-center flex-column"},[a("span",{staticClass:"font-14 color-gray-4 lineHeight-20 mb-1"},[t._v("同比增长")]),a("div",{staticClass:"d-flex align-center"},[a("i",{staticClass:"mr-3",class:t.info.data8&&t.info.data8>=0?"rank-up-icon":"rank-down-icon"}),a("span",{staticClass:"font-14",class:t.info.data8&&t.info.data8>=0?"color-normal":"color-red",staticStyle:{"font-weight":"normal"}},[t._v(t._s(t.nToP(t.info.data8?t.info.data8:0))+"%")])])])]),"台州销售部"==t.nowName||"台州销售部(温州销售中心)"==t.nowName?a("div",{staticClass:"statistics-div-line mt-4 d-flex align-center"},[a("span",{staticClass:"font-14"},[t._v("根据23年业务下沉协议，23年实际增长率")]),a("span",{staticClass:"font-15 fontWeight-500 ml-2",class:t.info.data10>0?"color-normal":"color-never",staticStyle:{"margin-bottom":"1px"}},[t._v(t._s(t.nToP(t.info.data10))+"%")])]):t._e(),"金华销售部"==t.nowName||"金华销售部(浙南销售中心)"==t.nowName?a("div",{staticClass:"statistics-div-line mt-4 d-flex align-center"},[a("span",{staticClass:"font-14"},[t._v("剔除浙四，23年增长率")]),a("span",{staticClass:"font-15 fontWeight-500 ml-2",class:t.info.data10>0?"color-normal":"color-never",staticStyle:{"margin-bottom":"1px"}},[t._v(t._s(t.nToP(t.info.data10))+"%")])]):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:t.judgeShowPer,expression:"judgeShowPer"}],staticClass:"color-white font-14 lineHeight-20 pl-3 mt-2 card-per",style:t.getBg},[t._v(" 预算进度达成率"+t._s(t.nToP(t.per))+"% ")])]),t.isHome?a("van-icon",{staticClass:"color-white",class:t.showZl?"":"no-tow",attrs:{name:"arrow",size:"18px"},on:{click:t.toDetail}}):t._e()],1),a("van-calendar",{attrs:{"default-date":t.nowTime,"max-date":new Date((new Date).getTime()-864e5),"min-date":t.minDate},on:{confirm:t.onConfirm},model:{value:t.showCalendar,callback:function(e){t.showCalendar=e},expression:"showCalendar"}})],1)},j=[],x=a("d926"),C=a("cc19"),L=Object(u["a"])("cdp"),_=function(t){Object(n["a"])(a,t);var e=Object(o["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.yToW=C["b"],t.nToP=C["a"],t.showCalendar=!1,t.minDate=new Date,t.allText=!1,t}return Object(i["a"])(a,[{key:"getTimeText",get:function(){return Object(x["c"])(this.nowTime)}},{key:"getBg",get:function(){return"background: linear-gradient(to right,#4970F3 0%,#4970F3 "+Object(C["a"])(this.per)+"%,#a7c6fb "+Object(C["a"])(this.per)+"%,#a7c6fb 100%);"}},{key:"getIconJudge",get:function(){if(0==this.mode||this.detailInfo.name)return!this.detailInfo.name&&3!=this.selectMode;switch(this.selectMode){case 0:return this.sybOriginList.length>1||0==this.sybOriginList.length&&this.xszxOriginList.length>1;case 1:return this.sybOriginList.length+this.xszxOriginList.length!==1;case 2:return 1!==this.bmList.length;case 3:return 1!==this.ryList.length;case 7:return 1!==this.xszxOriginList.length;case 8:return 1!==this.bmChildList.length}return!0}},{key:"judgeSl",get:function(){if(this.detailInfo&&this.detailInfo.name){for(var t=this.detailInfo.name.length,e=0,a=0;a<t;a++)0!=(65280&this.detailInfo.name.charCodeAt(a))&&e++,e++;return e>35}return!1}},{key:"judgeShowPer",get:function(){return this.per>-1}},{key:"openSelect",value:function(){this.getIconJudge&&this.$emit("openSelect",!1)}},{key:"openCalendar",value:function(){this.showCalendar=!0}},{key:"onConfirm",value:function(t){this.showCalendar=!1,t!==this.nowTime&&(this.SET_NOWTIME(t),this.$crmUserClick({catalogType:1,catalogTypeName:"CDP",cucrId:"",menuId:"",menuName:this.$dayjs(t).format("YYYY-MM-DD"),menuOperation:"时间筛选",operationType:1}),this.$emit("changeTime"))}},{key:"toDetail",value:function(){this.$emit("toDetail")}},{key:"mounted",value:function(){var t=new Date;t=t.getFullYear();var e=new Date((new Date).setFullYear(t-2));this.minDate=e}}]),a}(r["d"]);Object(c["a"])([L.Getter],_.prototype,"mode",void 0),Object(c["a"])([L.Getter],_.prototype,"bmList",void 0),Object(c["a"])([L.Getter],_.prototype,"bmChildList",void 0),Object(c["a"])([L.Getter],_.prototype,"ryList",void 0),Object(c["a"])([L.Getter],_.prototype,"pzOriginList",void 0),Object(c["a"])([L.Getter],_.prototype,"khOriginList",void 0),Object(c["a"])([L.Getter],_.prototype,"sybOriginList",void 0),Object(c["a"])([L.Getter],_.prototype,"xszxOriginList",void 0),Object(c["a"])([L.Getter],_.prototype,"nowTime",void 0),Object(c["a"])([L.Mutation],_.prototype,"SET_NOWTIME",void 0),Object(c["a"])([Object(r["c"])({type:Number,default:0})],_.prototype,"selectMode",void 0),Object(c["a"])([Object(r["c"])({type:String,default:""})],_.prototype,"nowName",void 0),Object(c["a"])([Object(r["c"])({type:Boolean,default:!1})],_.prototype,"isLong",void 0),Object(c["a"])([Object(r["c"])({type:Boolean,default:!1})],_.prototype,"isHome",void 0),Object(c["a"])([Object(r["c"])({type:Boolean,default:!1})],_.prototype,"showZl",void 0),Object(c["a"])([Object(r["c"])({type:Boolean,default:!1})],_.prototype,"showPer",void 0),Object(c["a"])([Object(r["c"])({type:Number,default:-1})],_.prototype,"per",void 0),Object(c["a"])([Object(r["c"])({type:Object,default:function(){return{}}})],_.prototype,"detailInfo",void 0),Object(c["a"])([Object(r["c"])({type:Object,default:function(){return{}}})],_.prototype,"info",void 0),_=Object(c["a"])([Object(r["a"])({components:{}})],_);var k=_,S=k,D=(a("b20e"),Object(y["a"])(S,w,j,!1,null,"c8152c42",null)),T=D.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"white-bg detail-card pt-4 px-2"},[a("div",{staticClass:"d-flex align-center justify-space-between font-16 lineHeight-23 card-header",class:t.isClick?"color-main-2 ":""},[a("div",{staticClass:"fontWeight-500"},[t._v(t._s(t.name))]),a("div",[t.showDrxs?a("span",{staticClass:"fontWeight-500 color-gray-5"},[t._v("当日销售")]):t._e(),a("span",{staticClass:"fontWeight"},[t._v(t._s(t.getUnitValueUse(t.data.data1,1))+"万元")])])]),a("div",{staticClass:"card-line my-1"}),"台州销售部"==t.name?a("div",{staticClass:"mb-1"},[a("span",{staticClass:"font-12 lineHeight-17"},[t._v("根据23年业务下沉协议，23年实际增长率")]),a("span",{staticClass:"font-13 fontWeight-500 ml-2",class:t.data.data9>0?"color-normal":"color-never"},[t._v(" "+t._s(t.nToP(t.data.data9))+"% ")])]):t._e(),"金华销售部"==t.name?a("div",{staticClass:"mb-1"},[a("span",{staticClass:"font-12 lineHeight-17"},[t._v("剔除浙四，23年增长率")]),a("span",{staticClass:"font-13 fontWeight-500 ml-2",class:t.data.data9>0?"color-normal":"color-never"},[t._v(" "+t._s(t.nToP(t.data.data9))+"% ")])]):t._e(),a("div",{staticClass:"d-flex justify-space-between align-baseline"},[a("div",{staticClass:"d-flex align-center flex-column"},[a("span",{staticClass:"font-12 color-gray-4 lineHeight-17 mb-1"},[t._v("本月销售")]),a("span",{staticClass:"font-13 fontWeight-500 lineHeight-20"},[t._v(t._s(t.yToW(t.data.data2)))])]),a("div",{staticClass:"d-flex align-center flex-column"},[a("span",{staticClass:"font-12 color-gray-4 lineHeight-17 mb-1"},[t._v("月同比")]),a("span",{staticClass:"font-13 fontWeight-500 lineHeight-20",class:t.data.data3>0?"color-normal":"color-never"},[t._v(" "+t._s(t.nToP(t.data.data3))+"% ")])]),a("div",{staticClass:"d-flex align-center flex-column"},[a("span",{staticClass:"font-12 color-gray-4 lineHeight-17 mb-1"},[t._v("去年整月")]),a("span",{staticClass:"font-13 fontWeight-500 lineHeight-20"},[t._v(t._s(t.yToW(t.data.data4)))])]),a("div",{staticClass:"d-flex align-center flex-column"},[a("span",{staticClass:"font-12 color-gray-4 lineHeight-17 mb-1"},[t._v("本年累计")]),a("span",{staticClass:"font-13 fontWeight-500 lineHeight-20"},[t._v(t._s(t.yToW(t.data.data5)))])]),a("div",{staticClass:"d-flex align-center flex-column"},[a("span",{staticClass:"font-12 color-gray-4 lineHeight-17 mb-1"},[t._v("年同比")]),a("span",{staticClass:"font-13 fontWeight-500 lineHeight-20 d-felx",class:t.data.data6>0?"color-normal":"color-never"},[t._v(" "+t._s(t.nToP(t.data.data6))+"% ")])]),a("div",{staticClass:"d-flex align-center flex-column"},[a("span",{staticClass:"font-12 color-gray-4 lineHeight-17 mb-1"},[t._v("去年累计整月")]),a("span",{staticClass:"font-13 lineHeight-20 fontWeight-500"},[t._v(t._s(t.yToW(t.data.data7)))])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.per>-1&&t.perShow,expression:"per > -1 && perShow"}],staticClass:"color-white font-14 lineHeight-20 pl-3 mt-2",style:t.getBg},[t._v(" 预算进度达成率"+t._s(t.nToP(t.per))+"% ")])])},N=[],z=a("5b92"),H=function(t){Object(n["a"])(a,t);var e=Object(o["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.yToW=C["b"],t.nToP=C["a"],t.getUnitValueUse=z["d"],t}return Object(i["a"])(a,[{key:"getBg",get:function(){return"background: linear-gradient(to right,#4970F3 0%,#4970F3 "+Object(C["a"])(this.per)+"%,#a7c6fb "+Object(C["a"])(this.per)+"%,#a7c6fb 100%);"}}]),a}(r["d"]);Object(c["a"])([Object(r["c"])({type:Object,default:{}})],H.prototype,"data",void 0),Object(c["a"])([Object(r["c"])({type:String,default:""})],H.prototype,"name",void 0),Object(c["a"])([Object(r["c"])({type:Number,default:-1})],H.prototype,"per",void 0),Object(c["a"])([Object(r["c"])({default:!1})],H.prototype,"showDrxs",void 0),Object(c["a"])([Object(r["c"])({default:!0})],H.prototype,"isClick",void 0),Object(c["a"])([Object(r["c"])({default:!0})],H.prototype,"perShow",void 0),H=Object(c["a"])([Object(r["a"])({components:{}})],H);var W=H,I=W,P=(a("20c4"),Object(y["a"])(I,M,N,!1,null,"6b04b1ba",null)),Y=P.exports,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"screenshot",staticClass:"screenshot d-flex justify-center"},[a("van-button",{directives:[{name:"show",rawName:"v-show",value:0!==t.buttonMode,expression:"buttonMode !== 0"}],attrs:{round:"",plain:"",type:"info"},on:{click:t.openSheet}},[a("div",{staticClass:"d-flex align-center"},[a("icon-svg",{staticStyle:{width:"15px",height:"15px"},attrs:{name:"ytcrm-shaixuanfilter1"}}),a("div",{staticClass:"color-main-2 font-12 fontWeight-500 ml-2"},[t._v("高级操作")])],1)]),a("van-button",{directives:[{name:"show",rawName:"v-show",value:1!==t.buttonMode,expression:"buttonMode !== 1"}],class:2===t.buttonMode?"ml-4":"",attrs:{round:"",plain:"",type:"info"},on:{click:t.saveImage}},[a("div",{staticClass:"d-flex align-center"},[a("icon-svg",{staticStyle:{width:"15px",height:"15px"},attrs:{name:"ytcrm-rwdb"}}),a("div",{staticClass:"color-black-2 font-12 fontWeight-500 ml-3"},[t._v("任务督办")])],1)])],1)},$=[],G=(a("e7e5"),a("d399")),F=a("c0e9"),J=a.n(F);r["d"].use(G["a"]);var E=function(t){Object(n["a"])(a,t);var e=Object(o["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.showSheet=!1,t}return Object(i["a"])(a,[{key:"saveImage",value:function(){var t=this,e=this.$parent,a=e.$refs.screenshotBody,s=e.$refs.screenshotLine,i=document.getElementById("app"),n=this.$refs.screenshot,o=document.getElementById("switchAndStatistics"),c=document.getElementById("switchAndStatisticsBody");if(a.style.height="auto",n.style.display="none",this.isFullScreen)i.classList.remove("full-height");else{i.classList.add("overflow-y-auto"),o.classList.add("switch-screenshot-mode");var r=o.clientHeight-c.clientHeight;if(s.getBoundingClientRect().top>r&&s.getBoundingClientRect().top<o.clientHeight){var l=o.clientHeight-s.getBoundingClientRect().top;i.style.paddingTop=l+"px"}else s.getBoundingClientRect().top<=c.clientHeight&&(i.style.paddingTop=c.clientHeight+"px")}var d=G["a"].loading({duration:0,forbidClick:!0,message:"截图生成中..."});J()(i,{backgroundColor:null,useCORS:!0,scale:1}).then((function(e){a.style.height="100%",n.style.display="flex",t.isFullScreen?i.classList.add("full-height"):(i.classList.remove("overflow-y-auto"),o.classList.remove("switch-screenshot-mode"),i.style.paddingTop=""),d.clear();var s=e.toDataURL("image/png");t.$router.push({name:"taskSupervise",params:{url:s}})}))}},{key:"openSheet",value:function(){this.$emit("openFilter")}}]),a}(r["d"]);Object(c["a"])([Object(r["c"])({type:Number,default:0})],E.prototype,"buttonMode",void 0),Object(c["a"])([Object(r["c"])({type:Boolean,default:!0})],E.prototype,"isFullScreen",void 0),E=Object(c["a"])([Object(r["a"])({components:{}})],E);var A=E,R=A,U=(a("8186"),Object(y["a"])(R,B,$,!1,null,"0b9a3dd6",null)),K=U.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-notice-bar",{attrs:{mode:"link",background:"#fff",color:t.textList.length>0?"#ea394b":"#2271f5"}},[a("div",{staticClass:"d-flex align-center"},[t._l(t.textList,(function(e,s){return a("div",{key:s,staticClass:"mr-5"},[a("van-icon",{staticClass:"mr-2 font-14 fontWeight-500",attrs:{name:"info-o"}}),a("span",{staticClass:"font-14 fontWeight-500"},[t._v(t._s(e))])],1)})),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.textList.length,expression:"textList.length == 0"}]},[a("van-icon",{staticClass:"mr-2 font-14 fontWeight-500",attrs:{name:"info-o"}}),a("span",{staticClass:"font-14 fontWeight-500"},[t._v("暂无预警")])],1)],2)])},V=[],X=function(t){Object(n["a"])(a,t);var e=Object(o["a"])(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return Object(i["a"])(a)}(r["d"]);Object(c["a"])([Object(r["c"])({type:Array,default:[]})],X.prototype,"textList",void 0),X=Object(c["a"])([Object(r["a"])({components:{}})],X);var q=X,Q=q,tt=(a("c6a4"),Object(y["a"])(Q,Z,V,!1,null,"1ac44dce",null)),et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"white-block d-flex justify-space-between analysis-card"},[a("div",{staticStyle:{"margin-left":"2px"}},[a("div",{staticClass:"font-14 lineHeight-20 fontWeight-500 mb-3",class:"color-"+(3==t.data.rank?"red":2==t.data.rank?"advanced":"normal")},[t._v(" "+t._s(t.data.name)+" ")]),a("div",{staticClass:"d-flex align-center"},[a("span",{staticClass:"font-16 lineHeight-22 fontWeight-500 color-gray-5 mr-1"},[t._v("共"+t._s(t.data.nums)+"个")]),t.isPz?a("span",{staticClass:"font-12 fontWeight-500 color-gray-5"},[t._v("占目录比例"+t._s(t.data.per)+"%")]):t._e()])]),a("div",{staticClass:"d-flex align-center"})])])},st=[],it=function(t){Object(n["a"])(a,t);var e=Object(o["a"])(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return Object(i["a"])(a)}(r["d"]);Object(c["a"])([Object(r["c"])({type:Object,default:{}})],it.prototype,"data",void 0),Object(c["a"])([Object(r["c"])({type:Boolean,default:!1})],it.prototype,"isPz",void 0),it=Object(c["a"])([Object(r["a"])({components:{}})],it);var nt=it,ot=nt,ct=(a("fe45"),Object(y["a"])(ot,at,st,!1,null,"25b8507d",null)),rt=ct.exports,lt=Object(u["a"])("cdp"),dt=Object(u["a"])("app"),pt=function(t){Object(n["a"])(a,t);var e=Object(o["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.nowName="",t.nowData=null,t.info={data1:0,data2:0,data3:0,data4:0,data5:0,data6:0,data7:0,data8:0,data9:0},t.showFilter=!1,t}return Object(i["a"])(a,[{key:"openSelect",value:function(){var t=this.$refs.selectPopup;t.init()}},{key:"closeSelect",value:function(){var t=this.$refs.selectPopup;t.close()}},{key:"scrollBottom",value:function(){}},{key:"handleScroll",value:function(t){if(!this.showFilter){var e=t.target.scrollTop,a=t.target.clientHeight,s=t.target.scrollHeight;Math.round(e+a)==Math.round(s)&&this.scrollBottom()}}},{key:"activated",value:function(){window.addEventListener("scroll",this.handleScroll,!0)}}]),a}(r["d"]);Object(c["a"])([lt.Getter],pt.prototype,"mode",void 0),Object(c["a"])([lt.Getter],pt.prototype,"sybOriginList",void 0),Object(c["a"])([lt.Getter],pt.prototype,"xszxOriginList",void 0),Object(c["a"])([lt.Getter],pt.prototype,"bmList",void 0),Object(c["a"])([lt.Getter],pt.prototype,"ryList",void 0),Object(c["a"])([lt.Getter],pt.prototype,"nowTime",void 0),Object(c["a"])([lt.Mutation],pt.prototype,"SET_MODE",void 0),Object(c["a"])([lt.Action],pt.prototype,"_getsybOriginList",void 0),Object(c["a"])([lt.Action],pt.prototype,"_getxszxOriginList",void 0),Object(c["a"])([lt.Action],pt.prototype,"_getbmList",void 0),Object(c["a"])([lt.Action],pt.prototype,"_getbmChildList",void 0),Object(c["a"])([lt.Action],pt.prototype,"_getryList",void 0),Object(c["a"])([lt.Action],pt.prototype,"_refreshList",void 0),Object(c["a"])([dt.Getter],pt.prototype,"userInfor",void 0),pt=Object(c["a"])([Object(r["a"])({components:{selectPopup:O,switchAndStatistics:T,detailCard:Y,screenshot:K,scrollBar:et,analysisCard:rt},beforeRouteLeave:function(t,e,a){window.removeEventListener("scroll",(function(){}),!1),a(!0)}})],pt);e["a"]=pt},"20c4":function(t,e,a){"use strict";a("58dd")},"2ff5":function(t,e,a){},3003:function(t,e,a){"use strict";a("d947")},"58dd":function(t,e,a){},8186:function(t,e,a){"use strict";a("2ff5")},"9c76":function(t,e,a){},b20e:function(t,e,a){"use strict";a("b4af")},b4af:function(t,e,a){},c6a4:function(t,e,a){"use strict";a("015d")},cc19:function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"a",(function(){return i}));a("ac1f"),a("5319"),a("d3b7"),a("25f0"),a("b680");function s(t){var e=t/1e4;return Math.round(e).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}function i(t){var e=100*t;return e.toFixed(1)}},d926:function(t,e,a){"use strict";a.d(e,"c",(function(){return p})),a.d(e,"d",(function(){return h})),a.d(e,"j",(function(){return u})),a.d(e,"i",(function(){return f})),a.d(e,"k",(function(){return g})),a.d(e,"b",(function(){return v})),a.d(e,"e",(function(){return m})),a.d(e,"g",(function(){return y})),a.d(e,"f",(function(){return b})),a.d(e,"a",(function(){return O})),a.d(e,"h",(function(){return w}));a("d3b7"),a("25f0"),a("ac1f"),a("1276");var s=a("5a0c"),i=a.n(s),n=new Date,o=n.getDay(),c=n.getDate(),r=n.getMonth(),l=n.getYear();l+=l<2e3?1900:0;var d=new Date;function p(t){var e=new Date(t),a=e.getFullYear(),s=(e.getMonth()+1).toString(),i=e.getDate().toString();return+s<10&&(s="0"+s),+i<10&&(i="0"+i),a+"-"+s+"-"+i}function h(t){var e=new Date(t),a=e.getFullYear(),s=(e.getMonth()+1).toString(),i=e.getDate().toString();return+s<10&&(s="0"+s),+i<10&&(i="0"+i),a+"/"+s+"/"+i}function u(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e){var a=new Date(e),s=a.getDay();s=0===s?7:s;var i=a.getDate(),n=a.getMonth(),d=a.getYear();d+=d<2e3?1900:0,t=new Date(d,n,i-(s-1))}else t=new Date(l,r,c-(o-1));return p(t)}function f(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e){var a=new Date(e),s=a.getDay();s=0===s?7:s;var i=a.getDate(),n=a.getMonth(),d=a.getYear();d+=d<2e3?1900:0,t=new Date(d,n,i+(6-(s-1)))}else t=new Date(l,r,c+(6-(o-1)));return p(t)}function g(t){return 0===i()(t).day()?i()(t).startOf("week").subtract(6,"day").format("YYYY-MM-DD"):i()(t).startOf("week").add(1,"day").format("YYYY-MM-DD")}function v(t){return 0===i()(t).day()?i()(t).endOf("week").subtract(6,"day").format("YYYY-MM-DD"):i()(t).endOf("week").add(1,"day").format("YYYY-MM-DD")}d.setDate(1),d.setMonth(d.getMonth()-1);var m=function(t,e){var a=[],s=t.split("-"),i=e.split("-"),n=new Date(s+" 08:00:00");n.setUTCFullYear(s[0],s[1]-1,s[2]);var o=new Date(i+" 08:00:00");o.setUTCFullYear(i[0],i[1]-1,i[2]);var c,r=n.getTime(),l=o.getTime(),d=864e5;for(c=r;c<=l;)a.push(p(new Date(parseInt(String(c))))),c+=d;return a},y=function(t,e){var a=new Date(t),s="";a.setDate(a.getDate()+e);var i=a.getFullYear(),n=a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1,o=a.getDate()<10?"0"+a.getDate():a.getDate();return s=i+"-"+n+"-"+o,s},b=function(t){var e,a,s,i,n=new Date(t+"-01-01"),o=n.getFullYear(),c={result0:[],result1:[],result2:[],result3:[],result4:[],result5:[],result6:[]};for(e=1;e<=12;e++){switch(e){case 1:case 3:case 5:case 7:case 8:case 10:case 12:i=31;break;case 4:case 6:case 9:case 11:i=30;break;case 2:i=o%4===0&&o%100!==0||o%400===0?29:28;break}for(a=1;a<=i;a++){n.setMonth(e-1,a),s=n.getDay();var r=n.getFullYear(),l=n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1,d=n.getDate()<10?"0"+n.getDate():n.getDate();c["result"+s].push(r+"-"+l+"-"+d)}}return c};function O(t){switch(t){case 0:return"日";case 1:return"一";case 2:return"二";case 3:return"三";case 4:return"四";case 5:return"五";case 6:return"六";default:break}}var w=function(t){var e=new Date,a=e.getFullYear(),s=e.getMonth()+1,i=e.getDate(),n=t.split("-"),o=0;if(s>parseInt(n[0])||s==parseInt(n[0])&&i>parseInt(n[1])){var c=new Date(a+1,parseInt(n[0])-1,parseInt(n[1])).toLocaleDateString(),r=Date.parse(c),l=Date.parse(e.toLocaleDateString());o=(r-l)/864e5}else{var d=new Date(a,parseInt(n[1])-1,parseInt(n[2])).toLocaleDateString(),p=Date.parse(d),h=Date.parse(e.toLocaleDateString());o=(p-h)/864e5}if(o<0){var u=a+1,f=u%4===0&&u%100!==0||u%400===0?366:365;o+=f}return o}},d947:function(t,e,a){},fe45:function(t,e,a){"use strict";a("9c76")}}]);