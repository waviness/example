(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eaca83dc"],{"23ab":function(e,t,n){},"53ae":function(e,t,n){"use strict";var r=n("d4ec"),a=n("bee2"),i=n("262e"),s=n("2caf"),o=(n("b0c0"),n("9ab4")),c=n("1b40");c["a"].registerHooks(["beforeRouteEnter"]);var u=function(e){Object(i["a"])(n,e);var t=Object(s["a"])(n);function n(){var e;return Object(r["a"])(this,n),e=t.apply(this,arguments),e.page=1,e.total=0,e.dataList=[],e.loading=!1,e.finished=!1,e.refreshing=!1,e.finishText="",e.userIdList=[],e.error=!1,e}return Object(a["a"])(n,[{key:"beforeRouteEnter",value:function(e,t,n){n((function(e){"Home"!==t.name&&"TaskIndex"!==t.name||(e.dataList=[],e.page=1,e.loading=!1,e.finished=!0,e.refreshing=!1,e.$nextTick((function(){e.finished=!1})))}))}}]),n}(c["d"]);u=Object(o["a"])([Object(c["a"])({})],u),t["a"]=u},"6e5a":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"r",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"l",(function(){return u})),n.d(t,"m",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"i",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return m})),n.d(t,"k",(function(){return k})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return v})),n.d(t,"j",(function(){return y})),n.d(t,"n",(function(){return g})),n.d(t,"q",(function(){return C})),n.d(t,"p",(function(){return L})),n.d(t,"o",(function(){return w}));var r=n("1da1"),a=(n("99af"),n("96cf"),n("b32d")),i=n("90ae"),s=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post(i["c"],"/api/SzymCustomerManager/getSzymCustomerMng",t,t.hideloading);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post(i["c"],"/api/SzymCustomerManager/updSzymCustomer",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].formDataPost(i["c"],"/api/SzymCustomerManager/getSzymCustomerStaff",t,!0);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].formDataPost(i["c"],"/api/SzymCustomerManager/getUserByPhoneNum",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post(i["c"],"/api/SzymCustomerManager/optSzymCustomerStaff?szymCustomerId="+t.szymCustomerId,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post(i["c"],"/api/SzymCustomerManager/dltSzymCustomerStaff?scStaffId="+t.scStaffId,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post(i["c"],"/api/SzymUserVisit/getSzymUserVisit",t,!0);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].formDataPost(i["c"],"/api/SzymCustomer/getSzymCustomerContact",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].formDataPost(i["c"],"/api/SzymCustomer/getSzymCustomerTransport",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post(i["c"],"/api/SzymProjectMng/getSzymProjectMng",t,t.loading);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post(i["c"],"/api/SzymUserVisit/getSzymUserVisitStat",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post(i["c"],"/api/SzymUserVisit/getSzymUserProjectVisit",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post(i["c"],"/api/SzymUserVisit/getSzymUserVisiByUserProject",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].formDataPost(i["c"],"/api/SzymUserVisit/getSzymUserVisitBySuvId",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post(i["c"],"/api/SzymUserVisit/optSzymUserVisit",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post(i["c"],"/api/SzymUserVisit/optSzymUserVisitPic?suvId=".concat(t.suvId,"&deleteFlag=").concat(t.deleteFlag),t.list);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post(i["c"],"/api/SzymUserVisit/optSzymUserVisitLabelRemark",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].dataPost(i["c"],"/api/SzymUserVisit/optSzymUserVisitClockIn",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"99e4":function(e,t,n){"use strict";n("e6bb")},a7dc:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("van-popup",{style:{height:"95%"},attrs:{closeable:"",position:"bottom",round:""},on:{close:e.adressCancel},model:{value:e.innShowAdressPicker,callback:function(t){e.innShowAdressPicker=t},expression:"innShowAdressPicker"}},[e.innShowAdressPicker?n("div",{staticClass:"warp"},[n("div",{staticClass:"font-16 fontWeight-500 textAlignC pt-4 pb-2"},[e._v(e._s(e.clickOnly?"立即打卡":"打卡信息选择"))]),n("van-tabs",{attrs:{color:"#2271F5"},on:{change:e.addressActiveChange},model:{value:e.adressActive,callback:function(t){e.adressActive=t},expression:"adressActive"}},[n("van-tab",{staticClass:"fontWeight-500",attrs:{name:2,title:"直接打卡"}}),n("van-tab",{staticClass:"fontWeight-500",attrs:{name:1,title:e.clickOnly?"打卡记录":"关联已有"}})],1),2===e.adressActive?n("van-search",{attrs:{placeholder:"搜索","input-align":"center"},on:{input:e.onSearch},model:{value:e.addressValue,callback:function(t){e.addressValue=t},expression:"addressValue"}}):n("van-search",{attrs:{placeholder:"搜索","input-align":"center"},on:{input:e.onRefresh},model:{value:e.addressValue,callback:function(t){e.addressValue=t},expression:"addressValue"}}),1===+e.adressActive?n("div",{staticClass:"address-popupWarp overflow-auto"},[n("van-pull-refresh",{staticClass:"pt-10",on:{refresh:e.onRefresh},model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[n("van-list",{staticClass:"px-2",attrs:{offset:20,error:e.error,finished:e.finished,"finished-text":"没有更多了"},on:{"update:error":function(t){e.error=t},load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.dataList,(function(t,r){return n("van-cell",{key:r,attrs:{clickable:""},on:{click:function(n){return e.adressOnConfirm(t)}}},[n("span",{style:e.detailClock===t.cciId?"color: #2271f5":""},[e._v(e._s(t.cciId)+"/"+e._s(t.address))]),n("span",{staticClass:"ml-1",staticStyle:{color:"#777","font-size":"12px"}},[e._v("("+e._s(t.credate)+")")])])})),1)],1)],1):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:2===+e.adressActive,expression:"+adressActive === 2"}],staticClass:"address-popupWarp-2"},[n("div",{staticStyle:{height:"40%"},attrs:{id:"container"}}),n("van-radio-group",{staticClass:"overflow-auto",model:{value:e.nowChooseId,callback:function(t){e.nowChooseId=t},expression:"nowChooseId"}},[n("van-cell-group",e._l(e.locationList,(function(t){return n("van-cell",{key:t.id,ref:"address"+t.id,refInFor:!0,attrs:{name:t.id,clickable:""},on:{click:function(n){return e.nowChooseClick(t)}},scopedSlots:e._u([{key:"title",fn:function(){return[n("span",{staticClass:"fontWeight"},[e._v(e._s(t.name))]),n("br"),n("span",{staticStyle:{"font-size":"12px",color:"#bbb"}},[e._v(" -- "+e._s(t.pname+t.cityname+t.adname+t.address)+" ")])]},proxy:!0},{key:"right-icon",fn:function(){return[n("van-radio",{attrs:{"checked-color":"#2271F5",name:t.id}})]},proxy:!0}],null,!0)})})),1)],1),n("div",{staticClass:"commonButton-footer d-flex justify-center"},[n("van-button",{attrs:{size:"small",round:"",plain:""},on:{click:e.adressCancel}},[e._v("取消")]),n("van-button",{attrs:{size:"small",color:"#2271F5",type:"info","native-type":"submit",round:""},on:{click:e.addressChoose}},[e._v("确定")])],1)],1)],1):e._e()])},a=[],i=n("1da1"),s=n("d4ec"),o=n("bee2"),c=n("262e"),u=n("2caf"),l=(n("99af"),n("96cf"),n("9ab4")),d=n("1b40"),h=n("e906"),f=n("53ae"),p=n("8e54"),m=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.innShowAdressPicker=!1,e.adressActive=1,e.clockInList=[],e}return Object(o["a"])(n,[{key:"addressActiveChange",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:2===+t&&(this.ToastLoading&&this.ToastLoading.clear(),this.ToastLoading=this.$toast.loading({message:"定位中...",duration:0,forbidClick:!0}),this.wxRegister("click"));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"adressOnConfirm",value:function(e){this.$emit("adressOnConfirm",e)}},{key:"nowChooseClick",value:function(e){this.nowChooseObj=e,this.nowChooseId=e.id,this.markerClick(e)}},{key:"addressChoose",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.sureClick();case 2:this.$emit("addressChoose",{addressID:this.addressID,addressDetail:this.addressDetail});case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"adressCancel",value:function(){this.adressActive=1,this.$emit("adressCancel")}},{key:"onRefresh",value:function(){this.finished=!1,this.loading=!1,this.dataList=[],this.page=1,this.onLoad()}},{key:"onLoad",value:function(){this.refreshing&&(this.page=1,this.dataList=[],this.refreshing=!1),this.loading=!0,this._getCrmClockIn()}},{key:"_getCrmClockIn",value:function(){var e=this,t={detailFlag:!1,startTime:"",endTime:"",pageNum:this.page,pageSize:20,keyword:this.addressValue,type:1};Object(h["c"])(t).then((function(t){e.loading=!1,e.refreshing=!1,"200"===t.code?(e.dataList=e.dataList.concat(t.data.list),e.page++,e.finished=!t.data.hasNextPage,e.total=t.data.total):e.error=!0})).catch((function(){e.error=!0}))}},{key:"mounted",value:function(){this.innShowAdressPicker=this.showAdressPicker,this.clockInList=[],this.clickOnly&&(this.adressActive=2),2===+this.adressActive&&(this.ToastLoading&&this.ToastLoading.clear(),this.ToastLoading=this.$toast.loading({message:"定位中...",duration:0,forbidClick:!0}),this.wxRegister("click"))}}]),n}(Object(d["b"])(p["a"],f["a"]));Object(l["a"])([Object(d["c"])()],m.prototype,"showAdressPicker",void 0),Object(l["a"])([Object(d["c"])()],m.prototype,"detailClock",void 0),Object(l["a"])([Object(d["c"])()],m.prototype,"clickOnly",void 0),Object(l["a"])([Object(d["c"])()],m.prototype,"visitDate",void 0),m=Object(l["a"])([Object(d["a"])({})],m);var k=m,b=k,v=(n("be27"),n("2877")),y=Object(v["a"])(b,r,a,!1,null,"01cf0ece",null);t["a"]=y.exports},be27:function(e,t,n){"use strict";n("23ab")},c9f1:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"customerLabel"},[n("van-popup",{style:{height:"95%"},attrs:{round:"",position:"bottom",closeable:""},on:{close:e.closeClick},model:{value:e.innerCustomerLabelShow,callback:function(t){e.innerCustomerLabelShow=t},expression:"innerCustomerLabelShow"}},[e.innerCustomerLabelShow?n("div",{staticClass:"warp"},[n("div",{staticClass:"font-16 fontWeight-500 textAlignC pt-4"},[e._v("客情事件新增")]),e.innerNeedLabelValueList.length?n("div",{staticClass:"customerLabelWarp px-2 pb-3 overflow-auto"},e._l(e.innerNeedLabelValueList,(function(t,r){return n("van-swipe-cell",{key:r,staticClass:"mt-4 box-shadow",scopedSlots:e._u([t.clrId?null:{key:"right",fn:function(){return[n("van-button",{attrs:{square:"",type:"danger",text:"删除"},on:{click:function(t){return e.deleteItemClick(r)}}})]},proxy:!0}],null,!0)},[n("div",{},[n("van-field",{attrs:{readonly:"",clickable:"",required:"",label:"关联项目","input-align":"right",placeholder:"点击维护关联项目"},on:{click:function(n){return e.keyChooseClick(t,r)}},scopedSlots:e._u([{key:"input",fn:function(){return[t.keyCheckDetail.length>0?n("div",{staticClass:"d-flex flex-wrap"},[e._v(" 已选择"+e._s(t.keyCheckDetail.length)+"个关联项目 ")]):n("div",{staticClass:"color-gray-3"},[e._v("暂未选择关联项目")])]},proxy:!0}],null,!0)}),n("van-field",{attrs:{readonly:"",clickable:"",required:"",label:"事件分类",value:t.remarkChangeNameValue,"input-align":"right",placeholder:"点击维护事件分类"},on:{click:function(t){e.labelShow=!0,e.changeLabelIndex=r}}}),n("van-field",{staticClass:"flex-column",attrs:{label:"附件上传",readonly:""},scopedSlots:e._u([{key:"input",fn:function(){return[n("van-uploader",{staticClass:"mt-3",attrs:{multiple:""},model:{value:t.fileList,callback:function(n){e.$set(t,"fileList",n)},expression:"item.fileList"}})]},proxy:!0}],null,!0)})],1)])})),1):e._e(),n("div",{staticClass:"commonButton-footer d-flex justify-center"},[n("van-button",{attrs:{size:"large",plain:"",type:"default",round:""},on:{click:e.addCustomList}},[e._v("新增客情事件")]),n("van-button",{attrs:{size:"large",type:"info",color:"#2271f5",round:""},on:{click:e.addCustomSure}},[e._v("确定")])],1)]):e._e()]),n("van-popup",{style:{width:"100%",height:"90%"},attrs:{closeable:"",position:"bottom",round:""},on:{close:function(t){e.keyShow=!1,e.keyCheckList=[],e.keyCheckDetail=[]}},model:{value:e.keyShow,callback:function(t){e.keyShow=t},expression:"keyShow"}},[n("div",{staticClass:"font-16 fontWeight-500 textAlignC pt-4 pb-2"},[e._v("关联项目选择")]),n("van-search",{attrs:{placeholder:"搜索","input-align":"center"},model:{value:e.keyCheckValue,callback:function(t){e.keyCheckValue=t},expression:"keyCheckValue"}}),n("div",{staticClass:"keyWarp"},[n("van-pull-refresh",{on:{refresh:e.onRefresh},model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[0===e.keyListOptions.length?n("app-empty",{attrs:{description:"暂未关联项目，请联系本单位“数据专员”处理！"}}):e._e(),n("van-list",{attrs:{offset:"20",finished:e.finished},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[n("van-checkbox-group",{model:{value:e.keyCheckList,callback:function(t){e.keyCheckList=t},expression:"keyCheckList"}},[n("van-cell-group",e._l(e.keyListOptions,(function(t,r){return n("van-cell",{key:r,attrs:{clickable:""},on:{click:function(t){return e.changekeyClick(r)}},scopedSlots:e._u([{key:"default",fn:function(){return[n("div",[e._v(e._s(t.projectId+"/")+e._s(t.projectName))])]},proxy:!0},{key:"right-icon",fn:function(){return[n("van-checkbox",{ref:"checkboxes",refInFor:!0,attrs:{"checked-color":"#2271F5",name:t.projectId}})]},proxy:!0}],null,!0)})})),1)],1)],1)],1)],1),n("div",{staticClass:"commonButton-footer d-flex justify-center"},[n("van-button",{attrs:{size:"small",round:"",plain:""},on:{click:function(t){e.keyShow=!1,e.keyCheckList=[],e.keyCheckDetail=[]}}},[e._v("取消")]),n("van-button",{attrs:{size:"small",color:"#2271F5",type:"info","native-type":"submit",round:""},on:{click:e.keySure}},[e._v("确定")])],1)],1),n("van-action-sheet",{attrs:{actions:e.labelTreeList,"cancel-text":"取消","close-on-click-action":""},on:{select:e.onSelectLabel},model:{value:e.labelShow,callback:function(t){e.labelShow=t},expression:"labelShow"}})],1)},a=[],i=n("1da1"),s=n("d4ec"),o=n("bee2"),c=n("262e"),u=n("2caf"),l=(n("96cf"),n("99af"),n("b0c0"),n("a434"),n("3ca3"),n("ddb0"),n("d3b7"),n("4de4"),n("9ab4")),d=n("1b40"),h=n("6e5a"),f=n("53ae"),p=n("f727"),m=n("4bb5"),k=Object(m["a"])("crm"),b=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.innerCustomerLabelShow=!1,e.labelShow=!1,e.changeLabelIndex=0,e.innerNeedLabelValueList=[],e.activeIndex=0,e.changekeyIndex=0,e.keyListOptions=[],e.keyCheckValue="",e.keyShow=!1,e.keyCheckList=[],e.keyCheckDetail=[],e.toast=[],e}return Object(o["a"])(n,[{key:"onRefresh",value:function(){this.finished=!1,this.loading=!0,this.page=1,this.onLoad()}},{key:"onLoad",value:function(){this.refreshing&&(this.page=1,this.keyListOptions=[],this.refreshing=!1),this.loading=!0,this._getSzymProjectMng()}},{key:"keyChooseClick",value:function(e,t){this.keyShow=!0,this.changekeyIndex=t,this.keyCheckList=e.keyList,this.keyCheckDetail=e.keyCheckDetail}},{key:"_getSzymProjectMng",value:function(){var e=this,t={projectType:"",keyword:"",pageNum:this.page,pageSize:10};Object(h["f"])(t).then((function(t){"200"===t.code?(e.keyListOptions=e.keyListOptions.concat(t.data.list),t.hasNextPage?e.page++:e.finished=!0,e.loading=!1):e.keyListOptions=[]}))}},{key:"onSelectLabel",value:function(e){this.labelShow=!1,this.innerNeedLabelValueList[this.changeLabelIndex].remarkChangeIdValue!==e.value&&(this.innerNeedLabelValueList[this.changeLabelIndex].remarkChangeIdValue=e.value,this.innerNeedLabelValueList[this.changeLabelIndex].remarkChangeNameValue=e.name)}},{key:"deleteItemClick",value:function(e){this.innerNeedLabelValueList.splice(e,1),this.$forceUpdate()}},{key:"closeClick",value:function(){this.$emit("closeClick")}},{key:"addCustomList",value:function(){this.innerNeedLabelValueList.push({suvId:this.suvId||"",keyList:[],keyCheckDetail:[],remarkChangeIdValue:"",remarkChangeNameValue:"",fileList:[]}),this.$forceUpdate()}},{key:"upLoad",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,s,o,c,u,l=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t={},n=0;case 2:if(!(n<this.innerNeedLabelValueList.length)){e.next=24;break}if(r=this.innerNeedLabelValueList[n],a=r.fileList,!a){e.next=21;break}i=0;case 7:if(!(i<a.length)){e.next=21;break}if(s=a[i].file,o=[],!s){e.next=17;break}return this.toast[i]=this.$toast.loading({message:"上传中...",forbidClick:!0}),e.t0=o,e.next=15,Object(p["l"])({file:s,length:1,full:!0});case 15:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 17:t[n]=o;case 18:i++,e.next=7;break;case 21:n++,e.next=2;break;case 24:c=regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(l.innerNeedLabelValueList[n].fileUpList=[],!Object.prototype.hasOwnProperty.call(t,n)){e.next=5;break}return r=t[n],e.next=5,Promise.all(r).then((function(e){var t;null===(t=l.toast[n])||void 0===t||t.clear();for(var r=0;r<l.innerNeedLabelValueList[n].fileList.length;r++){var a=l.innerNeedLabelValueList[n].fileList[r];a.fileName&&l.innerNeedLabelValueList[n].fileUpList.push(a)}for(var i=0;i<e.length;i++){var s=e[i].data;l.innerNeedLabelValueList[n].fileUpList.push({fileName:s.fileName,fileType:s.suffix,fileUrl:s.url})}}));case 5:case"end":return e.stop()}}),e)})),e.t2=regeneratorRuntime.keys(t);case 26:if((e.t3=e.t2()).done){e.next=31;break}return u=e.t3.value,e.delegateYield(c(u),"t4",29);case 29:e.next=26;break;case 31:return e.abrupt("return",!0);case 32:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addCustomSure",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=[],!this.innerNeedLabelValueList.some((function(e){return!e.remarkChangeIdValue||!e.keyList.length}))){e.next=5;break}this.$dialog.confirm({title:"确认",confirmButtonColor:"#2271f5",message:"关联项目/事件分类必填！"}),e.next=9;break;case 5:return e.next=7,this.upLoad();case 7:for(n=0;n<this.innerNeedLabelValueList.length;n++)r=this.innerNeedLabelValueList[n],t.push({slrId:r.slrId,suvId:r.suvId,labelId:r.remarkChangeIdValue,projectIdList:r.keyList,remark:"",fileVOList:r.fileUpList,keyList:r.keyList,keyCheckDetail:r.keyCheckDetail,remarkChangeIdValue:r.remarkChangeIdValue,remarkChangeNameValue:r.remarkChangeNameValue,fileList:r.fileList});this.$emit("addCustomSure",t);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"changekeyClick",value:function(e){this.$refs.checkboxes[e].toggle()}},{key:"keySure",value:function(){var e=this,t=this.keyListOptions.filter((function(t){return-1!==e.keyCheckList.indexOf(t.projectId)}));this.$nextTick((function(){e.keyCheckDetail=t,e.keyShow=!1,e.innerNeedLabelValueList[e.changekeyIndex].keyList=e.keyCheckList,e.innerNeedLabelValueList[e.changekeyIndex].keyCheckDetail=t}))}},{key:"mounted",value:function(){this.innerCustomerLabelShow=this.customerLabelShow,this.staffMemberCheckDetail[this.activeName].remarkValueList.length?this.innerNeedLabelValueList=this.staffMemberCheckDetail[this.activeName].remarkValueList:this.innerNeedLabelValueList=[{suvId:this.suvId||"",keyList:[],keyCheckDetail:[],remarkChangeIdValue:"",remarkChangeNameValue:"",fileList:[]}]}}]),n}(Object(d["b"])(f["a"]));Object(l["a"])([k.Mutation],b.prototype,"SET_DATACHANGEOP",void 0),Object(l["a"])([k.Mutation],b.prototype,"SET_DETAILOBJ",void 0),Object(l["a"])([Object(d["c"])({default:0})],b.prototype,"activeName",void 0),Object(l["a"])([Object(d["c"])()],b.prototype,"customerLabelShow",void 0),Object(l["a"])([Object(d["c"])()],b.prototype,"customerId",void 0),Object(l["a"])([Object(d["c"])()],b.prototype,"suvId",void 0),Object(l["a"])([Object(d["c"])()],b.prototype,"staffMemberCheckDetail",void 0),Object(l["a"])([Object(d["c"])()],b.prototype,"labelTreeList",void 0),b=Object(l["a"])([Object(d["a"])({})],b);var v=b,y=v,g=(n("99e4"),n("2877")),C=Object(g["a"])(y,r,a,!1,null,"565f90a7",null);t["a"]=C.exports},e6bb:function(e,t,n){}}]);