(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62c8fade"],{2318:function(t,e,a){},"53ae":function(t,e,a){"use strict";var n=a("d4ec"),i=a("bee2"),r=a("262e"),s=a("2caf"),c=(a("b0c0"),a("9ab4")),o=a("1b40");o["a"].registerHooks(["beforeRouteEnter"]);var l=function(t){Object(r["a"])(a,t);var e=Object(s["a"])(a);function a(){var t;return Object(n["a"])(this,a),t=e.apply(this,arguments),t.page=1,t.total=0,t.dataList=[],t.loading=!1,t.finished=!1,t.refreshing=!1,t.finishText="",t.userIdList=[],t.error=!1,t}return Object(i["a"])(a,[{key:"beforeRouteEnter",value:function(t,e,a){a((function(t){"Home"!==e.name&&"TaskIndex"!==e.name||(t.dataList=[],t.page=1,t.loading=!1,t.finished=!0,t.refreshing=!1,t.$nextTick((function(){t.finished=!1})))}))}}]),a}(o["d"]);l=Object(c["a"])([Object(o["a"])({})],l),e["a"]=l},dbef:function(t,e,a){"use strict";a("2318")},e3d7:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"background-color-white"},[a("van-sticky",[a("div",{staticClass:"header px-4 d-flex align-center background-color-white"},[a("div",{staticClass:"flex-3 d-flex flex-column"},[a("span",{staticClass:"font-24 fontWeight color-black-1",staticStyle:{"font-family":"'HarmonyOS Sans SC Black'"}},[t._v(" "+t._s(t.entryObj.brandId)+"/ "+t._s(t.entryObj.brandName)+" ")]),a("span",{staticClass:"font-12 color-gray-5"},[t._v(t._s(t.entryObj.deptName)+"/"+t._s(t.entryObj.businessForm))])]),a("div",{staticClass:"flex-2 textAlignR",staticStyle:{"font-family":"'HarmonyOS Sans SC Bold'"},on:{click:t.calendarClick}},[a("span",{staticClass:"time color-gray-4 fontWeight font-16"},[t._v(t._s(t.dateTime))]),a("van-icon",{staticClass:"pl-1",attrs:{size:"14px",name:"arrow-down"}})],1)])]),a("div",{staticClass:"px-10 pt-10"},[a("div",{staticClass:"card py-2 pl-4 d-flex align-center positionR"},[t.totalLoading?a("div",{staticClass:"block-loading d-flex justify-center pa-8"},[a("van-loading",{attrs:{type:"spinner",color:"#3561F2"}})],1):t._e(),a("ul",{staticClass:"salesWarp d-flex flex-column"},[t._m(0),a("li",{staticClass:"d-flex flex-column"},[a("span",{staticClass:"font-28 fontWeight",staticStyle:{"font-family":"HarmonyOS_Sans_SC_Black"}},[t._v(t._s(t.yearAmountTotal)+" ")]),a("span",{staticClass:"color-main-2 font-14"},[t._v(t._s(t.getFH(t.yearNetIncreaseTotal))+t._s(t.yearNetIncreaseTotal))])])]),t._m(1)])]),a("div",{staticClass:"pa-10 pb-100"},[a("van-pull-refresh",{staticClass:"pt-10",on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},t._l(t.dataList,(function(e){return a("div",{key:e.city,staticClass:"card px-4 d-flex flex-column mb-2"},[a("div",{staticClass:"card-header py-2 color-gray-4 font-14"},[t._v(t._s(e.cityShow))]),a("div",{staticClass:"d-flex pb-2 justify-space-between align-center"},[a("span",{staticClass:"color-black-1 font-28"},[t._v(t._s(e.yearAmount)+"万元")]),a("span",{class:t.getColor(e.yearOnPercent)},[t._v(t._s(t.getFH(e.yearOnPercent))+t._s(e.yearOnPercent)+"%")])]),a("div",[a("van-progress",{staticClass:"mb-1",attrs:{percentage:e.progress,color:"#3561F2","show-pivot":!1,"stroke-width":"12"}})],1)])})),0)],1),a("van-calendar",{attrs:{"default-date":t.csjNowTime,"min-date":new Date(2021,0,1),"max-date":new Date((new Date).getTime()-864e5),"first-day-of-week":"1",color:"#1989fa","show-confirm":!1},on:{select:t.calendarConfirm},model:{value:t.calendarShow,callback:function(e){t.calendarShow=e},expression:"calendarShow"}})],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"color-gray-4 font-14"},[t._v("销售实绩 "),a("span",{staticClass:"font-12"},[t._v("(万元)")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex align-center echarts"},[a("div",{attrs:{id:"areaEcharts"}})])}],r=a("1da1"),s=a("d4ec"),c=a("bee2"),o=a("262e"),l=a("2caf"),d=(a("96cf"),a("ac1f"),a("5319"),a("b680"),a("1276"),a("d81d"),a("9ab4")),f=a("1b40"),u=a("313e"),h=a("2279"),y=a("53ae"),m=a("5b92"),p=a("4bb5"),b=Object(p["a"])("app"),v=function(t){Object(o["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.entryObj={},t.areaHeaderObj={},t.dateTime="",t.totalLoading=!1,t.calendarShow=!1,t.myChart=null,t.echartsList=[],t.yearAmountTotal=0,t.yearNetIncreaseTotal=0,t}return Object(c["a"])(a,[{key:"getColor",get:function(){return function(t){if(t){var e=String(t).replace(",","");return+e>0?"color-normal":"color-never"}}}},{key:"getFH",get:function(){return function(t){if(t){var e=String(t).replace(",","");return+e>0?"+":""}}}},{key:"calendarClick",value:function(){this.calendarShow=!0}},{key:"onRefresh",value:function(){this.finished=!1,this.loading=!1,this.dataList=[],this.page=1,this._getRegionStatList()}},{key:"calendarConfirm",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.calendarShow=!1,this.SET_CSJNOWTIME(e),this.SET_CSJCHANGETIME(!0),this.dateTime=this.$dayjs(e).format("YYYY-MM-DD"),this._getRegionStatList();case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"_getRegionStatList",value:function(){var t=this;Object(h["F"])({brandId:this.entryObj.brandId,businessForm:this.entryObj.businessForm,date:this.dateTime,deptId:this.entryObj.deptId,pageNum:1,pageSize:999}).then((function(e){t.refreshing=!1,t.echartsList=[];for(var a=0,n=0,i=0;i<e.data.list.length;i++){var r=e.data.list[i];a=t.$arithmetic.add(a,r.yearAmount).toFixed(2),n=t.$arithmetic.add(n,r.yearNetIncrease).toFixed(2),t.echartsList.push({name:r.city.split("市")[0]+"地区",value:r.yearAmount})}t.dataList=e.data.list.map((function(e){return{city:e.city,cityShow:e.city.split("市")[0]+"地区",yearAmount:Object(m["d"])(e.yearAmount,1),yearOnPercent:Object(m["d"])(e.yearOnPercent,2),progress:t.$arithmetic.multiply(t.$arithmetic.divide(e.yearAmount,a),100).toFixed(2)}})),t.yearAmountTotal=Object(m["d"])(a,1),t.yearNetIncreaseTotal=Object(m["d"])(n,1),t.getEcharts(t.echartsList)}))}},{key:"created",value:function(){this.entryObj=this.$route.query,this.dateTime=this.$dayjs(this.csjNowTime).format("YYYY-MM-DD")}},{key:"getEcharts",value:function(t){this.myChart&&this.myChart.clear();var e,a=document.getElementById("areaEcharts");this.myChart=u["b"](a),e={legend:{type:"scroll",orient:"vertical",icon:"circle",itemWidth:9,itemHeight:9,selectedMode:!1,textStyle:{fontSize:10},right:10,top:"center"},series:[{name:"Access From",type:"pie",radius:["50%","80%"],center:["30%","50%"],avoidLabelOverlap:!1,itemStyle:{borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},data:t}]},e&&this.myChart.setOption(e)}},{key:"mounted",value:function(){document.documentElement.scrollTop=0,this._getRegionStatList()}}]),a}(Object(f["b"])(y["a"]));Object(d["a"])([b.Getter],v.prototype,"csjNowTime",void 0),Object(d["a"])([b.Getter],v.prototype,"csjChangeTime",void 0),Object(d["a"])([b.Mutation],v.prototype,"SET_CSJNOWTIME",void 0),Object(d["a"])([b.Mutation],v.prototype,"SET_CSJCHANGETIME",void 0),v=Object(d["a"])([Object(f["a"])({})],v);var g=v,C=g,O=(a("dbef"),a("2877")),j=Object(O["a"])(C,n,i,!1,null,"5d7fd9f0",null);e["default"]=j.exports}}]);