(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e53f79f0"],{"53ae":function(t,e,a){"use strict";var s=a("d4ec"),n=a("bee2"),i=a("262e"),o=a("2caf"),r=(a("b0c0"),a("9ab4")),c=a("1b40");c["a"].registerHooks(["beforeRouteEnter"]);var l=function(t){Object(i["a"])(a,t);var e=Object(o["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.page=1,t.total=0,t.dataList=[],t.loading=!1,t.finished=!1,t.refreshing=!1,t.finishText="",t.userIdList=[],t.error=!1,t}return Object(n["a"])(a,[{key:"beforeRouteEnter",value:function(t,e,a){a((function(t){"Home"!==e.name&&"TaskIndex"!==e.name||(t.dataList=[],t.page=1,t.loading=!1,t.finished=!0,t.refreshing=!1,t.$nextTick((function(){t.finished=!1})))}))}}]),a}(c["d"]);l=Object(r["a"])([Object(c["a"])({})],l),e["a"]=l},5964:function(t,e,a){"use strict";a("cd28")},"5b65":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cardWarp positionR white-block mt-2"},[a("van-loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"block-loading",attrs:{type:"spinner",color:"#1989fa"}}),a("div",{staticClass:"d-flex justify-space-between py-4",staticStyle:{height:"50%","border-bottom":"1px solid #ebedf0"}},[a("div",{staticClass:"cardWarp-line flex-1 d-flex flex-column pl-2"},[a("span",{staticClass:"font-14"},[t._v("本月累计")]),a("span",{staticClass:"font-16"},[t._v(t._s(t.salesDataObj.currentMonthMoney))])]),a("div",{staticClass:"cardWarp-line flex-1 d-flex flex-column pl-2"},[a("span",{staticClass:"font-14"},[t._v("去年同期")]),a("span",{staticClass:"font-16 color-main-2"},[t._v(" "+t._s(t.salesDataObj.lyCurrentMonthMoney))])]),a("div",{staticClass:"cardWarp-line flex-1 d-flex flex-column pl-2"},[a("span",{staticClass:"font-14"},[t._v("同比增幅")]),a("span",{staticClass:"font-16",class:t.getColor(t.salesDataObj.monthPercentage)},[t._v(t._s(t.getFH(t.salesDataObj.monthPercentage))+t._s(t.salesDataObj.monthPercentage)+"%")])])]),a("div",{staticClass:"d-flex justify-space-between py-4",staticStyle:{height:"50%"}},[a("div",{staticClass:"cardWarp-line flex-1 d-flex flex-column pl-2"},[a("span",{staticClass:"font-14"},[t._v("本年累计")]),a("span",{staticClass:"font-16"},[t._v(t._s(t.salesDataObj.currentYearMoney))])]),a("div",{staticClass:"cardWarp-line flex-1 d-flex flex-column pl-2"},[a("span",{staticClass:"font-14"},[t._v("去年同期")]),a("span",{staticClass:"font-16 color-main-2"},[t._v(t._s(t.salesDataObj.lyCurrentYearMoney))])]),a("div",{staticClass:"cardWarp-line flex-1 d-flex flex-column pl-2"},[a("span",{staticClass:"font-14"},[t._v("同比增幅")]),a("span",{staticClass:"font-16",class:t.getColor(t.salesDataObj.yearPercentage)},[t._v(t._s(t.getFH(t.salesDataObj.yearPercentage))+t._s(t.salesDataObj.yearPercentage)+"%")])])])],1)},n=[],i=a("d4ec"),o=a("bee2"),r=a("262e"),c=a("2caf"),l=(a("ac1f"),a("5319"),a("9ab4")),d=a("1b40"),f=function(t){Object(r["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(i["a"])(this,a),e.apply(this,arguments)}return Object(o["a"])(a,[{key:"getFH",get:function(){return function(t){if(t){var e=String(t).replace(",","");return+e>0?"+":""}}}},{key:"getColor",get:function(){return function(t){if(t){var e=String(t).replace(",","");return+e>0?"color-normal":"color-never"}}}}]),a}(d["d"]);Object(l["a"])([Object(d["c"])()],f.prototype,"salesDataObj",void 0),Object(l["a"])([Object(d["c"])()],f.prototype,"loading",void 0),f=Object(l["a"])([Object(d["a"])({})],f);var u=f,p=u,h=(a("b37f"),a("2877")),b=Object(h["a"])(p,s,n,!1,null,"47311820",null);e["a"]=b.exports},"7e5c":function(t,e,a){},b37f:function(t,e,a){"use strict";a("e8d5")},cb2b:function(t,e,a){"use strict";a("7e5c")},cc19:function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"a",(function(){return n}));a("ac1f"),a("5319"),a("d3b7"),a("25f0"),a("b680");function s(t){var e=t/1e4;return Math.round(e).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}function n(t){var e=100*t;return e.toFixed(1)}},cd28:function(t,e,a){},ce9f:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"background-color-white"},[a("van-sticky",[a("van-sticky",[a("div",{staticClass:"header pa-3 d-flex align-center background-color-white"},[a("div",{staticClass:"flex-6 fontWeight font-14 slh-2"},[t._v(t._s(t.entryObj.customerId)+"/"+t._s(t.entryObj.customerName))]),a("div",{staticClass:"flex-3 d-flex align-center textAlignR background-color-white",staticStyle:{"font-family":"'HarmonyOS Sans SC Bold'"},on:{click:t.calendarClick}},[a("span",{staticClass:"time color-gray-4 fontWeight font-16"},[t._v(t._s(t.dateTime))]),a("van-icon",{staticClass:"pl-1",attrs:{size:"14px",name:"arrow-down"}})],1)]),a("div",{staticClass:"px-3 pb-3 font-14 background-color-white"},[t._v(" "+t._s(t.entryObj.deptName)+"/ "+t._s(t.entryObj.brandName)+"/ "+t._s(t.entryObj.businessForm)+" ")])])],1),a("div",{staticClass:"totalContent px-2"},[a("CommonCard",{attrs:{loading:t.saleLoading,salesDataObj:t.salesDataObj}})],1),a("div",{staticClass:"px-2"},[a("van-pull-refresh",{staticClass:"pt-10 pb-100",on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[a("van-list",{attrs:{offset:20,finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.dataList,(function(t,e){return a("detail-card",{key:e,attrs:{isClick:!1,data:t,name:t.name,mainDeptName:t.mainDeptName,showDepName:!1,per:t.data8,showDrxs:!1,perShow:!1}})})),1)],1)],1),a("div",{staticClass:"commonOpButton-footer"},[a("van-button",{attrs:{round:"",type:"primary",color:"#3561F2"},on:{click:function(e){t.orderTypeFlag=!0}}},[t._v(" 排序方式 ")])],1),a("van-action-sheet",{attrs:{actions:[{name:"销售实绩正序",id:"1-1",color:t.sortField+"-"+t.sortOrder==="1-1"?"#2271F5":""},{name:"销售实绩倒序",id:"1-2",color:t.sortField+"-"+t.sortOrder==="1-2"?"#2271F5":""},{name:"同比增幅正序",id:"3-1",color:t.sortField+"-"+t.sortOrder==="3-1"?"#2271F5":""},{name:"同比增幅倒序",id:"3-2",color:t.sortField+"-"+t.sortOrder==="3-2"?"#2271F5":""}],"cancel-text":"取消","get-container":"body","close-on-click-action":""},on:{select:t.orderTypeSelect},model:{value:t.orderTypeFlag,callback:function(e){t.orderTypeFlag=e},expression:"orderTypeFlag"}}),a("van-calendar",{attrs:{"default-date":t.csjNowTime,"min-date":new Date(2021,0,1),"max-date":new Date((new Date).getTime()-864e5),"first-day-of-week":"1",color:"#1989fa","show-confirm":!1},on:{select:t.calendarConfirm},model:{value:t.calendarShow,callback:function(e){t.calendarShow=e},expression:"calendarShow"}})],1)},n=[],i=a("1da1"),o=a("d4ec"),r=a("bee2"),c=a("262e"),l=a("2caf"),d=(a("96cf"),a("ac1f"),a("5319"),a("1276"),a("d81d"),a("99af"),a("9ab4")),f=a("1b40"),u=a("53ae"),p=a("ff2d"),h=a("5b65"),b=a("2279"),m=a("5b92"),v=a("4bb5"),g=Object(v["a"])("app"),y=function(t){Object(c["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.salesDataObj={},t.entryObj={},t.calendarShow=!1,t.dateTime="",t.saleLoading=!1,t.orderTypeFlag=!1,t.sortField=1,t.sortOrder=2,t}return Object(r["a"])(a,[{key:"getColor",get:function(){return function(t){if(t){var e=String(t).replace(",","");return+e>0?"color-normal":"color-never"}}}},{key:"getFH",get:function(){return function(t){if(t){var e=String(t).replace(",","");return+e>0?"+":""}}}},{key:"calendarConfirm",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.calendarShow=!1,this.SET_CSJNOWTIME(e),this.SET_CSJCHANGETIME(!0),this.dateTime=this.$dayjs(e).format("YYYY-MM-DD"),this._getStatList(),this.onRefresh();case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"calendarClick",value:function(){this.calendarShow=!0}},{key:"onRefresh",value:function(){this.finished=!1,this.loading=!1,this.dataList=[],this.page=1,this.onLoad()}},{key:"onLoad",value:function(){this.refreshing&&(this.page=1,this.dataList=[],this.refreshing=!1),this.loading=!0,this._getStatListByDeptAndBrandAndFormAndCustomer()}},{key:"_getStatList",value:function(){var t=this;this.saleLoading=!0,Object(b["M"])({brandId:this.entryObj.brandId,businessForm:this.entryObj.businessForm,date:this.dateTime,deptId:this.entryObj.deptId,pageNum:this.page,pageSize:8,area:"",city:"",province:"",customerKeyword:this.entryObj.customerId,sortField:this.sortField,sortOrder:this.sortOrder}).then((function(e){if(t.saleLoading=!1,e.success){var a=e.data.list[0];t.salesDataObj={areaShow:a.city.split("市")[0]+"地区",area:a.area,city:a.city,province:a.province,customerId:a.customerId,customerName:a.customerName,currentMonthMoney:Object(m["d"])(a.monthAmount,1),lyCurrentMonthMoney:Object(m["d"])(a.monthOnAmount,1),monthPercentage:Object(m["d"])(a.monthOnPercent,2),currentYearMoney:Object(m["d"])(a.yearAmount,1),lyCurrentYearMoney:Object(m["d"])(a.yearOnAmount,1),yearPercentage:Object(m["d"])(a.yearOnPercent,2)}}}))}},{key:"_getStatListByDeptAndBrandAndFormAndCustomer",value:function(){var t=this;Object(b["O"])({brandId:this.entryObj.brandId,businessForm:this.entryObj.businessForm,customerId:this.entryObj.customerId,date:this.dateTime,deptId:this.entryObj.deptId,pageNum:this.page,pageSize:8,sortField:this.sortField,sortOrder:this.sortOrder}).then((function(e){if(t.loading=!1,t.refreshing=!1,e.success){var a=e.data.list.map((function(t){return{id:t.goodsId,name:t.goodsId+"/"+t.goodsName,data2:t.monthAmount?t.monthAmount:0,data3:t.monthOnPercent?t.monthOnPercent:0,data4:t.entireOnMonthAmount?t.entireOnMonthAmount:0,data5:t.yearAmount?t.yearAmount:0,data6:t.yearOnPercent?t.yearOnPercent:0,data7:t.accuOnYearAmount?t.accuOnYearAmount:0}}));t.dataList=t.dataList.concat(a),t.total=e.data.total,e.data.hasNextPage&&t.page++,t.finished=!e.data.hasNextPage}else t.error=!0}))}},{key:"orderTypeSelect",value:function(t){var e=t.id.split("-");this.sortField=e[0],this.sortOrder=e[1],this.onRefresh()}},{key:"created",value:function(){this.entryObj=this.$route.query,this.dateTime=this.$dayjs(this.csjNowTime).format("YYYY-MM-DD")}},{key:"mounted",value:function(){document.documentElement.scrollTop=0,this._getStatList()}}]),a}(Object(f["b"])(u["a"]));Object(d["a"])([g.Getter],y.prototype,"csjNowTime",void 0),Object(d["a"])([g.Getter],y.prototype,"csjChangeTime",void 0),Object(d["a"])([g.Mutation],y.prototype,"SET_CSJNOWTIME",void 0),Object(d["a"])([g.Mutation],y.prototype,"SET_CSJCHANGETIME",void 0),y=Object(d["a"])([Object(f["a"])({components:{CommonCard:h["a"],detailCard:p["a"]}})],y);var O=y,j=O,C=(a("5964"),a("2877")),_=Object(C["a"])(j,s,n,!1,null,"51c9b073",null);e["default"]=_.exports},e8d5:function(t,e,a){},ff2d:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"white-bg detail-card mt-2 pa-2"},[t.showDepName?a("div",[a("div",{staticClass:"d-flex align-center justify-space-between font-16 lineHeight-23 px-2"},[a("div",{staticClass:"fontWeight-500 color-main-2"},[t._v(t._s(t.name))]),a("div",{staticClass:"fontWeight-500 color-main-2"},[t._v(t._s(t.getUnitValueUse(t.data.data1,1))+"万元")])]),a("div",{staticClass:"d-flex align-center justify-space-between font-12 lineHeight-20 mb-1 px-2"},[a("div",{staticClass:"color-gray-5"},[t._v(t._s(t.data.mainDeptName))]),a("div",{staticClass:"color-gray-5"},[t._v("当日销售")])])]):a("div",{staticClass:"d-flex align-center justify-space-between font-16 lineHeight-23 card-header",class:t.isClick?"color-main-2 ":""},[a("div",{staticClass:"fontWeight-500"},[t._v(t._s(t.name))]),t.showDrxs?a("div",[a("span",{staticClass:"fontWeight-500 color-gray-5"},[t._v("当日销售")]),a("span",{staticClass:"fontWeight"},[t._v(t._s(t.getUnitValueUse(t.data.data1,1))+"万元")])]):t._e()]),a("div",{staticClass:"card-line my-1"}),"台州销售部"==t.name?a("div",{staticClass:"mb-1"},[a("span",{staticClass:"font-12 lineHeight-17"},[t._v("根据23年业务下沉协议，23年实际增长率")]),a("span",{staticClass:"font-13 fontWeight-500 ml-2",class:t.data.data9>0?"color-normal":"color-never"},[t._v(" "+t._s(t.nToP(t.data.data9))+"% ")])]):t._e(),"金华销售部"==t.name?a("div",{staticClass:"mb-1"},[a("span",{staticClass:"font-12 lineHeight-17"},[t._v("剔除浙四，23年增长率")]),a("span",{staticClass:"font-13 fontWeight-500 ml-2",class:t.data.data9>0?"color-normal":"color-never"},[t._v(" "+t._s(t.nToP(t.data.data9))+"% ")])]):t._e(),a("div",{staticClass:"d-flex justify-space-between align-baseline"},[a("div",{staticClass:"d-flex align-center flex-column"},[a("span",{staticClass:"font-12 color-gray-4 lineHeight-17 mb-1"},[t._v("本月销售")]),a("span",{staticClass:"font-13 fontWeight-500 lineHeight-20"},[t._v(t._s(t.yToW(t.data.data2)))])]),a("div",{staticClass:"d-flex align-center flex-column"},[a("span",{staticClass:"font-12 color-gray-4 lineHeight-17 mb-1"},[t._v("月同比")]),a("span",{staticClass:"font-13 fontWeight-500 lineHeight-20",class:t.data.data3>0?"color-normal":"color-never"},[t._v(" "+t._s(t.nToP(t.data.data3))+"% ")])]),a("div",{staticClass:"d-flex align-center flex-column"},[a("span",{staticClass:"font-12 color-gray-4 lineHeight-17 mb-1"},[t._v("去年整月")]),a("span",{staticClass:"font-13 fontWeight-500 lineHeight-20"},[t._v(t._s(t.yToW(t.data.data4)))])]),a("div",{staticClass:"d-flex align-center flex-column"},[a("span",{staticClass:"font-12 color-gray-4 lineHeight-17 mb-1"},[t._v("本年累计")]),a("span",{staticClass:"font-13 fontWeight-500 lineHeight-20"},[t._v(t._s(t.yToW(t.data.data5)))])]),a("div",{staticClass:"d-flex align-center flex-column"},[a("span",{staticClass:"font-12 color-gray-4 lineHeight-17 mb-1"},[t._v("年同比")]),a("span",{staticClass:"font-13 fontWeight-500 lineHeight-20 d-felx",class:t.data.data6>0?"color-normal":"color-never"},[t._v(" "+t._s(t.nToP(t.data.data6))+"% ")])]),a("div",{staticClass:"d-flex align-center flex-column"},[a("span",{staticClass:"font-12 color-gray-4 lineHeight-17 mb-1"},[t._v("去年累计整月")]),a("span",{staticClass:"font-13 lineHeight-20 fontWeight-500"},[t._v(t._s(t.yToW(t.data.data7)))])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.per>-1&&t.perShow,expression:"per > -1 && perShow"}],staticClass:"positionR"},[a("van-progress",{staticClass:"mt-1",attrs:{percentage:t.per,"track-color":"rgba($color: #646566, $alpha: 0.6)",color:"#4970F3","show-pivot":!1,"stroke-width":"20"}}),a("div",{staticClass:"color-white progress-text font-14 lineHeight-20 pl-3"},[t._v("预算进度达成率"+t._s(t.nToP(t.per))+"%")])],1)])},n=[],i=a("bee2"),o=a("d4ec"),r=a("262e"),c=a("2caf"),l=(a("a9e3"),a("9ab4")),d=a("1b40"),f=a("cc19"),u=a("5b92"),p=function(t){Object(r["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.yToW=f["b"],t.nToP=f["a"],t.getUnitValueUse=u["d"],t}return Object(i["a"])(a)}(d["d"]);Object(l["a"])([Object(d["c"])({type:Object,default:{}})],p.prototype,"data",void 0),Object(l["a"])([Object(d["c"])({type:String,default:""})],p.prototype,"name",void 0),Object(l["a"])([Object(d["c"])({type:String,default:""})],p.prototype,"mainDeptName",void 0),Object(l["a"])([Object(d["c"])({type:Number,default:-1})],p.prototype,"per",void 0),Object(l["a"])([Object(d["c"])({default:!1})],p.prototype,"showDrxs",void 0),Object(l["a"])([Object(d["c"])({default:!1})],p.prototype,"showDepName",void 0),Object(l["a"])([Object(d["c"])({default:!0})],p.prototype,"isClick",void 0),Object(l["a"])([Object(d["c"])({default:!0})],p.prototype,"perShow",void 0),p=Object(l["a"])([Object(d["a"])({components:{}})],p);var h=p,b=h,m=(a("cb2b"),a("2877")),v=Object(m["a"])(b,s,n,!1,null,"6faad624",null);e["a"]=v.exports}}]);