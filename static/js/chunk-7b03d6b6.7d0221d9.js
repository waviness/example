(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b03d6b6"],{"34d1":function(t,e,r){"use strict";r.d(e,"i",(function(){return s})),r.d(e,"h",(function(){return u})),r.d(e,"g",(function(){return p})),r.d(e,"j",(function(){return l})),r.d(e,"k",(function(){return d})),r.d(e,"l",(function(){return b})),r.d(e,"m",(function(){return g})),r.d(e,"n",(function(){return w})),r.d(e,"a",(function(){return k})),r.d(e,"b",(function(){return R})),r.d(e,"c",(function(){return j})),r.d(e,"d",(function(){return _})),r.d(e,"e",(function(){return F})),r.d(e,"f",(function(){return G}));var n=r("1da1"),a=(r("96cf"),r("b32d")),i=r("90ae");function s(t){return o.apply(this,arguments)}function o(){return o=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/vbp/queryPm4Sales",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),o.apply(this,arguments)}function u(t){return c.apply(this,arguments)}function c(){return c=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/vbp/queryHospitalPolicyList",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),c.apply(this,arguments)}function p(t){return f.apply(this,arguments)}function f(){return f=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/vbp/queryHospitalPolicyDetail",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),f.apply(this,arguments)}function l(t){return h.apply(this,arguments)}function h(){return h=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/vbp/querySupplierHospitalList",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}function d(t){return m.apply(this,arguments)}function m(){return m=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/vbp/queryUnVBPGoods",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}function b(t){return v.apply(this,arguments)}function v(){return v=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/vbp/queryVBPGoodsDetail",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),v.apply(this,arguments)}function g(t){return y.apply(this,arguments)}function y(){return y=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/vbp/queryVisitGoodsDetail",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),y.apply(this,arguments)}function w(t){return D.apply(this,arguments)}function D(){return D=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/vbp/queryVisitGoodsList",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),D.apply(this,arguments)}function k(t){return x.apply(this,arguments)}function x(){return x=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/vbp/addHospitalPolicyDetail",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),x.apply(this,arguments)}function R(t){return O.apply(this,arguments)}function O(){return O=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/vbp/addUnVBPGoods",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),O.apply(this,arguments)}function j(t){return P.apply(this,arguments)}function P(){return P=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/vbp/addUnVBPGoodsDetail",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),P.apply(this,arguments)}function _(t){return V.apply(this,arguments)}function V(){return V=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/vbp/addVBPGoodsDetail",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),V.apply(this,arguments)}function F(t){return I.apply(this,arguments)}function I(){return I=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/vbp/addVisitGoodsDetail",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),I.apply(this,arguments)}function G(t){return B.apply(this,arguments)}function B(){return B=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].formDataPost(i["c"],"/api/vbp/deleteUnVBPGoodsDetail",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),B.apply(this,arguments)}},"7e84":function(t,e,r){},"887d":function(t,e,r){"use strict";r("7e84")},b641:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"pb-100"},[r("van-sticky",[r("div",{staticClass:"inner-block font-14 background-color-white"},[t._v(" "+t._s(t.detailInfor.customId)+"/"+t._s(t.detailInfor.customName)+" ")]),r("van-tabs",{attrs:{color:"#2271F5"},on:{change:t.onActiveChange},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[r("van-tab",{attrs:{title:"拜访任务",dot:t.taskDot}}),r("van-tab",{attrs:{title:"VBP品种信息填报",dot:t.vbpDot}})],1)],1),r("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[r("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了",error:t.error,"error-text":"请求失败，点击重新加载"},on:{"update:error":function(e){t.error=e},load:t.getDataList},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(e,n){return r("van-cell",{key:n,staticClass:"mt-2",attrs:{center:"","is-link":""},on:{click:function(r){return t.toDetail(e)}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(e.goodsName)+" ")]},proxy:!0},{key:"label",fn:function(){return[r("div",[t._v("生成时间："+t._s(e.creDate?e.creDate.split(" ")[0]:""))]),e.modifyDate?r("div",{staticClass:"mt-1"},[t._v(" 处理时间："+t._s(e.modifyDate?e.modifyDate.split(" ")[0]:"")+" ")]):t._e()]},proxy:!0},e.isFinish?{key:"default",fn:function(){return[t.active?r("van-tag",{attrs:{color:"#00A870",size:"medium"}},[t._v("已填报")]):r("van-tag",{attrs:{color:"#2271F5",size:"medium"}},[t._v("已完成")])]},proxy:!0}:null],null,!0)})})),1)],1)],1)},a=[],i=r("1da1"),s=r("d4ec"),o=r("bee2"),u=r("262e"),c=r("2caf"),p=(r("b0c0"),r("96cf"),r("9ab4")),f=r("1b40"),l=r("4bb5"),h=r("34d1"),d=Object(l["a"])("app"),m=function(t){Object(u["a"])(r,t);var e=Object(c["a"])(r);function r(){var t;return Object(s["a"])(this,r),t=e.apply(this,arguments),t.firstFlag=!0,t.active=0,t.taskDot=!1,t.vbpDot=!1,t.list=[],t.loading=!1,t.finished=!1,t.refreshing=!1,t.error=!1,t}return Object(o["a"])(r,[{key:"onActiveChange",value:function(){this.onRefresh()}},{key:"onRefresh",value:function(){this.finished=!1,this.loading=!0,this.list=[],this.getDataList()}},{key:"getDataList",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,r,n,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={customId:this.detailInfor.customId,type:this.active+1,pm4Id:this.salerInfor.userId},this.loading=!0,t.next=5,Object(h["n"])(e);case 5:r=t.sent,this.loading=!1,this.refreshing=!1,r.success?(this.taskDot=r.data.flag1,this.vbpDot=r.data.flag2,this.list=r.data.goodsVOS,this.finished=!0):this.error=!0,n=this.$route.meta,this.vbpDot&&n.isFirst&&this.firstFlag&&this.$dialog.confirm({title:"提示",message:"有VBP品种信息填报待填写",confirmButtonText:"前往",confirmButtonColor:"#2271f5",beforeClose:function(t,e){"confirm"===t?(a.active=1,a.firstFlag=!1,a.onRefresh(),e()):(a.active=0,a.firstFlag=!1,e())}});case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"toDetail",value:function(t){var e=t.goodsName;this.SET_HADDONEONDETAIL(!1);var r=this.active?"VbpProjectDetail":"VbpProjectFill";this.$router.push({name:r,params:{goodsName:e}})}},{key:"created",value:function(){this.list=[]}},{key:"activated",value:function(){var t=this.$route.meta;t.isFirst?(this.firstFlag=!0,this.active=0,this.onRefresh()):this.hadDoneOnDetail&&this.onRefresh()}}]),r}(f["d"]);Object(p["a"])([d.Mutation],m.prototype,"SET_HADDONEONDETAIL",void 0),Object(p["a"])([d.Getter],m.prototype,"hadDoneOnDetail",void 0),Object(p["a"])([d.Getter],m.prototype,"detailInfor",void 0),Object(p["a"])([d.Getter],m.prototype,"salerInfor",void 0),m=Object(p["a"])([Object(f["a"])({components:{},beforeRouteEnter:function(t,e,r){"VbpProjectCustomer"==e.name?(t.meta.isFirst=!0,r(!0)):(t.meta.isFirst=!1,r(!0))}})],m);var b=m,v=b,g=(r("887d"),r("2877")),y=Object(g["a"])(v,n,a,!1,null,"d7cfb3fc",null);e["default"]=y.exports}}]);