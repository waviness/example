(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-420c5520"],{"6eac":function(t,e,a){"use strict";a("bc58")},bc58:function(t,e,a){},faab:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pb-100"},[a("div",{staticClass:"px-10 pt-10"},[t._v(" "+t._s(0===+t.active?"预收预警详情":1===+t.active?"逾期预警详情":"逾期原因填报详情")+" ")]),a("type-circle",{staticClass:"inner-block",attrs:{type:+t.detail.type,active:+t.active}}),a("app-cell",{staticClass:"mt-2",attrs:{title:"客户信息",value:t.detail.customId?t.detail.customId+"/"+t.detail.customName:"",valueClass:"color-black-2"}}),a("app-cell",{staticClass:"mt-2",attrs:{title:"核算单元",value:t.detail.entryId,valueClass:"color-black-2"}}),0===+t.active?[a("app-cell",{staticClass:"mt-2",attrs:{title:"逾期金额",value:t.detail.overdueAmount,valueClass:"color-black-2"}}),a("app-cell",{staticClass:"mt-2",attrs:{title:"预收未处理",value:t.detail.unMixedMoney||0,valueClass:"color-black-2"}}),a("app-cell",{staticClass:"mt-2",attrs:{title:"最早挂账天数",value:t.detail.maxDay,valueClass:t.typeClass}})]:[+t.active<2?a("app-cell",{staticClass:"mt-2",attrs:{title:"应收账款",value:t.detail.receivable||0,valueClass:"color-black-2"}}):t._e(),a("app-cell",{staticClass:"mt-2",attrs:{title:"已逾期",value:t.detail.overdueAmount||0,valueClass:t.detail.overdueAmount>0?2===+t.active?"color-red":"color-orange-2":"color-black-2"}}),a("app-cell",{staticClass:"mt-2",attrs:{title:"预收未处理",value:t.detail.advanceAmount||0,valueClass:"color-black-2"}}),a("app-cell",{staticClass:"mt-2",attrs:{title:"剩余信额",value:void 0!==t.detail.creditAmount&&null!==t.detail.creditAmount?t.detail.creditAmount:"-",valueClass:"color-black-2"}}),+t.active>=2?a("app-cell",{staticClass:"mt-2",attrs:{title:"最长逾期天数",value:t.detail.maxDay,valueClass:"color-black-2"}}):t._e(),a("app-cell",{staticClass:"mt-2",attrs:{title:"信保状态",value:t.creditStatusText,valueClass:"color-black-2"}}),+t.active>=2?a("app-cell",{staticClass:"mt-2",attrs:{title:"信用天数",value:t.detail.creditDays,valueClass:"color-black-2"}}):t._e()],0===+t.active?a("div",{staticClass:"white-bg mt-2 py-10 px-4"},[a("account-list",{attrs:{list:t.detailList,valKey:"total",disabled:t.queryRemarkLoading,isAdvanced:""},on:{feedback:t.feedback}})],1):1===+t.active?a("div",{staticClass:"white-bg mt-2 py-10 px-4"},[a("div",{staticClass:"color-gray-5 font-14"},[t._v("应收金额（根据发货单确认日期）")]),a("account-list",{attrs:{list:t.detailList,dateKey:"billDate",valKey:"billAmount"}})],1):a("div",{staticClass:"white-bg mt-2 py-10 px-4"},[a("div",{staticClass:"color-gray-5 font-14"},[t._v("逾期金额到期分布")]),a("account-list",{attrs:{list:t.detailList,dateKey:"overdueDate",valKey:"overdueAmount",type:"danger"}})],1),2===+t.active?a("data-desc",{attrs:{presentText:"数据更新于本月第一个工作日，待财务勾对后，以第六个工作日展示的数据为准"}}):a("data-desc",{attrs:{presentText:"以上数据统计截止至昨日23:59",nextText:"下次更新时间为今日23:59"}}),t.feedShow?a("field-popup",{attrs:{title:t.curFeedBack.isRemark?"查看反馈":"填写反馈原因",content:t.feedbackText,placeholder:"请填写反馈原因",readonly:!!t.curFeedBack.isRemark},on:{close:function(e){t.feedShow=!1},confirm:t.submitFeedback}}):t._e()],2)},c=[],s=a("1da1"),l=a("d4ec"),r=a("bee2"),n=a("262e"),o=a("2caf"),d=(a("96cf"),a("9ab4")),u=a("1b40"),v=a("4bb5"),p=a("273c"),b=a("eed9"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pa-10"},t._l(t.list,(function(e,i){return a("div",{key:i,staticClass:"account"},[a("div",{staticClass:"d-flex justify-space-between"},[a("div",[a("div",{staticClass:"d-flex align-center"},[a("div",{class:"account-circle background-color-"+("danger"===t.type?"red":"main-2")}),a("div",{staticClass:"font-14 color-gray-4 ml-4"},[t._v(" "+t._s(t.isAdvanced?(e.paymentDate?t.formateDate(e.paymentDate):"")+"到账":t.formateDateWithoutDay(e[t.dateKey]))+" ")])]),a("div",{staticClass:"account-border font-14 font-bold pt-2"},[t._v(" "+t._s(e[t.valKey])),t.isAdvanced?a("span",[t._v("(未处理："+t._s(e.unMixedMoney||0)+")")]):t._e()])]),t.isAdvanced?a("div",[e.isRemark?a("van-button",{staticClass:"account-div__btn",attrs:{color:"#2271F5",type:"info",size:"small",round:"",disabled:t.disabled},on:{click:function(a){return t.onClick(2,e)}}},[t._v("查看")]):a("van-button",{staticClass:"account-div__btn",attrs:{color:"#2271F5",type:"info",size:"small",round:""},on:{click:function(a){return t.onClick(1,e)}}},[t._v("反馈")])],1):t._e()])])})),0)},m=[],h=(a("ac1f"),a("1276"),a("99af"),a("a9e3"),function(t){Object(n["a"])(a,t);var e=Object(o["a"])(a);function a(){return Object(l["a"])(this,a),e.apply(this,arguments)}return Object(r["a"])(a,[{key:"formateDate",value:function(t){var e=t.split(" ")[0].split("-");return"".concat(e[0],"年").concat(e[1],"月").concat(e[2],"日")}},{key:"formateDateWithoutDay",value:function(t){var e=t.split(" ")[0].split("-");return"".concat(e[0],"年").concat(Number(e[1]),"月")}},{key:"onClick",value:function(t,e){this.$emit("feedback",t,e)}}]),a}(u["d"]));Object(d["a"])([Object(u["c"])({type:Array,default:[]})],h.prototype,"list",void 0),Object(d["a"])([Object(u["c"])({type:String,default:"normal"})],h.prototype,"type",void 0),Object(d["a"])([Object(u["c"])({type:String,default:""})],h.prototype,"dateKey",void 0),Object(d["a"])([Object(u["c"])({type:String,default:""})],h.prototype,"valKey",void 0),Object(d["a"])([Object(u["c"])({type:Boolean,default:!1})],h.prototype,"isAdvanced",void 0),Object(d["a"])([Object(u["c"])({type:Boolean,default:!1})],h.prototype,"disabled",void 0),h=Object(d["a"])([Object(u["a"])({})],h);var y=h,k=y,g=(a("6eac"),a("2877")),O=Object(g["a"])(k,f,m,!1,null,"0a0f7092",null),C=O.exports,j=a("7845"),D=a("412c"),x=Object(v["a"])("app"),w=function(t){Object(n["a"])(a,t);var e=Object(o["a"])(a);function a(){var t;return Object(l["a"])(this,a),t=e.apply(this,arguments),t.active=t.$route.params.active,t.listItem=t.$route.params.item,t.detail={},t.detailList=[],t.loading=!1,t.queryRemarkLoading=!1,t.feedShow=!1,t.curFeedBack={},t.feedbackText="",t.feedFlag=!0,t}return Object(r["a"])(a,[{key:"typeClass",get:function(){var t="";if(0===+this.active){var e=["","red","orange-2","main-2"];t=e[this.listItem.type]}else t=1===+this.active?"orange-2":"red";return"color-".concat(t)}},{key:"creditStatusText",get:function(){var t=["A","B","C","D","E"];return void 0!==this.detail.creditStatus&&null!==this.detail.creditStatus?t[this.detail.creditStatus]:"-"}},{key:"getDetail",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,Object(D["d"])({cadId:this.listItem.cadId});case 3:e=t.sent,this.loading=!1,e.success&&(this.detail=e.data.advanceDataVO,this.detailList=e.data.advanceDataDetailDOList);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getOverdueWarnDetail",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,Object(D["j"])({cowId:this.listItem.cowId});case 3:e=t.sent,this.loading=!1,e.success&&(this.detail=e.data.crmOverdueWarnVO,this.detailList=e.data.overdueWarnDetailDOList);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getOverdueDetail",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,Object(D["g"])({codId:this.listItem.codId});case 3:e=t.sent,this.loading=!1,e.success&&(this.detail=e.data.overdueDataVO,this.detailList=e.data.overdueDataDetailDOList);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"feedback",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,a){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.curFeedBack=a,1!==e){t.next=7;break}this.feedbackText="",this.feedShow=!0,t.next=13;break;case 7:return this.queryRemarkLoading=!0,t.next=10,Object(D["f"])({caddId:a.caddId});case 10:i=t.sent,this.queryRemarkLoading=!1,i.success&&(this.feedbackText=i.data,this.feedShow=!0);case 13:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"submitFeedback",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.feedFlag){t.next=7;break}return this.feedFlag=!1,t.next=4,Object(D["a"])({caddId:this.curFeedBack.caddId,remark:e});case 4:a=t.sent,this.feedFlag=!0,a.success&&(this.$toast.success(a.msg||"反馈成功"),this.getDetail(),this.feedShow=!1);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"created",value:function(){0===+this.active?this.getDetail():1===+this.active?this.getOverdueWarnDetail():this.getOverdueDetail()}}]),a}(u["d"]);Object(d["a"])([x.Mutation],w.prototype,"SET_HADDONEONDETAIL",void 0),w=Object(d["a"])([Object(u["a"])({components:{DataDesc:p["a"],TypeCircle:b["a"],AccountList:C,FieldPopup:j["a"]}})],w);var _=w,A=_,I=Object(g["a"])(A,i,c,!1,null,null,null);e["default"]=I.exports}}]);