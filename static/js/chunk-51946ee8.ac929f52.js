(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51946ee8"],{7874:function(e,t,a){"use strict";a("b987")},"7f45":function(e,t,a){"use strict";a("8ac3")},"8ac3":function(e,t,a){},b987:function(e,t,a){},d2339:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"taskSupervisionList"},[a("van-sticky",[a("div",{staticClass:"tabHeader"},[a("div",{staticClass:"send tabCommon",class:{tabCommonActive:0===e.activeNumber},on:{click:function(t){return e.tabClick(0)}}},[e._v("我发出的")]),a("div",{staticClass:"get tabCommon",class:{tabCommonActive:1===e.activeNumber},on:{click:function(t){return e.tabClick(1)}}},[e._v("我收到的")])]),a("div",{staticClass:"total"},[e._v("共"+e._s(e.total)+"条")])]),a("van-pull-refresh",{on:{refresh:e.onRefresh},model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[a("van-list",{staticClass:"pb-100",attrs:{offset:"20",finished:e.finished},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.dataList,(function(t,s){return a("div",{key:"dbList"+s,class:1===e.statusNumber?"list":"list list-disabled",on:{click:function(a){return e.taskListClick(t)}}},[a("div",{staticClass:"list-header"},[a("span",{staticClass:"title"},[e._v(e._s(t.useTitle))]),a("span",{staticClass:"time right"},[e._v(e._s(t.creTime))])]),a("div",{staticClass:"list-status"},[e._l(t.problemLableList,(function(t,s){return a("span",{directives:[{name:"show",rawName:"v-show",value:1===e.activeNumber,expression:"activeNumber === 1"}],key:"proIndex"+s,staticClass:"bigData-color-main tagItem"},[e._v("#"+e._s(t))])})),a("span",{staticClass:"right",class:1===t.emergencyLevel?"color-green":2===t.emergencyLevel?"color-orange":3===t.emergencyLevel?"color-red":""},[e._v(" 「"+e._s(1===t.emergencyLevel?"普通":2===t.emergencyLevel?"重要":3===t.emergencyLevel?"紧急":"")+"」 ")])],2),a("div",{staticClass:"list-tag"},[e._l(t.problemLableList,(function(t,s){return a("span",{directives:[{name:"show",rawName:"v-show",value:0===e.activeNumber,expression:"activeNumber === 0"}],key:"proIndex"+s,staticClass:"bigData-color-main tagItem"},[e._v("#"+e._s(t))])})),a("span",{directives:[{name:"show",rawName:"v-show",value:1===e.activeNumber,expression:"activeNumber === 1"}]},[e._v("发送人："+e._s(t.creName))]),a("span",{staticClass:"right fontWeight"},[e._v(e._s(1===e.statusNumber?"进行中":"已完成"))])],2)])})),0),0!==e.dataList.length||e.loading?e._e():a("van-empty",{attrs:{description:"暂无数据"}})],1),a("van-button",{staticClass:"problemSupervision",attrs:{color:"#2271F5",round:"",type:"info"},on:{click:e.statusClick}},[a("van-icon",{attrs:{size:"14px",name:"warning-o"}}),e._v(" 点击切换成「"+e._s(1===e.statusNumber?"已完成":"进行中")+"」 ")],1)],1)},i=[],n=a("1da1"),r=a("d4ec"),c=a("bee2"),l=a("262e"),o=a("2caf"),u=(a("96cf"),a("99af"),a("9ab4")),d=a("1b40"),v=a("8cfc"),m=a("4bb5"),b=Object(m["a"])("bigData"),h=function(e){Object(l["a"])(a,e);var t=Object(o["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.activeNumber=1,e.isExpand=!1,e.refreshing=!1,e.finished=!1,e.loading=!1,e.total=0,e.page=1,e.pageSize=10,e.dataList=[],e.statusNumber=1,e}return Object(c["a"])(a,[{key:"statusClick",value:function(){this.$crmUserClick({catalogType:1,catalogTypeName:"CDP",cucrId:"",menuId:"",menuName:"",menuOperation:"督办列表状态切换按钮点击",operationType:3}),this.statusNumber=1===this.statusNumber?2:1,this.onRefresh()}},{key:"onRefresh",value:function(){this.finished=!1,this.loading=!0,this.page=1,this.onLoad()}},{key:"onLoad",value:function(){this.refreshing&&(this.page=1,this.dataList=[],this.refreshing=!1),this.loading=!0,this._getSynergiaOrderList()}},{key:"_getSynergiaOrderList",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return 1===this.page&&(this.dataList=[]),e.next=3,Object(v["l"])({selectType:this.activeNumber,useStatus:this.statusNumber,startTime:"",endTime:"",keyword:"",pageNum:this.page,pageSize:10});case 3:if(t=e.sent,"200"===t.code){for(a=0;a<t.data.data.list.length;a++)s=t.data.data.list[a],s.useTitle=s.orderTitle;this.dataList=this.dataList.concat(t.data.data.list),this.total=t.data.data.total,t.data.data.hasNextPage?this.page++:this.finished=!0,this.loading=!1}else this.$toast.fail(t.msg),this.dataList=[],this.finished=!0,this.loading=!1;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"tabClick",value:function(e){this.activeNumber=e,this.statusNumber=1,this.onRefresh()}},{key:"taskListClick",value:function(e){e.activeNumber=this.activeNumber,this.$emit("taskListClick",e),this.$crmUserClick({catalogType:1,catalogTypeName:"CDP",cucrId:"",menuId:"",menuName:"",menuOperation:"督办列表点击",operationType:4})}}]),a}(d["d"]);Object(u["a"])([b.Getter],h.prototype,"deptObj",void 0),h=Object(u["a"])([Object(d["a"])({})],h);var p=h,g=p,f=(a("7f45"),a("2877")),_=Object(f["a"])(g,s,i,!1,null,"aa0de934",null);t["a"]=_.exports},d258:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail"},[a("div",{staticClass:"detail-header"},[a("div",{staticClass:"header-title"},[a("span",{staticClass:"title"},[e._v(e._s(e.detailObj.orderTitle))]),a("span",{staticClass:"time right"},[e._v(e._s(e.detailObj.creTime))])]),a("div",{staticClass:"header-status"},[e._l(e.detailObj.problemLableList,(function(t,s){return a("span",{directives:[{name:"show",rawName:"v-show",value:1===e.item.activeNumber,expression:"item.activeNumber === 1"}],key:"proIndex"+s,staticClass:"bigData-color-main tagItem"},[e._v("#"+e._s(t))])})),a("span",{staticClass:"right",class:1===e.detailObj.emergencyLevel?"color-green":2===e.item.emergencyLevel?"color-orange":3===e.detailObj.emergencyLevel?"color-red":""},[e._v(" 「"+e._s(1===e.detailObj.emergencyLevel?"普通":2===e.detailObj.emergencyLevel?"重要":3===e.detailObj.emergencyLevel?"紧急":"")+"」 ")])],2),a("div",{staticClass:"header-tag"},[e._l(e.detailObj.problemLableList,(function(t,s){return a("span",{directives:[{name:"show",rawName:"v-show",value:0===e.item.activeNumber,expression:"item.activeNumber === 0"}],key:"proIndex"+s,staticClass:"bigData-color-main tagItem"},[e._v("#"+e._s(t))])})),a("span",{directives:[{name:"show",rawName:"v-show",value:1===e.item.activeNumber,expression:"item.activeNumber === 1"}]},[e._v("发送人："+e._s(e.detailObj.sendName))]),a("span",{staticClass:"right fontWeight"},[e._v(e._s(1===e.detailObj.useStatus?"进行中":"已完成"))])],2)]),e._m(0),a("div",{staticClass:"detail-content"},[e._v(" "+e._s(e.detailObj.orderContent)+" ")]),e._m(1),e._l(e.detailObj.files,(function(t,s){return a("div",{key:"file"+s,staticClass:"detail-image",on:{click:function(a){return e.getImg(t)}}},[a("div",{staticClass:"image"},[a("icon-svg",{attrs:{size:"small",name:"ytcrm-image"}}),e._v(" 督办页面详情.png ")],1),a("div",{staticClass:"bigData-color-main"},[e._v("点击查看")])])})),a("div",{staticClass:"detail-block"},[a("span",{staticClass:"block"}),a("span",{staticClass:"label"},[e._v("回执"+e._s(0===e.item.activeNumber?"列表":"信息"))])]),1===e.item.activeNumber&&2===e.detailObj.useStatus?a("div",{staticClass:"detail-send"},[a("div",{staticClass:"header"},[e._v(" "+e._s(e.detailObj.sendName)+" "),a("span",{staticClass:"time"},[e._v(e._s(e.detailObj.callBackTime))])]),a("div",{staticClass:"content"},[e._v(" "+e._s(e.detailObj.content)+" ")]),e.detailObj.content?e._e():a("div",{staticClass:"noBack"},[e._v("暂无回执")])]):e._e(),e.detailObj.sendList&&0===e.item.activeNumber?a("div",{staticClass:"detail-send"},e._l(e.detailObj.sendList,(function(t,s){return a("div",{key:"send"+s,staticClass:"list"},[a("div",{staticClass:"header"},[e._v(" "+e._s(t.sendUserName)+" "),a("span",{staticClass:"time"},[e._v(e._s(t.callBackTime))])]),a("div",{staticClass:"content"},[e._v(" "+e._s(t.content)+" ")]),t.content?e._e():a("div",{staticClass:"noBack"},[e._v("暂无回执")])])})),0):e._e(),1===e.item.activeNumber&&1===e.detailObj.useStatus?a("div",{staticClass:"detail-reply"},[a("van-field",{attrs:{rows:"2",autosize:"",type:"textarea",placeholder:"请输入回执"},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1):e._e(),1===e.item.activeNumber&&1===e.detailObj.useStatus?a("div",{staticClass:"button"},[a("van-button",{attrs:{plain:"",type:"info",color:"#3561f2",round:""},on:{click:function(t){return e.$emit("cancelClick")}}},[e._v("取消")]),a("van-button",{attrs:{type:"info",color:"#3561f2",round:""},on:{click:e._receiptSynergiaOrderl}},[e._v("提交")])],1):e._e()],2)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail-block"},[a("span",{staticClass:"block"}),a("span",{staticClass:"label"},[e._v("补充意见")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail-block"},[a("span",{staticClass:"block"}),a("span",{staticClass:"label"},[e._v("附件")])])}],n=(a("4662"),a("28a2")),r=a("1da1"),c=a("d4ec"),l=a("bee2"),o=a("262e"),u=a("2caf"),d=(a("ac1f"),a("1276"),a("fb6a"),a("96cf"),a("9ab4")),v=a("1b40"),m=a("8cfc"),b=function(e){Object(o["a"])(a,e);var t=Object(u["a"])(a);function a(){var e;return Object(c["a"])(this,a),e=t.apply(this,arguments),e.detailObj={},e.message="",e}return Object(l["a"])(a,[{key:"_getSendSynergiaOrderDetail",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$toast.loading(),e.next=3,Object(m["i"])({csoId:this.item.csoId});case 3:a=e.sent,t.clear(),s=a.data,this.detailObj=s;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_getReceiveSynergiaOrderDetail",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$toast.loading(),e.next=3,Object(m["h"])({csoId:this.item.csoId});case 3:a=e.sent,t.clear(),s=a.data,i=s.orderTitle.split(" "),s.useTitle=i[0]+" "+i[1],s.problemLableList=i.slice(2,i.length),this.detailObj=s;case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_receiptSynergiaOrderl",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.message){e.next=3;break}return this.$toast.fail("请输入回执内容"),e.abrupt("return");case 3:return t=this.$toast.loading({message:"回执中......"}),e.next=6,Object(m["q"])({csoId:this.item.csoId,csodId:this.detailObj.csodId,receiptContent:this.message});case 6:a=e.sent,t.clear(),"200"===a.code?(this.$toast.success(a.msg),0===this.item.activeNumber?this._getSendSynergiaOrderDetail():this._getReceiveSynergiaOrderDetail()):this.$toast.fail(a.msg),this.$crmUserClick({catalogType:1,catalogTypeName:"CDP",cucrId:"",menuId:"",menuName:"",menuOperation:"任务督办详情中提交按钮点击",operationType:3});case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getImg",value:function(){for(var e=[],t=0;t<this.detailObj.files.length;t++){var a=this.detailObj.files[t];e.push("https://intmedic-wx.oss-cn-hangzhou.aliyuncs.com/"+a.fileUrl)}Object(n["a"])({images:e,showIndex:!0,loop:!1,startPosition:0})}},{key:"mounted",value:function(){0===this.item.activeNumber?this._getSendSynergiaOrderDetail():this._getReceiveSynergiaOrderDetail()}}]),a}(v["d"]);Object(d["a"])([Object(v["c"])()],b.prototype,"item",void 0),b=Object(d["a"])([Object(v["a"])({})],b);var h=b,p=h,g=(a("7874"),a("2877")),f=Object(g["a"])(p,s,i,!1,null,"c4e90dce",null);t["a"]=f.exports}}]);