(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49dae15a"],{"118c":function(t,e,i){},"2c4b":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-sticky",[i("div",{staticClass:"header px-10 pt-10 white-bg"},[1!==+t.role||t.filterShow?t._e():i("div",{staticClass:"font-16 pb-3 fontWeight"},[t._v("询证函异常列表")]),i("div",{class:["pa-10 common-filter",t.filterShow?"color-main-2":"",t.filterActive?"common-filter--active":""],on:{click:function(e){t.filterShow=!t.filterShow}}},[i("div",[t._v("条件筛选")]),i("van-icon",{attrs:{name:"arrow-"+(t.filterShow?"up":"down"),size:"16px"}})],1)]),i("van-tabs",{attrs:{color:"#2271F5"},on:{click:t.onTabClick},model:{value:t.activeType,callback:function(e){t.activeType=e},expression:"activeType"}},[i("van-tab",{attrs:{name:"0",title:"未处理"}}),i("van-tab",{attrs:{name:"1",title:"已处理"}})],1)],1),i("van-pull-refresh",{staticClass:"pt-10 px-10",attrs:{id:"filterContainer"},on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[i("van-list",{staticClass:"pb-100",attrs:{offset:20,finished:t.finished,"finished-text":""},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[t.loading||t.queryListData.length?t._e():i("app-empty",{staticClass:"pb-6 white-bg",attrs:{description:"暂无数据"}}),t._l(t.queryListData,(function(e,a){return i("list",{key:"query"+a,attrs:{item:e,index:a},on:{detailClick:t.detailClick}})}))],2)],1),i("van-popup",{attrs:{position:"top","get-container":"#filterContainer"},model:{value:t.filterShow,callback:function(e){t.filterShow=e},expression:"filterShow"}},[i("filter-pop",{on:{showPickerDateClick:function(e){t.showPickerDate=!0},filterSubmit:t.filterSubmit,reset:t.reset}})],1)],1)},n=[],r=i("5530"),s=i("d4ec"),c=i("bee2"),o=i("262e"),l=i("2caf"),u=(i("99af"),i("a434"),i("b0c0"),i("9ab4")),f=i("1b40"),d=i("c68a"),m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-form",[i("van-field",{attrs:{clickable:"",readonly:"",label:"时间范围",placeholder:"点击选择时间范围","input-align":"right"},on:{click:t.showPickerDateClick},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}}),i("van-field",{attrs:{label:"客户ID","input-align":"right",placeholder:"请输入客户ID"},model:{value:t.filterObj.customerId,callback:function(e){t.$set(t.filterObj,"customerId",e)},expression:"filterObj.customerId"}}),i("van-field",{attrs:{label:"客户名称","input-align":"right",placeholder:"请输入客户名称"},model:{value:t.filterObj.customName,callback:function(e){t.$set(t.filterObj,"customName",e)},expression:"filterObj.customName"}}),i("van-field",{attrs:{label:"核算单元ID","input-align":"right",placeholder:"请输入核算单元ID"},model:{value:t.filterObj.entryId,callback:function(e){t.$set(t.filterObj,"entryId",e)},expression:"filterObj.entryId"}}),i("van-field",{attrs:{label:"核算单元名称","input-align":"right",placeholder:"请输入核算单元名称"},model:{value:t.filterObj.entryName,callback:function(e){t.$set(t.filterObj,"entryName",e)},expression:"filterObj.entryName"}}),i("van-field",{attrs:{label:"分支机构ID","input-align":"right",placeholder:"请输入分支机构ID"},model:{value:t.filterObj.contactId,callback:function(e){t.$set(t.filterObj,"contactId",e)},expression:"filterObj.contactId"}}),i("van-field",{attrs:{label:"分支机构名称","input-align":"right",placeholder:"请输入分支机构名称"},model:{value:t.filterObj.contactName,callback:function(e){t.$set(t.filterObj,"contactName",e)},expression:"filterObj.contactName"}})],1),i("div",{staticClass:"dropdown-opts"},[i("van-button",{staticClass:"dropdown-opts__btn",attrs:{type:"default",size:"small",block:"",round:""},on:{click:t.reset}},[t._v("重置")]),i("van-button",{staticClass:"dropdown-opts__btn",attrs:{type:"info",size:"small",block:"",round:"",color:"#2271F5"},on:{click:t.filterSubmit}},[t._v("确认")])],1),t.showPickerDate?i("van-calendar",{attrs:{"get-container":"#app",type:"range","min-date":t.minDate,maxDate:t.maxDate,color:"#2271F5","allow-same-day":""},on:{confirm:t.onConfirmDate},model:{value:t.showPickerDate,callback:function(e){t.showPickerDate=e},expression:"showPickerDate"}}):t._e()],1)},h=[],b=i("3835"),p=function(t){Object(o["a"])(i,t);var e=Object(l["a"])(i);function i(){var t;return Object(s["a"])(this,i),t=e.apply(this,arguments),t.showPickerDate=!1,t.minDate=new Date(2010,0,1),t.maxDate=new Date,t.dateRange="",t.filterObj={startTime:"",endTime:"",customerId:"",customName:"",entryId:"",entryName:"",contactId:"",contactName:""},t}return Object(c["a"])(i,[{key:"onConfirmDate",value:function(t){var e=Object(b["a"])(t,2),i=e[0],a=e[1];this.filterObj.startTime=this.$dayjs(i).format("YYYY-MM-DD"),this.filterObj.endTime=this.$dayjs(a).format("YYYY-MM-DD"),this.showPickerDate=!1,this.dateRange="".concat(this.filterObj.startTime," 至 ").concat(this.filterObj.endTime)}},{key:"filterSubmit",value:function(){this.$emit("filterSubmit",this.filterObj)}},{key:"showPickerDateClick",value:function(){this.showPickerDate=!0}},{key:"reset",value:function(){this.$emit("reset"),this.filterObj={startTime:"",endTime:"",customerId:"",customName:"",entryId:"",entryName:"",contactId:"",contactName:""},this.dateRange=""}}]),i}(f["d"]);p=Object(u["a"])([Object(f["a"])({})],p);var v=p,O=v,j=(i("c11b"),i("2877")),y=Object(j["a"])(O,m,h,!1,null,"cac17c76",null),g=y.exports,k=i("53ae"),w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"common-list mb-2",on:{click:t.detailClick}},[i("div",{staticClass:"common-list-content"},[i("div",{staticClass:"common-list-two"},[i("div",{staticClass:"fontWeight"},[t._v(t._s(t.item.customerId)+"/"+t._s(t.item.customerName.split("/")[0]))]),i("div",{staticClass:"fontWeight-500 color-gray-4 common-list-minWidth",staticStyle:{width:"120px"}},[t._v(" "+t._s(t.item.createTime&&t.item.createTime.substring(0,16))+" ")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.item.contactId,expression:"item.contactId"}],staticClass:"common-list-one color-gray-4"},[t._v(t._s(t.item.contactId)+t._s(t.item.contactName))]),i("div",{staticClass:"common-list-one d-flex justify-space-between"},[i("span",{staticClass:"color-gray-4"},[t._v("核算单元")]),i("span",[t._v(t._s(t.item.entryId)+"/"+t._s(t.item.entryName))])]),i("div",{staticClass:"common-list-one d-flex justify-space-between"},[i("span",{staticClass:"color-gray-4"},[t._v("发起人")]),i("span",[t._v(t._s(t.item.userId)+"/"+t._s(t.item.userName))])])])])},x=[],I=function(t){Object(o["a"])(i,t);var e=Object(l["a"])(i);function i(){return Object(s["a"])(this,i),e.apply(this,arguments)}return Object(c["a"])(i,[{key:"detailClick",value:function(){this.$emit("detailClick",{item:this.item,index:this.index})}}]),i}(f["d"]);Object(u["a"])([Object(f["c"])()],I.prototype,"item",void 0),Object(u["a"])([Object(f["c"])()],I.prototype,"index",void 0),I=Object(u["a"])([Object(f["a"])({})],I);var C=I,T=C,D=Object(j["a"])(T,w,x,!1,null,"b740037c",null),_=D.exports,N=i("4bb5"),R=Object(N["a"])("crm"),S=function(t){Object(o["a"])(i,t);var e=Object(l["a"])(i);function i(){var t;return Object(s["a"])(this,i),t=e.apply(this,arguments),t.role=0,t.filterObj={startTime:"",endTime:"",customerId:"",customName:"",entryId:"",entryName:"",contactId:"",contactName:""},t.filterShow=!1,t.filterActive=!1,t.activeType=0,t.queryListData=[],t.reload=!0,t.detailObj={},t}return Object(c["a"])(i,[{key:"onTabClick",value:function(){this.onRefresh()}},{key:"onRefresh",value:function(){this.finished=!1,this.loading=!1,this.refreshing=!1,this.page=1,this.onLoad()}},{key:"onLoad",value:function(){this.refreshing&&(this.page=1,this.queryListData=[],this.refreshing=!1),this.loading=!0,this._getQueryList()}},{key:"_getQueryList",value:function(){var t=this;1===this.page&&(this.queryListData=[]);var e={role:this.role,type:this.activeType,startTime:this.filterObj.startTime?this.filterObj.startTime+" 00:00:00":"",endTime:this.filterObj.endTime?this.filterObj.endTime+" 23:59:59":"",customerId:this.filterObj.customerId,customerName:this.filterObj.customerName,contactId:this.filterObj.contactId,contactName:this.filterObj.contactName,entryId:this.filterObj.entryId,entryName:this.filterObj.entryName,pageNum:this.page,pageSize:7};Object(d["f"])(e).then((function(e){t.queryListData=t.queryListData.concat(e.data.list),e.data.hasNextPage?t.page++:t.finished=!0,t.loading=!1}))}},{key:"filterSubmit",value:function(t){this.filterObj=Object(r["a"])({},t),this.filterShow=!1,this.filterObj.customerId||this.filterObj.customName||this.filterObj.entryId||this.filterObj.entryName||this.filterObj.contactId||this.filterObj.contactName||this.filterObj.startTime||this.filterObj.endTime?this.filterActive=!0:this.filterActive=!1,this.filterShow=!1,this.onRefresh()}},{key:"reset",value:function(){this.filterObj.customerId="",this.filterObj.customName="",this.filterObj.entryId="",this.filterObj.entryName="",this.filterObj.contactId="",this.filterObj.contactName="",this.filterObj.startTime="",this.filterObj.endTime="",this.filterActive=!1,this.onRefresh()}},{key:"detailClick",value:function(t){var e=t.item,i=t.index;e.index=i,this.SET_DETAILOBJ(e),this.$router.push({name:"InquiryAbnormalDealDetail"})}},{key:"mounted",value:function(){this.role=this.$route.query.role?this.$route.query.role:0}},{key:"activated",value:function(){this.reload&&(this.activeType=0,this.role=this.$route.query.role?this.$route.query.role:0,this.reset(),this.reload=!1),this.dataChangeOp&&(this.dataList.splice(this.detailObj.index,1),this.SET_DATACHANGEOP(""))}}]),i}(Object(f["b"])(k["a"]));Object(u["a"])([R.Mutation],S.prototype,"SET_DETAILOBJ",void 0),Object(u["a"])([R.Mutation],S.prototype,"SET_DATACHANGEOP",void 0),Object(u["a"])([R.Getter],S.prototype,"dataChangeOp",void 0),S=Object(u["a"])([Object(f["a"])({components:{filterPop:g,list:_},beforeRouteLeave:function(t,e,i){"TaskIndex"!==t.name&&"Home"!==e.name||(this.reload=!0),i()}})],S);var L=S,q=L,$=(i("d9b7"),Object(j["a"])(q,a,n,!1,null,"4cdb85c7",null));e["default"]=$.exports},"4ab4":function(t,e,i){},"53ae":function(t,e,i){"use strict";var a=i("d4ec"),n=i("bee2"),r=i("262e"),s=i("2caf"),c=(i("b0c0"),i("9ab4")),o=i("1b40");o["a"].registerHooks(["beforeRouteEnter"]);var l=function(t){Object(r["a"])(i,t);var e=Object(s["a"])(i);function i(){var t;return Object(a["a"])(this,i),t=e.apply(this,arguments),t.page=1,t.total=0,t.dataList=[],t.loading=!1,t.finished=!1,t.refreshing=!1,t.finishText="",t.userIdList=[],t.error=!1,t}return Object(n["a"])(i,[{key:"beforeRouteEnter",value:function(t,e,i){i((function(t){"Home"!==e.name&&"TaskIndex"!==e.name||(t.dataList=[],t.page=1,t.loading=!1,t.finished=!0,t.refreshing=!1,t.$nextTick((function(){t.finished=!1})))}))}}]),i}(o["d"]);l=Object(c["a"])([Object(o["a"])({})],l),e["a"]=l},c11b:function(t,e,i){"use strict";i("118c")},c68a:function(t,e,i){"use strict";i.d(e,"d",(function(){return s})),i.d(e,"g",(function(){return c})),i.d(e,"h",(function(){return o})),i.d(e,"b",(function(){return l})),i.d(e,"c",(function(){return u})),i.d(e,"a",(function(){return f})),i.d(e,"f",(function(){return d})),i.d(e,"e",(function(){return m}));var a=i("1da1"),n=(i("96cf"),i("b32d")),r=i("90ae"),s=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n["a"].post(r["d"],"/api/task/getConfirmationRequestList",e,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n["a"].get(r["d"],"/api/task/updateConfirmationRequestStatue",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n["a"].post(r["d"],"/api/task/uploadConfirmationRequestPictures",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n["a"].post(r["d"],"/api/task/downloadConfirmationRequestPictures",e,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n["a"].get(r["d"],"/api/task/exceedTimeLimitTask",e,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n["a"].post(r["d"],"/api/task/activeInitiateConfirmationRequest",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n["a"].get(r["d"],"/api/task/initiatedConfirmationRequest",e,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,i){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n["a"].putGet(r["d"],"/api/task/handleConfirmationRequest/".concat(e),i);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,i){return t.apply(this,arguments)}}()},d9b7:function(t,e,i){"use strict";i("4ab4")}}]);