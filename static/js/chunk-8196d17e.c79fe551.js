(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8196d17e"],{"0d96":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"full-width white-bg mb-2 card-detail px-3 py-4 font-12"},[i("div",{staticClass:"d-flex align-center justify-space-between id-content"},[i("span",{staticClass:"id-div"},[e._v(e._s(e.info.entryId)+"/"+e._s(e.info.entryName))])]),i("div",{staticClass:"d-flex align-center justify-space-between mb-2 content-div"},[i("span",{staticClass:"color-second"},[e._v("客户")]),i("span",[e._v(e._s(e.info.customerId)+"/"+e._s(e.info.customerName))])]),i("div",{staticClass:"d-flex align-center justify-space-between mb-2 content-div"},[i("span",{staticClass:"color-second"},[e._v("分支机构")]),i("span",[e._v(e._s(e.info.contactId?e.info.contactId+"/"+e.info.contactName:"-"))])]),i("div",{staticClass:"d-flex align-center justify-space-between mb-2 content-div"},[i("span",{staticClass:"color-second"},[e._v("品种")]),i("span",[e._v(e._s(e.info.goodsId)+"/"+e._s(e.info.goodsName))])]),i("div",{staticClass:"d-flex align-center justify-space-between content-div"},[i("span",{staticClass:"color-second"},[e._v("上次销售时间")]),i("span",[e._v(e._s(e.info.lastSaleDate))])])])},n=[],s=i("bee2"),a=i("d4ec"),o=i("262e"),l=i("2caf"),c=i("9ab4"),u=i("1b40"),d=function(e){Object(o["a"])(i,e);var t=Object(l["a"])(i);function i(){return Object(a["a"])(this,i),t.apply(this,arguments)}return Object(s["a"])(i)}(u["d"]);Object(c["a"])([Object(u["c"])({type:Object,default:{}})],d.prototype,"info",void 0),d=Object(c["a"])([Object(u["a"])({components:{}})],d);var f=d,h=f,p=(i("ecfe"),i("2877")),b=Object(p["a"])(h,r,n,!1,null,"7f334d8c",null);t["a"]=b.exports},"273e":function(e,t,i){"use strict";i.d(t,"d",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"b",(function(){return l})),i.d(t,"a",(function(){return c}));var r=i("1da1"),n=(i("96cf"),i("b32d")),s=i("90ae"),a=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n["a"].post(s["d"],"/api/WxHighvalue/getToSalerListWx",t,!0);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n["a"].post(s["d"],"/api/WxHighvalue/getToSalerListSupplyerWx",t,!0);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n["a"].get(s["d"],"/api/WxHighvalue/getToSalerDetail",t,!0);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n["a"].post(s["d"],"/api/WxHighvalue/feedback",t,!0);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"53ae":function(e,t,i){"use strict";var r=i("d4ec"),n=i("bee2"),s=i("262e"),a=i("2caf"),o=(i("b0c0"),i("9ab4")),l=i("1b40");l["a"].registerHooks(["beforeRouteEnter"]);var c=function(e){Object(s["a"])(i,e);var t=Object(a["a"])(i);function i(){var e;return Object(r["a"])(this,i),e=t.apply(this,arguments),e.page=1,e.total=0,e.dataList=[],e.loading=!1,e.finished=!1,e.refreshing=!1,e.finishText="",e.userIdList=[],e.error=!1,e}return Object(n["a"])(i,[{key:"beforeRouteEnter",value:function(e,t,i){i((function(e){"Home"!==t.name&&"TaskIndex"!==t.name||(e.dataList=[],e.page=1,e.loading=!1,e.finished=!0,e.refreshing=!1,e.$nextTick((function(){e.finished=!1})))}))}}]),i}(l["d"]);c=Object(o["a"])([Object(l["a"])({})],c),t["a"]=c},8512:function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"full-HW hight-value"},[i("div",{staticClass:"white-bg filter-div",class:e.getOtherClass},[i("div",{staticClass:"d-flex align-center justify-space-between common-filter full-height px-3 font-14 filter-button",on:{click:e.showPopup}},[i("span",[e._v("条件筛选")]),i("van-icon",{attrs:{name:"arrow-down"}})],1)]),i("div",{staticClass:"block-div"}),i("van-tabs",{on:{change:e.handleTabChange},model:{value:e.tabActiveIndex,callback:function(t){e.tabActiveIndex=t},expression:"tabActiveIndex"}},[i("van-tab",{attrs:{title:"业务未处理",name:0}}),i("van-tab",{attrs:{title:"业务已处理",name:1}})],1),i("div",{staticClass:"overflow-x-hidden card-list"},[i("van-pull-refresh",{staticStyle:{"min-height":"100%"},on:{refresh:e.onRefresh},model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[i("van-list",{directives:[{name:"show",rawName:"v-show",value:!e.finished||e.dataList.length>0,expression:"!finished || dataList.length > 0"}],attrs:{finished:e.finished,"finished-text":"没有更多了"},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.dataList,(function(t,r){return i("card-detail",{key:r,attrs:{info:t},nativeOn:{click:function(i){return e.showDetail(t)}}})})),1),e.loading||e.dataList.length?e._e():i("app-empty",{staticClass:"mt-6 white-bg",attrs:{description:"暂无数据"}})],1)],1),i("div",{staticClass:"commonOpButton-footer commonOpButton-footer-1"},[e.needQueryAll||e.needQueryAllEntrys||e.needQueryAllDept?i("van-button",{attrs:{round:"",color:"#2271F5",type:"primary"},on:{click:e.justSelfClick}},[e._v(" "+e._s(e.isJustSelf?"显示全部":"显示与我相关")+" ")]):e._e()],1),i("van-popup",{attrs:{round:"",position:"top"},on:{"click-overlay":e.closePupup},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[i("div",{staticClass:"white-bg filter-div show-div"},[i("div",{staticClass:"d-flex align-center justify-space-between common-filter full-height px-3 font-14 filter-button"},[i("span",[e._v("条件筛选")]),i("van-icon",{attrs:{name:"arrow-down"}})],1)]),i("div",{staticClass:"popup-line"}),i("van-field",{attrs:{label:"货品ID｜名称",placeholder:"请输入货品ID｜名称","input-align":"right",clearable:""},model:{value:e.filterObj.goodsKeyword,callback:function(t){e.$set(e.filterObj,"goodsKeyword",t)},expression:"filterObj.goodsKeyword"}}),i("van-field",{attrs:{label:"客户ID｜名称",placeholder:"请输入客户ID｜名称","input-align":"right",clearable:""},model:{value:e.filterObj.customerKeyword,callback:function(t){e.$set(e.filterObj,"customerKeyword",t)},expression:"filterObj.customerKeyword"}}),i("van-field",{attrs:{label:"核算单元",placeholder:"点击输入核算单元ID｜名称","input-align":"right",clearable:""},model:{value:e.filterObj.entryKeyword,callback:function(t){e.$set(e.filterObj,"entryKeyword",t)},expression:"filterObj.entryKeyword"}}),i("van-field",{directives:[{name:"show",rawName:"v-show",value:!e.isJustSelf,expression:"!isJustSelf"}],attrs:{label:"人员选择",placeholder:"请选择人员","input-align":"right"},on:{click:e.getUsersClick},model:{value:e.filterObj.userNames,callback:function(t){e.$set(e.filterObj,"userNames",t)},expression:"filterObj.userNames"}}),i("div",{staticClass:"d-flex justify-center mt-4 mb-5"},[i("van-button",{staticClass:"popup-button mr-3",attrs:{round:""},on:{click:e.refreshFilter}},[e._v("重置")]),i("van-button",{staticClass:"popup-button",attrs:{round:"",type:"info"},on:{click:e.handleFilter}},[e._v("确认")])],1)],1),e.hasDept?i("dept-user",{ref:"deptUer",attrs:{show:e.changeTypeShow,loading:e.getUserListLoading,depTreeList:e.depTreeList,deptUserData:e.deptUserData,searchList:e.userDataList,isSelect:!0,needName:!0},on:{search:e.refreshUserByKeywords,refresh:e.refreshUserByDepts,confirm:e.onTreeConfirm,cancel:e.handleCancel}}):e._e()],1)},n=[],s=i("d4ec"),a=i("bee2"),o=i("262e"),l=i("2caf"),c=(i("e9c4"),i("99af"),i("b0c0"),i("d3b7"),i("9ab4")),u=i("1b40"),d=i("53ae"),f=i("0d96"),h=i("273e"),p=i("8393"),b=function(e){Object(o["a"])(i,e);var t=Object(l["a"])(i);function i(){var e;return Object(s["a"])(this,i),e=t.apply(this,arguments),e.show=!1,e.filterObj={goodsKeyword:"",customerKeyword:"",entryKeyword:"",userNames:""},e.originFilter={goodsKeyword:"",customerKeyword:"",entryKeyword:"",userNames:""},e.isJustSelf=!1,e.tabActiveIndex=0,e.needQueryAll=!1,e.needQueryAllEntrys=!1,e.needQueryAllDept=!1,e.userIdLists=[],e}return Object(a["a"])(i,[{key:"getOtherClass",get:function(){var e="";return(this.filterObj.goodsKeyword||this.filterObj.customerKeyword||this.filterObj.entryKeyword||this.filterObj.userNames)&&(e="have-filter"),e}},{key:"showPopup",value:function(){this.originFilter=JSON.parse(JSON.stringify(this.filterObj)),this.show=!0}},{key:"handleTabChange",value:function(){this.onRefresh()}},{key:"onRefresh",value:function(){this.page=1,this.finished=!1,this.refreshing=!1,this._getToSalerListSupplyerWx()}},{key:"onLoad",value:function(){var e=this;this.$nextTick((function(){e._getToSalerListSupplyerWx()}))}},{key:"refreshFilter",value:function(){this.filterObj.goodsKeyword="",this.filterObj.customerKeyword="",this.filterObj.entryKeyword="",this.filterObj.userNames=""}},{key:"handleFilter",value:function(){this.show=!1,this.filterObj.goodsKeyword===this.originFilter.goodsKeyword&&this.filterObj.customerKeyword===this.originFilter.customerKeyword&&this.filterObj.entryKeyword===this.originFilter.entryKeyword&&this.filterObj.userNames===this.originFilter.userNames||(this.page=1,this.finished=!1,this._getToSalerListSupplyerWx())}},{key:"closePupup",value:function(){this.filterObj.goodsKeyword=this.originFilter.goodsKeyword,this.filterObj.customerKeyword=this.originFilter.customerKeyword,this.filterObj.entryKeyword=this.originFilter.entryKeyword}},{key:"_getToSalerListSupplyerWx",value:function(){var e=this;this.loading=!0,1===this.page&&(this.dataList=[]),Object(h["c"])({customerKeyword:this.filterObj.customerKeyword,entryKeyword:this.filterObj.entryKeyword,goodsKeyword:this.filterObj.goodsKeyword,feedbackStatus:this.tabActiveIndex,selectType:this.isJustSelf?0:3,userIdList:this.filterObj.userNames?this.userIdLists:[],pageNum:this.page,pageSize:10}).then((function(t){"200"==t.code&&t.data&&t.data.list||(e.finished=!0,e.loading=!1,e.$toast.fail(t.msg)),e.dataList=e.dataList.concat(t.data.list),e.loading=!1,t.data.hasNextPage?e.page++:e.finished=!0}))}},{key:"showDetail",value:function(e){var t=this,i={chgtsId:e.chgtsId,statusDtl:this.tabActiveIndex+1};this.$nextTick((function(){t.$router.push({name:"hightValueDetail",query:i})}))}},{key:"justSelfClick",value:function(){this.isJustSelf=!this.isJustSelf,this.filterObj.userNames="",this.onRefresh()}},{key:"onTreeConfirm",value:function(e){this.userIdLists=e.list,this.filterObj.userNames=e.name,this.changeTypeShow=!1}},{key:"handleCancel",value:function(){this.userIdLists=[],this.filterObj.userNames="",this.changeTypeShow=!1}},{key:"activated",value:function(){var e=this,t=JSON.parse(localStorage.getItem("permissions")||"");this.needQueryAll=t.some((function(e){return"orderintegrateWx-query-all"===e})),this.needQueryAllEntrys=t.some((function(e){return"orderintegrateWx-query-entry"===e})),this.needQueryAllDept=t.some((function(e){return"orderintegrateWx-query-dept"===e})),"1"===sessionStorage.getItem("hightChange")&&(sessionStorage.removeItem("hightChange"),this.$nextTick((function(){e.onRefresh()})))}}]),i}(Object(u["b"])(d["a"],p["a"]));b=Object(c["a"])([Object(u["a"])({components:{cardDetail:f["a"]}})],b);var v=b,g=v,y=(i("9b97"),i("2877")),m=Object(y["a"])(g,r,n,!1,null,"6d74202a",null);t["default"]=m.exports},"8b47":function(e,t,i){},"9b97":function(e,t,i){"use strict";i("b64c")},b64c:function(e,t,i){},ecfe:function(e,t,i){"use strict";i("8b47")}}]);