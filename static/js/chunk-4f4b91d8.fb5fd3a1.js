(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f4b91d8"],{"0ab0":function(a,t,e){},"29dc":function(a,t,e){"use strict";e("0ab0")},"5f30":function(a,t,e){"use strict";e.r(t);var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"all-balance-gross"},[e("van-sticky",[e("van-search",{staticClass:"custom-search",attrs:{shape:"round","input-align":"center",placeholder:"搜索",background:"white"},on:{search:a.onSearch},model:{value:a.searchValue,callback:function(t){a.searchValue=t},expression:"searchValue"}})],1),e("div",{staticClass:"card-container pb-100"},a._l(a.filteredData,(function(t,s){return e("div",{key:s,staticClass:"card",on:{click:function(e){return a.cardClick(t.deptId,t.deptName)}}},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"blue-icon"}),e("div",{staticClass:"unit-name"},[a._v(a._s(t.deptName))]),e("div",{staticClass:"date-range"},[a._v(a._s(t.dateRange))]),e("van-icon",{attrs:{name:"arrow"}})],1),e("div",{staticClass:"card-body px-2 pt-2 pb-2"},[e("div",{staticClass:"data-row"},[e("div",{staticClass:"data-item"},[e("div",{staticClass:"data-label"},[a._v("平衡毛利(万元)")]),e("div",{staticClass:"data-value"},[a._v(a._s(t.phml))]),e("div",{staticClass:"data-change"},[e("i",{class:a.getTrendIconClass(t.phmltb)}),e("span",{class:a.getChangeClass(t.phmltb)},[a._v(" "+a._s(Math.abs(t.phmltb))+"% ")])])]),e("div",{staticClass:"data-item"},[e("div",{staticClass:"data-label"},[a._v("平衡毛利率")]),e("div",{staticClass:"data-value"},[a._v(a._s(t.phmll)+"%")]),e("div",{staticClass:"data-change"},[e("i",{class:a.getTrendIconClass(t.phmlltb)}),e("span",{class:a.getChangeClass(t.phmlltb)},[a._v(" "+a._s(Math.abs(t.phmlltb))+"% ")])])]),e("div",{staticClass:"data-item"},[e("div",{staticClass:"data-label"},[a._v("整体销售(万元)")]),e("div",{staticClass:"data-value"},[a._v(a._s(t.wsxs))]),e("div",{staticClass:"data-change"},[e("i",{class:a.getTrendIconClass(t.wsxstb)}),e("span",{class:a.getChangeClass(t.wsxstb)},[a._v(" "+a._s(Math.abs(t.wsxstb))+"% ")])])]),e("div",{staticClass:"data-item"},[e("div",{staticClass:"data-label"},[a._v("基础毛利率")]),e("div",{staticClass:"data-value"},[a._v(a._s(t.jcmll)+"%")]),e("div",{staticClass:"data-change"},[e("i",{class:a.getTrendIconClass(t.jcmlltb)}),e("span",{class:a.getChangeClass(t.jcmlltb)},[a._v(" "+a._s(Math.abs(t.jcmlltb))+"% ")])])])])])])})),0)],1)},c=[],l=e("1da1"),n=e("d4ec"),i=e("bee2"),r=e("262e"),d=e("2caf"),u=(e("96cf"),e("4de4"),e("d3b7"),e("caad"),e("2532"),e("d81d"),e("b680"),e("99af"),e("9ab4")),o=e("1b40"),h=e("2279"),b=e("5b92"),p=e("4bb5"),v=e("b32d"),m=Object(p["a"])("app"),C=function(a){Object(r["a"])(e,a);var t=Object(d["a"])(e);function e(){var a;return Object(n["a"])(this,e),a=t.apply(this,arguments),a.searchValue="",a.phmlData=[],a}return Object(i["a"])(e,[{key:"getTrendIconClass",value:function(a){return a>0?"rank-up-icon":a<0?"rank-down-icon":"rank-line-icon"}},{key:"getChangeClass",value:function(a){return a>0?"increase":a<0?"decrease":"no-change"}},{key:"cardClick",value:function(a,t){this.$router.push({name:"BalanceGross",query:{deptId:a,deptName:t,type:"0",role:this.$route.query.role}})}},{key:"filteredData",get:function(){var a=this;return this.searchValue?this.phmlData.filter((function(t){return t.deptName.includes(a.searchValue)})):this.phmlData}},{key:"onSearch",value:function(a){}},{key:"_queryBalanceProfitBar",value:function(){var a=Object(l["a"])(regeneratorRuntime.mark((function a(t){var e,s=this;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(h["T"])({userId:t});case 2:e=a.sent,e&&(this.phmlData=e.data.map((function(a){return{deptId:a.deptId,deptName:a.deptName,dateRange:s.getDateRange(a.year,a.month),phml:Object(b["b"])(a.phml),phmltb:a.phmltb?a.phmltb.toFixed(2):"-",phmll:a.phmll?a.phmll.toFixed(2):"-",phmlltb:a.phmlltb?a.phmlltb.toFixed(2):"-",wsxs:Object(b["b"])(a.wsxs),wsxstb:a.wsxstb?a.wsxstb.toFixed(2):"-",jcmll:a.jcmll?a.jcmll.toFixed(2):"-",jcmlltb:a.jcmlltb?a.jcmlltb.toFixed(2):"-"}})));case 4:case"end":return a.stop()}}),a,this)})));function t(t){return a.apply(this,arguments)}return t}()},{key:"getDateRange",value:function(a,t){var e="01",s=t<10?"0".concat(t):"".concat(t);return"".concat(a,".").concat(e,"月至").concat(s,"月")}},{key:"mounted",value:function(){var a=this.userInfor.userId;this._queryBalanceProfitBar(a)}},{key:"destroyed",value:function(){Object(v["b"])()}}]),e}(o["d"]);Object(u["a"])([m.Getter],C.prototype,"userInfor",void 0),C=Object(u["a"])([Object(o["a"])({components:{}})],C);var f=C,g=f,_=(e("29dc"),e("2877")),j=Object(_["a"])(g,s,c,!1,null,"409d39f7",null);t["default"]=j.exports}}]);