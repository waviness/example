(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68d2b7f9"],{"05a1":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pb-100"},[a("project-ex-common-block",{attrs:{leaderLevel:t.leaderLevel,data:t.data,title:t.projectObj.projectName,selectMonth:t.selectMonth,columns:t.columns,orgList:t.orgList,resList:t.resList},on:{tabChange:t.onTabChange,monthChange:t.onMonthChange,search:t.onDeptSearch,userChange:t.onUserChange}},[a("div",{staticClass:"d-flex align-center"},[a("van-search",{staticClass:"flex-1",attrs:{clearable:"",placeholder:t.placeholder},on:{search:t.onSearchGoods},model:{value:t.searchParams.key,callback:function(e){t.$set(t.searchParams,"key",e)},expression:"searchParams.key"}}),a("type-tab",{attrs:{type:t.typeValue},on:{click:t.onTypeChange}})],1),a("div",{staticClass:"overflow-x-auto"},[a("div",{staticClass:"d-flex",staticStyle:{"min-width":"511px",height:"44px"}},[a("th-item",{staticClass:"ex-item-left",staticStyle:{width:"16%","min-width":"75px"},attrs:{title:"部门名称"}}),a("th-item",{staticClass:"ml-2",staticStyle:{width:"16%","min-width":"78px"},attrs:{title:"指标口径"}}),a("th-item",{staticClass:"ml-2",staticStyle:{width:"16%","min-width":"78px"},attrs:{title:"口径类型"}}),a("th-item",{staticClass:"ml-2",staticStyle:{width:"15%","min-width":"60px"},attrs:{title:1===t.typeValue?"指标":"覆盖"}}),a("th-item",{staticClass:"ml-2",staticStyle:{width:"20%","min-width":"102px"},attrs:{title:1===t.typeValue?"完成指标":"已覆盖",sort:t.searchParams.finishnum,sortShow:""},on:{click:function(e){return t.onSortClick(1)}}}),a("th-item",{staticClass:"ml-2",staticStyle:{width:"17%","min-width":"78px"},attrs:{title:1===t.typeValue?"完成率":"覆盖率",sort:t.searchParams.ratenum,sortShow:""},on:{click:function(e){return t.onSortClick(2)}}})],1),a("van-list",{staticStyle:{"min-width":"527px"},attrs:{finished:t.finished,"finished-text":"",error:t.error,"error-text":"请求失败，点击重新加载","immediate-check":!1},on:{"update:error":function(e){t.error=e},load:t.getGoodsList},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[a("app-empty",{directives:[{name:"show",rawName:"v-show",value:!t.loading&&!t.list.length,expression:"!loading && !list.length"}],staticClass:"py-7",attrs:{description:"暂无数据"}}),t._l(t.list,(function(t,e){return a("project-ex-item",{key:e,attrs:{data:t,gray:e%2===0}})}))],2)],1)]),a("fix-button",{attrs:{title:"点击查看项目品种政策",smallFont:""},on:{click:t.toPolicy}})],1)},i=[],r=a("2909"),n=a("1da1"),o=a("d4ec"),c=a("bee2"),h=a("262e"),l=a("2caf"),d=(a("96cf"),a("ac1f"),a("5319"),a("caad"),a("2532"),a("d3b7"),a("25f0"),a("159b"),a("b0c0"),a("99af"),a("9ab4")),u=a("1b40"),p=a("e124"),m=a("a8c3"),g=a("4bb5"),f=Object(g["a"])("app"),y=function(t){Object(h["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.leaderLevel=0,t.projectObj={},t.typeValue=1,t.data={},t.searchParams={key:"",finishnum:1,ratenum:0},t.page=1,t.pageSize=10,t.list=[],t.loading=!1,t.refreshing=!1,t.finished=!1,t.error=!1,t}return Object(c["a"])(a,[{key:"onTabChange",value:function(){this.$route.params.flag="1",this.$router.back()}},{key:"getData",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(m["k"])({date:this.selectMonth.replace(".","-"),centerId:1===this.resList[0].id?"":this.resList[0].id,crmDeptId:this.resList[1].id.toString().includes("-1")?"":this.resList[1].id,projectId:this.projectObj.projectId});case 2:e=t.sent,this.data=e.data;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"onMonthChange",value:function(t){this.selectMonth=t,this.getData(),this.getGoodsList()}},{key:"onUserChange",value:function(t){this.onDeptSearch(""),this.resList=Object(r["a"])(t),this.getData(),this.onSearchGoods()}},{key:"onSortClick",value:function(t){1===t&&(this.searchParams.finishnum=1===this.searchParams.finishnum?2:1,this.searchParams.ratenum=0),2===t&&(this.searchParams.ratenum=1===this.searchParams.ratenum?2:1,this.searchParams.finishnum=0),this.onSearchGoods()}},{key:"onTypeChange",value:function(t){this.typeValue=t,this.onSearchGoods()}},{key:"onSearchGoods",value:function(){this.finished=!1,this.loading=!0,this.list=[],this.page=1,this.getGoodsList()}},{key:"getGoodsList",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,s,i,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.searchParams,a=e.key,s=e.finishnum,i=e.ratenum,n={date:this.selectMonth.replace(".","-"),centerId:1===this.resList[0].id?"":this.resList[0].id,crmDeptId:this.resList[1].id.toString().includes("-1")?"":this.resList[1].id,flag:this.typeValue,projectId:this.projectObj.projectId,key:a,orderColumn:s?"targetCompleted":i?"completeRate":"",orderType:2===s||2===i?1:0,pageNum:this.page,pageSize:this.pageSize},this.loading=!0,t.next=5,Object(m["j"])(n);case 5:o=t.sent,this.loading=!1,this.refreshing=!1,o.success?(o.data.list.forEach((function(t){t.name=t.deptName})),this.list=[].concat(Object(r["a"])(this.list),Object(r["a"])(o.data.list)),this.page++,this.finished=!o.data.hasNextPage):this.error=!0;case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"toPolicy",value:function(){this.$router.push({name:"ProjectManagePolicy",params:{type:"2",date:this.selectMonth.replace(".","-"),projectObj:this.projectObj}})}},{key:"activated",value:function(){if(this.leaderLevel=this.queryParams.leaderLevel,this.hadDoneOnDetail){var t=this.projectParams,e=t.columns,a=t.selectMonth,s=t.orgOriginList,i=t.resList,n=t.data,o=t.typeValue;this.columns=e,this.selectMonth=a,this.orgOriginList=s,this.orgList=Object(r["a"])(this.orgOriginList),this.resList=i,this.projectObj=n,this.typeValue=o,this.getData(),this.onSearchGoods()}}}]),a}(Object(u["b"])(p["a"]));Object(d["a"])([f.Getter],y.prototype,"queryParams",void 0),Object(d["a"])([f.Getter],y.prototype,"projectParams",void 0),Object(d["a"])([f.Getter],y.prototype,"hadDoneOnDetail",void 0),y=Object(d["a"])([Object(u["a"])({})],y);var b=y,j=b,v=(a("7701"),a("2877")),k=Object(v["a"])(j,s,i,!1,null,"0fba5531",null);e["default"]=k.exports},"506a":function(t,e,a){},7701:function(t,e,a){"use strict";a("506a")}}]);