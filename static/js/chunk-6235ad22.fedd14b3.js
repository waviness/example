(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6235ad22"],{"09e1":function(e,t,a){"use strict";a("1ed4")},"1ed4":function(e,t,a){},"4a73":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pb-100 background-color-white"},[a("van-sticky",[a("div",{staticClass:"header background-color-white pa-3 d-flex align-center"},[a("div",{staticClass:"flex-5 fontWeight font-14 slh-2"},[e._v(e._s(e.goodsObj.goodsId)+"/"+e._s(e.goodsObj.goodsName))]),a("div",{staticClass:"flex-2 font-14 textAlignC",on:{click:e.calendarClick}},[a("span",{staticClass:"time"},[e._v(e._s(e.$dayjs(this.csjNowTime).format("YYYY-MM-DD")))]),a("van-icon",{staticClass:"pl-1",attrs:{size:"14px",name:"arrow-down"}})],1)])]),a("div",{staticClass:"totalContent px-2"},[a("VisitCard",{attrs:{currentDayMoney:e.salesDataObj.currentDayMoney,objName:e.goodsObj.userName||e.goodsObj.name,visitFlag:!1,loading:e.loading}}),a("CommonCard",{attrs:{loading:e.loading,salesDataObj:e.salesDataObj}})],1),a("van-tabs",{staticClass:"pt-2 px-2",attrs:{color:"#2271F5"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("van-tab",{attrs:{name:0,title:"全客户"}}),a("van-tab",{attrs:{name:1,title:"新增客户"}}),a("van-tab",{attrs:{name:2,title:"下降客户"}})],1),a("div",{staticClass:"px-2"},[0===+e.active?a("CustomerList",{key:"qkh",attrs:{customerName:"全客户",isClick:!1,type:e.goodsObj.goodsId&&e.goodsObj.userId?"goodsPersonRelate":e.goodsObj.goodsId&&!e.goodsObj.userId?"goodsDepartmentRelate":"",dateTime:e.$dayjs(this.csjNowTime).format("YYYY-MM-DD"),entryObj:e.goodsObj}}):e._e(),1===+e.active?a("CustomerList",{key:"xzkh",attrs:{customerName:"新增客户",isClick:!1,type:e.goodsObj.goodsId&&e.goodsObj.userId?"goodsPersonRelate":e.goodsObj.goodsId&&!e.goodsObj.userId?"goodsDepartmentRelate":"",dateTime:e.$dayjs(this.csjNowTime).format("YYYY-MM-DD"),entryObj:e.goodsObj}}):e._e(),2===+e.active?a("LoseCustomerTable",{attrs:{type:e.goodsObj.goodsId&&e.goodsObj.userId?"personGoodsRelate":e.goodsObj.goodsId&&!e.goodsObj.userId?"goodsDepartRelate":"",dateTime:e.$dayjs(this.csjNowTime).format("YYYY-MM-DD"),entryObj:e.goodsObj}}):e._e()],1),a("van-calendar",{attrs:{"default-date":e.csjNowTime,"min-date":new Date(2021,0,1),"max-date":new Date((new Date).getTime()-864e5),"first-day-of-week":"1",color:"#1989fa","show-confirm":!1},on:{select:e.calendarConfirm},model:{value:e.calendarShow,callback:function(t){e.calendarShow=t},expression:"calendarShow"}})],1)},o=[],n=a("1da1"),s=a("d4ec"),i=a("bee2"),c=a("262e"),d=a("2caf"),u=(a("b0c0"),a("96cf"),a("9ab4")),l=a("1b40"),y=a("4388"),h=a("8b7c"),g=a("2279"),b=a("5b92"),j=function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.goodsObj={},e.salesDataObj={},e.entryObj={},e.calendarShow=!1,e.loading=!1,e.active="",e}return Object(i["a"])(a,[{key:"activeChange",value:function(e){this.active=e}},{key:"calendarClick",value:function(){this.calendarShow=!0}},{key:"calendarConfirm",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.calendarShow=!1,this.SET_CSJNOWTIME(t),this.SET_CSJCHANGETIME(!0),this.init();case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_getDeptSaleStat",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,t={date:this.$dayjs(this.csjNowTime).format("YYYY-MM-DD"),deptId:this.goodsObj.id,goodsId:this.goodsObj.goodsId},e.next=4,Object(g["m"])(t);case 4:a=e.sent,this.loading=!1,200==a.code&&a.data?(r=a.data,this.salesDataObj={currentDayMoney:Object(b["d"])(r.currentDayMoney,1),currentMonthMoney:Object(b["d"])(r.currentMonthMoney,1),lyCurrentMonthMoney:Object(b["d"])(r.lyCurrentMonthMoney,1),monthPercentage:Object(b["d"])(r.monthPercentage,2),currentYearMoney:Object(b["d"])(r.currentYearMoney,1),lyCurrentYearMoney:Object(b["d"])(r.lyCurrentYearMoney,1),yearPercentage:Object(b["d"])(r.yearPercentage,2)}):this.salesDataObj={currentDayMoney:0,currentMonthMoney:0,lyCurrentMonthMoney:0,monthPercentage:0,currentYearMoney:0,lyCurrentYearMoney:0,yearPercentage:0};case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_getDataUserGoodSalesList",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={selectDate:this.$dayjs(this.csjNowTime).format("YYYY-MM-DD"),userId:this.goodsObj.userId,goods:this.goodsObj.goodsId,pageNum:1,pageSize:1},e.next=3,Object(h["f"])(t);case 3:a=e.sent,200==a.code&&a.data&&a.data.list&&a.data.list.length>0?(r=a.data.list[0],this.salesDataObj={currentDayMoney:Object(b["d"])(r.currentDayMoney,1),currentMonthMoney:Object(b["d"])(r.currentMonthMoney,1),lyCurrentMonthMoney:Object(b["d"])(r.lyCurrentMonthMoney,1),monthPercentage:Object(b["d"])(r.monthPercentage,2),currentYearMoney:Object(b["d"])(r.currentYearMoney,1),lyCurrentYearMoney:Object(b["d"])(r.lyCurrentYearMoney,1),yearPercentage:Object(b["d"])(r.yearPercentage,2)}):this.salesDataObj={currentDayMoney:0,currentMonthMoney:0,lyCurrentMonthMoney:0,monthPercentage:0,currentYearMoney:0,lyCurrentYearMoney:0,yearPercentage:0};case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"init",value:function(){var e=this;this.active=-1,this.$nextTick((function(){e.active=0})),this.$route.query.id&&this.$route.query.goodsId&&!this.$route.query.userId?this._getDeptSaleStat():this.$route.query.userId&&this._getDataUserGoodSalesList()}},{key:"created",value:function(){this.goodsObj={id:this.$route.query.id,name:this.$route.query.name,userId:this.$route.query.userId,userName:this.$route.query.userName,goodsId:this.$route.query.goodsId,goodsName:this.$route.query.goodsName},this.$route.query.id&&this.$route.query.goodsId&&!this.$route.query.userId?this._getDeptSaleStat():this.$route.query.userId&&this._getDataUserGoodSalesList()}}]),a}(Object(l["b"])(y["a"]));j=Object(u["a"])([Object(l["a"])({})],j);var m=j,O=m,M=(a("09e1"),a("2877")),f=Object(M["a"])(O,r,o,!1,null,"31082f16",null);t["default"]=f.exports}}]);