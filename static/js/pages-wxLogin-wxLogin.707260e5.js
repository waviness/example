(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-wxLogin-wxLogin"],{"0852":function(n,e,t){var o=t("139a");"string"===typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);var i=t("4f06").default;i("6cdcbb6d",o,!0,{sourceMap:!1,shadowMode:!1})},"139a":function(n,e,t){var o=t("24fb"),i=t("1de5"),a=t("fb37");e=o(!1);var r=i(a);e.push([n.i,".container[data-v-32585507]{width:100%;height:100vh;background:-webkit-gradient(linear,left top,left bottom,from(#fff),to(#5fc2ff));background:-webkit-linear-gradient(#fff,#5fc2ff);background:linear-gradient(#fff,#5fc2ff)}.login-box[data-v-32585507]{width:100%;height:auto;position:absolute;top:%?300?%;left:0}.login-box .welcome[data-v-32585507]{line-height:%?60?%;padding-left:%?48?%;font-size:%?42?%}.login-box .welcome-1[data-v-32585507]{line-height:%?66?%;padding-left:%?48?%;font-size:%?48?%;font-weight:700;margin-top:%?32?%}.login-box .welcome-2[data-v-32585507]{line-height:%?66?%;padding-left:%?48?%;margin-top:%?32?%}.login-box .login-btn[data-v-32585507]{width:%?636?%;padding-left:%?130?%;height:%?96?%;line-height:%?96?%;background-color:#5fc2ff;background-image:url("+r+");background-repeat:no-repeat;background-position:%?470?% %?30?%;background-size:%?40?% %?40?%;-webkit-border-radius:%?48?%;border-radius:%?48?%;font-size:%?36?%;color:#fff;text-align:left;margin-top:%?180?%}.login-box .login-other[data-v-32585507]{line-height:%?42?%;font-size:%?30?%;text-align:center;margin:%?48?% auto 0;color:#696969}",""]),n.exports=e},"1de5":function(n,e,t){"use strict";n.exports=function(n,e){return e||(e={}),n=n&&n.__esModule?n.default:n,"string"!==typeof n?n:(/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),e.hash&&(n+=e.hash),/["'() \t\n]/.test(n)||e.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n)}},"3f99":function(n,e,t){"use strict";t.r(e);var o=t("befe"),i=t.n(o);for(var a in o)"default"!==a&&function(n){t.d(e,n,(function(){return o[n]}))}(a);e["default"]=i.a},"582e":function(n,e,t){"use strict";var o=t("0852"),i=t.n(o);i.a},"8da6":function(n,e,t){"use strict";t.r(e);var o=t("93eb"),i=t("3f99");for(var a in i)"default"!==a&&function(n){t.d(e,n,(function(){return i[n]}))}(a);t("582e");var r,c=t("f0c5"),u=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,"32585507",null,!1,o["a"],r);e["default"]=u.exports},"93eb":function(n,e,t){"use strict";var o;t.d(e,"b",(function(){return i})),t.d(e,"c",(function(){return a})),t.d(e,"a",(function(){return o}));var i=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("v-uni-view",{staticClass:"container"},[t("v-uni-view",{staticClass:"login-box"},[t("v-uni-view",{staticClass:"welcome"},[n._v("欢迎使用")]),t("v-uni-view",{staticClass:"welcome-1"},[n._v("安吉醉美横溪小程序")]),t("v-uni-view",{staticClass:"welcome-2"},[n._v("如果您是横溪坞村民，请授权后使用")]),t("v-uni-button",{staticClass:"login-btn",attrs:{"open-type":"getPhoneNumber"},on:{getphonenumber:function(e){arguments[0]=e=n.$handleEvent(e),n.getPhoneNumber.apply(void 0,arguments)}}},[n._v("微信授权手机号登录")]),t("v-uni-view",{staticClass:"login-other",on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.goLogin()}}},[n._v("其他手机号登录")])],1)],1)},a=[]},befe:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={data:function(){return{wxAuthCode:""}},onLoad:function(){},onShow:function(){this.wxLogin()},methods:{wxLogin:function(){var n=this;uni.login({provider:"weixin",success:function(e){console.log("login success:",e),n.wxAuthCode=e.code?e.code:""},fail:function(n){console.log("login fail:",n)}})},getPhoneNumber:function(n){console.log(n),this.wxAuthLogin(n)},wxAuthLogin:function(n){var e=this,t={code:this.wxAuthCode,encryptedData:n.detail.encryptedData,iv:n.detail.iv,villagerWxBind:!1};this.$api.wxAuthLogin(t).then((function(n){console.log(n),e.$toast("授权登录成功"),uni.setStorageSync("token",n.token),uni.setStorageSync("mobile",n.mobile),uni.setStorageSync("role",n.role),uni.setStorageSync("needBindingWx",n.needBindingWx),uni.setStorageSync("isUncle",n.isUncle),0==n.role&&uni.switchTab({url:"../index/index"}),1==n.role&&(n.needBindingWx?uni.navigateTo({url:"../wxUserInfo/wxUserInfo"}):uni.switchTab({url:"../index/index"}))})).catch((function(n){e.wxLogin()}))},goLogin:function(){uni.navigateTo({url:"../login/login"})}}};e.default=o},fb37:function(n,e){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAC8UlEQVRYR82YT4jNURTHP98FKwmxEJJYWZF/C7EwRQaTGWvbmVKKWCilbFgRRSlLW2ZGRv5MWKAwU6ys/MmfmRIrsT46uvN67/d+v/f73fe7T+7yvXPO/fzOuefce474z5f+cz5qA5rZGmA9sBpYGD74J/AJeCvpYx0ndAVoZtuBw0A/sKoE4CtwF7gh6XksbBSgme0BzgLbYjcK8q+AM5IeVNWvBGhmS4FrwKGqhkvkRoERST/K7JUCmtlmYAxYWWYs8v8ZYFDSVCe9joBmtgu4DSyI3Lyq+C/goKRHRQqFgMFzT3oIN8fkkH2S/Hy2rVzAcOZe9yCsRY7ycG+U9D0rUAR4M2FCVA33qKS2JGwDDKXkflWrQc6L8nJgfqReVrxf0r3mH/MAX0TWuTFJQ2bmtdE/bFENyClJWwsBww3xLHKDCUkHXMfMtgAPa0LulPR0jqHFg2bmxXgkEtDFL0o6kQjyuqThIsDPFe7WIv4Lkk4mgJyR1LgUGh4Mr5IPXXivWSUV5DpJ791wM+A+YKImoKungByQdCcLeAS4mgAwBeRRSVeygKeA84kAs5AD4U6vav60pHO9Brwk6XhImv3A35BVXLmAKUN8WdKxALcJmAQWV4RzsdwQx35l0X514dxubpJ481O3zKSAc8D2MhPC8aXGEysV3KykFUU3SbdXXSo45+p41Xk7GftYmJS0u0ZCZM9y8WMhbPISaHnylGSf9xMO6Nnq7WRMtmZNT0vyF1FjpXqwfgOWAPMiSkmeaPmDNXjxFjBUc7NY9XFJg1mlTk3TG6CRTbG7RcrPAhsqN03Bi34WHv+DtvN3aDv97Letssa9DxjvIaTD+XTBr8LcVWX04Rnts5TU4fawDknK9VxuoS76CjNbFoZHqRLHozKcd+YqJUkH0L1h/NZSqyISYjqM31p63076pSHOUzazHU0DzLLQeyjnBpiNdrLqR3UF2GzczNYWjIC9Q/QR8LuqMNFZXMdwKt3aHkwFUmTnD0WlFzgrpgKHAAAAAElFTkSuQmCC"}}]);