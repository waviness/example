(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9294fc74"],{"0ba8":function(t,a,e){"use strict";e("6b03")},1828:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{class:["type-tag",t.typeClass]},[t._v(t._s(t.name))])},i=[],n=e("d4ec"),r=e("bee2"),l=e("262e"),c=e("2caf"),o=(e("c96a"),e("9ab4")),d=e("1b40"),u=function(t){Object(l["a"])(e,t);var a=Object(c["a"])(e);function e(){return Object(n["a"])(this,e),a.apply(this,arguments)}return Object(r["a"])(e,[{key:"typeClass",get:function(){return"type-tag--".concat(this.small?"small":"big")}}]),e}(d["d"]);Object(o["a"])([Object(d["c"])({type:String,default:""})],u.prototype,"name",void 0),Object(o["a"])([Object(d["c"])({type:Boolean,default:!1})],u.prototype,"small",void 0),u=Object(o["a"])([Object(d["a"])({})],u);var v=u,m=v,f=(e("ee0e"),e("2877")),p=Object(f["a"])(m,s,i,!1,null,"9ecbcc9e",null);a["a"]=p.exports},"3def":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{class:["warmth-tag","background-color-"+t.type]},[t._v(t._s(t.name))])},i=[],n=e("bee2"),r=e("d4ec"),l=e("262e"),c=e("2caf"),o=e("9ab4"),d=e("1b40"),u=function(t){Object(l["a"])(e,t);var a=Object(c["a"])(e);function e(){return Object(r["a"])(this,e),a.apply(this,arguments)}return Object(n["a"])(e)}(d["d"]);Object(o["a"])([Object(d["c"])({type:String,default:""})],u.prototype,"type",void 0),Object(o["a"])([Object(d["c"])({type:String,default:""})],u.prototype,"name",void 0),u=Object(o["a"])([Object(d["a"])({})],u);var v=u,m=v,f=(e("4524"),e("2877")),p=Object(f["a"])(m,s,i,!1,null,"55b13ed3",null);a["a"]=p.exports},4524:function(t,a,e){"use strict";e("760c")},"6b03":function(t,a,e){},"6bb3":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=this,e=a.$createElement,s=a._self._c||e;return s("div",{staticClass:"pa-10 pb-100"},[s("div",{staticClass:"gray-block box-shadow"},[s("div",{staticClass:"white-block inner-block"},[s("div",{staticClass:"font-14 font-bold"},[a._v(a._s(a.dataSource.custId||"")+"/")]),s("div",{staticClass:"d-flex align-center",on:{click:function(){t.showFullTitle=!t.showFullTitle}}},[s("div",{ref:"custName",class:["flex-1 font-14 font-bold",a.showFullTitle?"":"slh"]},[a._v(" "+a._s(a.dataSource.custName||"")+" ")]),a.titleOverflow?s("van-icon",{class:["customer-more",a.showFullTitle?"customer-more--up":"customer-more--down"],attrs:{name:"play"}}):a._e()],1),s("div",{staticClass:"d-flex align-center mt-4"},[s("div",{staticClass:"color-gray mr-4"},[a._v("联合体")]),s("div",{staticClass:"font-bold"},[a._v(" "+a._s(a.dataSource.communtyId?a.dataSource.communtyId+"/"+a.dataSource.communtyName:"无")+" ")])]),s("div",{staticClass:"d-flex align-center mt-2"},[s("div",{staticClass:"color-gray mr-4"},[a._v("网格层级")]),s("div",{staticClass:"font-bold"},[a._v(a._s(a.dataSource.gridGrade))])])]),s("div",{staticClass:"inner-block"},[a._v("项目类型")]),s("div",{staticClass:"d-flex flex-wrap inner-margin"},a._l(a.dataSource.typeList,(function(t,a){return s("type-tag",{key:a,staticClass:"mb-2 mr-2",attrs:{name:t.type[0],small:""}})})),1)]),s("div",{staticClass:"white-block mt-2 py-2"},[s("van-tabs",{directives:[{name:"show",rawName:"v-show",value:a.dataSource.deptList,expression:"dataSource.deptList"}],attrs:{color:"#2271F5","title-inactive-color":"#969799",ellipsis:!1},model:{value:a.active,callback:function(t){a.active=t},expression:"active"}},a._l(a.dataSource.deptList,(function(t,a){return s("van-tab",{key:a,attrs:{title:t.deptName,name:t.deptId}})})),1),s("div",{staticClass:"d-flex align-center mx-3 mt-3"},[s("div",{staticClass:"d-flex align-center mr-7"},[s("div",{staticClass:"color-gray mr-4"},[a._v("业务员")]),s("div",{staticClass:"font-bold"},[a._v(a._s(a.dataSource.saler))])]),s("div",{staticClass:"d-flex align-center"},[s("div",{staticClass:"color-gray mr-4"},[a._v("领航员")]),s("div",{staticClass:"font-bold"},[a._v(a._s(a.dataSource.pilotName))])])])],1),s("div",{staticClass:"white-block mt-2 py-2"},[a._m(0),s("div",{staticClass:"key-visit"},[s("div",{ref:"visitChart",staticClass:"full-HW"})]),s("van-loading",{directives:[{name:"show",rawName:"v-show",value:a.infoLoading,expression:"infoLoading"}],staticClass:"block-loading",attrs:{type:"spinner",color:"#2271F5"}})],1),s("div",{staticClass:"white-block mt-2 py-2"},[a._m(1),s("div",{staticClass:"key-gr mt-2"},[s("div",{ref:"keyChart",staticClass:"full-HW"})]),s("van-loading",{directives:[{name:"show",rawName:"v-show",value:a.infoLoading,expression:"infoLoading"}],staticClass:"block-loading",attrs:{type:"spinner",color:"#2271F5"}})],1),s("div",{staticClass:"white-block mt-2 pt-2 pb-4"},[a._m(2),s("div",{staticClass:"d-flex justify-space-around textAlignC mt-4"},[s("div",[s("warmth-tag",{attrs:{name:"一般客情",type:"normal"}}),s("div",{staticClass:"d-flex justify-center mt-4 font-bold"},[s("div",{staticClass:"color-normal font-18 mr-2"},[a._v(a._s(a.dataSource.normal))]),s("div",{class:a.dataSource.normalUp>0?"color-normal":"color-never"},[a._v(" "+a._s((a.dataSource.normalUp>0?"+":"")+(a.dataSource.normalUp||""))+" ")])])],1),s("div",[s("warmth-tag",{attrs:{name:"需进阶客情",type:"advanced"}}),s("div",{staticClass:"d-flex justify-center mt-4 font-bold"},[s("div",{staticClass:"color-advanced font-18 mr-2"},[a._v(a._s(a.dataSource.lack))]),s("div",{class:a.dataSource.lackUp>0?"color-normal":"color-never"},[a._v(" "+a._s((a.dataSource.lackUp>0?"+":"")+(a.dataSource.lackUp||""))+" ")])])],1),s("div",[s("warmth-tag",{attrs:{name:"未接触客情",type:"never"}}),s("div",{staticClass:"d-flex justify-center mt-4 font-bold"},[s("div",{staticClass:"color-never font-18 mr-2"},[a._v(a._s(a.dataSource.neverUp))]),s("div",{class:a.dataSource.neverUp>0?"color-normal":"color-never"},[a._v(" "+a._s((a.dataSource.neverUp>0?"+":"")+(a.dataSource.neverUp||""))+" ")])])],1)]),s("van-loading",{directives:[{name:"show",rawName:"v-show",value:a.infoLoading,expression:"infoLoading"}],staticClass:"block-loading",attrs:{type:"spinner",color:"#2271F5"}})],1),s("div",{staticClass:"white-block mt-2 inner-block"},[a._m(3),s("increase-table",{staticClass:"mt-2",attrs:{data:a.dataSource.increaseTableData}}),s("van-loading",{directives:[{name:"show",rawName:"v-show",value:a.infoLoading,expression:"infoLoading"}],staticClass:"block-loading",attrs:{type:"spinner",color:"#2271F5"}})],1)])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"d-flex justify-space-between align-center inner-margin"},[e("div",{staticClass:"font-14 font-bold"},[t._v("拜访")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"d-flex justify-space-between align-center inner-margin"},[e("div",{staticClass:"font-14 font-bold"},[t._v("拜访层级")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"d-flex justify-space-between align-center inner-margin"},[e("div",{staticClass:"font-14 font-bold"},[t._v("热力值")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"d-flex justify-space-between align-center"},[e("div",{staticClass:"font-14 font-bold"},[t._v("统计")])])}],n=e("1da1"),r=e("d4ec"),l=e("bee2"),c=e("262e"),o=e("2caf"),d=(e("96cf"),e("9ab4")),u=e("1b40"),v=e("3def"),m=e("1828"),f=e("d921"),p=e("74d2"),h=e("313e"),b=function(t){Object(c["a"])(e,t);var a=Object(o["a"])(e);function e(){var t;return Object(r["a"])(this,e),t=a.apply(this,arguments),t.showFullTitle=!1,t.titleOverflow=!1,t.custId="",t.saleId="",t.pilotId="",t.infoLoading=!1,t.dataSource={increaseData:{},increaseTableData:[]},t.active=-1,t.visitChartInstance=null,t.keyChartInstance=null,t}return Object(l["a"])(e,[{key:"getData",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var a,e,s,i,n,r,l,c,o,d,u,v,m,f,h,b,g,y,C,_,x,w,j,k,O,V,S,I,L,T,N,U,$,D,F=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.infoLoading=!0,t.next=3,Object(p["Q"])({custId:this.custId,saleId:this.saleId,pilotId:this.pilotId});case 3:if(a=t.sent,e=a.data,s=a.success,this.infoLoading=!1,!s){t.next=20;break}return i=e.communityVO,n=i.communtyId,r=i.communtyName,l=i.child,c=i.father,o={custId:this.custId},n&&(o.communtyId=n),t.next=13,Object(p["I"])(o);case 13:d=t.sent,u=e.gridListVO,v=u.custName,m=u.gridGradeId,f=u.gridGrade,h=u.typeList,b=u.pilotName,g=u.leaderVisitTarget,y=u.personVisitTarget,C=e.gridList,_=C.agrade,x=C.bgrade,w=C.cgrade,j=C.dgrade,k=C.lack,O=C.never,V=C.normal,S=C.neverUp,I=C.lackUp,L=C.normalUp,T=C.userName,N=C.leaderVisit,U=C.personVisit,$=C.deptId,D=C.deptName,this.dataSource={communtyId:n,communtyName:r,father:c,child:l||[],custId:e.gridListVO.custId,custName:v,gridGradeId:m,gridGrade:f,typeList:h,pilotName:b,leaderVisitTarget:g,personVisitTarget:y,deptList:[{deptId:$,deptName:D}],gradeData:[{value:_,name:"A"},{value:x,name:"B"},{value:w,name:"C"},{value:j,name:"D"}],lack:k,never:O,normal:V,neverUp:S,lackUp:I,normalUp:L,saler:T,leaderVisit:N,personVisit:U,leaderVisitTimes:N?N.length:"",personVisitTimes:U?U.length:"",increaseData:d.data||{saleMonth:"",saleYear:"",saleMonthRate:"",saleYearRate:"",saleLastMonthRate:"",unionMonth:"",unionYear:"",unionMonthRate:"",unionYearRate:"",unionLastMonthRate:""}},this.active=this.dataSource.deptList[0].deptId,this.formatIncreaseData(),this.$nextTick((function(){var t=F.$refs.custName;F.titleOverflow=t.scrollWidth>t.offsetWidth,F.initVisitChart(),F.initChart()}));case 20:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()},{key:"formatIncreaseData",value:function(){var t=this.dataSource.increaseData,a=t.saleMonth,e=t.saleYear,s=t.saleMonthRate,i=t.saleYearRate,n=t.unionMonth,r=t.unionYear,l=t.unionMonthRate,c=t.unionYearRate;this.dataSource.increaseTableData=[{type:"target",name:"单月目标增速",saleValue:a,unionValue:n},{name:"本月实际增速",targetSaleValue:a,targetUnionValue:n,saleValue:s,unionValue:l},{type:"target",name:"本年目标增速",saleValue:e,unionValue:r},{name:"本年实际增速",targetSaleValue:e,targetUnionValue:r,saleValue:i,unionValue:c}]}},{key:"initVisitChart",value:function(){var t=this.$refs.visitChart;this.visitChartInstance=h["b"](t),this.visitChartInstance.clear();var a={tooltip:{trigger:"axis"},legend:{icon:"rect",orient:"vertical",top:"top",right:"5%",itemWidth:9,itemHeight:9,textStyle:{color:"#000"}},grid:{left:"15%",right:"15%",top:"25%",bottom:"15%"},xAxis:{type:"category",data:["个人拜访","领导协访"],axisTick:{show:!1}},yAxis:{splitLine:{show:!1},axisLabel:{show:!1}},color:["#73A0FA","#F7C739"],series:[{name:"目标次数 次/月",type:"bar",label:{show:!0,color:"#fff",position:"insideTopRight",fontWeight:"bold"},data:[this.dataSource.personVisitTarget,this.dataSource.leaderVisitTarget]},{name:"当月次数 次/月",type:"bar",label:{show:!0,color:"#fff",position:"insideTopRight",fontWeight:"bold"},data:[this.dataSource.personVisitTimes,this.dataSource.leaderVisitTimes]}]};this.visitChartInstance.setOption(a)}},{key:"initChart",value:function(){var t=this.$refs.keyChart;this.keyChartInstance=h["b"](t),this.keyChartInstance.clear();var a={tooltip:{trigger:"item"},legend:{icon:"circle",orient:"vertical",bottom:"10%",right:"10%",itemWidth:9,textStyle:{color:"#000"}},color:["#F7C739","#73A0FA","#73DEB3","#7585A2"],series:[{name:"拜访层级",type:"pie",radius:["50%","80%"],center:["45%","55%"],label:{show:!0},data:this.dataSource.gradeData}]};this.keyChartInstance.setOption(a)}},{key:"mounted",value:function(){this.custId=this.$route.query.custId,this.saleId=this.$route.query.saleId,this.pilotId=this.$route.query.pilotId,this.getData()}}]),e}(u["d"]);b=Object(d["a"])([Object(u["a"])({components:{WarmthTag:v["a"],TypeTag:m["a"],IncreaseTable:f["a"]}})],b);var g=b,y=g,C=(e("0ba8"),e("2877")),_=Object(C["a"])(y,s,i,!1,null,"4a0bd000",null);a["default"]=_.exports},"760c":function(t,a,e){},d921:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"increase-table"},[e("div",{staticClass:"d-flex color-gray-2"},[e("div",{staticClass:"flex-3"}),e("div",{staticClass:"flex-4 font-14"},[e("app-icon",{staticClass:"mr-2",attrs:{name:"#ytcrm-lujing1"}}),t._v(" 销售额 ")],1),e("div",{staticClass:"flex-3 font-14"},[e("app-icon",{staticClass:"mr-2",attrs:{name:"#ytcrm-xingzhuang1"}}),t._v(" 联合体 ")],1)]),t._l(t.data,(function(a,s){return e("div",{key:s,staticClass:"d-flex mt-5"},[e("div",{staticClass:"flex-3 color-black"},[t._v(t._s(a.name))]),"target"===a.type?e("div",{staticClass:"flex-4"},[t._v(" "+t._s(a.saleValue?a.saleValue+"%":"-")+" ")]):a.saleValue?e("div",{staticClass:"flex-4 d-flex align-center"},[e("app-icon",{staticClass:"mr-1",attrs:{name:a.saleValue<a.targetSaleValue?"#ytcrm-a-lujing2":"#ytcrm-a-bianzu60"}}),e("div",{class:a.saleValue<a.targetSaleValue?"color-normal":"color-never"},[t._v(t._s(a.saleValue)+"%")])],1):e("div",{staticClass:"flex-4"},[t._v("-")]),"target"===a.type?e("div",{staticClass:"flex-3"},[t._v(" "+t._s(a.unionValue?a.unionValue+"%":"-")+" ")]):a.unionValue?e("div",{staticClass:"flex-3 d-flex align-center"},[e("app-icon",{staticClass:"mr-1",attrs:{name:a.unionValue<a.targetUnionValue?"#ytcrm-a-lujing2":"#ytcrm-a-bianzu60"}}),e("div",{class:a.unionValue<a.targetUnionValue?"color-normal":"color-never"},[t._v(" "+t._s(a.unionValue)+"% ")])],1):e("div",{staticClass:"flex-3"},[t._v("-")])])}))],2)},i=[],n=e("bee2"),r=e("d4ec"),l=e("262e"),c=e("2caf"),o=e("9ab4"),d=e("1b40"),u=function(t){Object(l["a"])(e,t);var a=Object(c["a"])(e);function e(){return Object(r["a"])(this,e),a.apply(this,arguments)}return Object(n["a"])(e)}(d["d"]);Object(o["a"])([Object(d["c"])({type:Array,default:[]})],u.prototype,"data",void 0),u=Object(o["a"])([Object(d["a"])({})],u);var v=u,m=v,f=e("2877"),p=Object(f["a"])(m,s,i,!1,null,null,null);a["a"]=p.exports},ee0e:function(t,a,e){"use strict";e("fc87")},fc87:function(t,a,e){}}]);