(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e4af45d"],{"02ce":function(t,e,a){"use strict";a("63a9")},"03c2":function(t,e,a){"use strict";a("8c57")},"096d":function(t,e,a){"use strict";a("8c4e")},1688:function(t,e,a){},1897:function(t,e,a){"use strict";a("f659")},"1db4":function(t,e,a){"use strict";a("1688")},"250a":function(t,e,a){"use strict";a("ae2a")},"289a":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.dataVal&&Object.keys(t.dataVal).length>0?a("div",{staticClass:"mouthYearData"},[a("div",{staticClass:"d-flex py-4"},[a("div",{staticClass:"flex-1 d-flex flex-column ml-4"},[a("span",{staticClass:"font-14"},[t._v("预算完成进度")]),a("span",{staticClass:"font-16 mt-4"},[t._v(" "+t._s(t.dataVal.targetCompletePercent||"--")+"% ")])]),a("div",{staticClass:"flex-1 d-flex flex-column ml-4"},[a("span",{staticClass:"font-14"},[t._v("在销品规数")]),a("span",{staticClass:"font-16 mt-4"},[t._v(t._s(t.dataVal.yearInSaleGoodsNum||"--"))])]),a("div",{staticClass:"flex-1 d-flex flex-column align-center"},[a("div",{ref:"progressChart",staticClass:"progress-chart"})])])]):t._e()},n=[],r=a("d4ec"),i=a("bee2"),c=a("262e"),l=a("2caf"),o=(a("ac1f"),a("5319"),a("9ab4")),d=a("1b40"),u=a("313e"),v=function(t){Object(c["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;return Object(r["a"])(this,a),t=e.apply(this,arguments),t.chartInstance=null,t}return Object(i["a"])(a,[{key:"mounted",value:function(){this.initChart()}},{key:"updated",value:function(){this.updateChart()}},{key:"initChart",value:function(){var t=this;this.$nextTick((function(){var e=t.$refs.progressChart;e&&(t.chartInstance=u["b"](e),t.updateChart())}))}},{key:"updateChart",value:function(){if(this.chartInstance&&this.dataVal){var t="--"!=this.dataVal.targetCompletePercent?this.dataVal.targetCompletePercent:0,e={series:[{type:"pie",radius:["70%","90%"],avoidLabelOverlap:!1,label:{show:!1},data:[{value:t,name:"完成",itemStyle:{borderRadius:10,color:"#3561f2"}},{value:100-t,name:"未完成",itemStyle:{color:"#ebedf0"}}]}]};this.chartInstance.setOption(e)}}},{key:"getColor",get:function(){return function(t){if(t){var e=String(t).replace(",","");return+e>0?"color-normal":"color-never"}}}},{key:"getFH",get:function(){return function(t){if(t){var e=String(t).replace(",","");return+e>0?"+":""}}}}]),a}(d["d"]);Object(o["a"])([Object(d["c"])({default:function(){return{}}})],v.prototype,"dataVal",void 0),v=Object(o["a"])([Object(d["a"])({})],v);var f=v,p=f,h=(a("1db4"),a("2877")),b=Object(h["a"])(p,s,n,!1,null,"9033c57c",null);e["a"]=b.exports},"3df8":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"goods-satisfaction"},[a("div",{staticClass:"card"},[t._m(0),a("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"d-flex py-8 justify-center align-center"},[a("van-loading",{attrs:{type:"spinner",color:"#1989fa"}})],1),t.loading?t._e():a("div",{staticClass:"content"},[a("div",{staticClass:"item",class:"--"!=this.dataVal.targetFillRateDiff?"":"pl-4"},[a("div",{staticClass:"label"},[t._v("本月货品满足率")]),a("div",{staticClass:"value"},[t._v(t._s(this.dataVal.monthGoodsFillRate)+"%")]),a("div",{staticClass:"growth",class:this.getColor(this.dataVal.monthGoodsFillRateNetIncrease)},[t._v(" "+t._s(this.getFH(this.dataVal.monthGoodsFillRateNetIncrease))+t._s(this.dataVal.monthGoodsFillRateNetIncrease)+"% ")])]),a("div",{staticClass:"item",class:"--"!=this.dataVal.targetFillRateDiff?"":"pl-4"},[a("div",{staticClass:"label"},[t._v("本年货品满足率")]),a("div",{staticClass:"value"},[t._v(t._s(this.dataVal.yearGoodsFillRate)+"%")]),a("div",{staticClass:"growth",class:this.getColor(this.dataVal.yearGoodsFillRateNetIncrease)},[t._v(" "+t._s(this.getFH(this.dataVal.yearGoodsFillRateNetIncrease))+t._s(this.dataVal.yearGoodsFillRateNetIncrease)+"% ")])]),"--"!=this.dataVal.targetFillRateDiff?a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v("较指标差距")]),a("div",{staticClass:"value",class:this.getColor(this.dataVal.targetFillRateDiff)},[t._v(" "+t._s(this.getFH(this.dataVal.targetFillRateDiff))+t._s(this.dataVal.targetFillRateDiff)+"% ")])]):t._e()])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header"},[a("div",{staticClass:"blue-icon"}),a("div",{staticClass:"unit-name"},[t._v("货品满足")])])}],r=a("d4ec"),i=a("bee2"),c=a("262e"),l=a("2caf"),o=(a("ac1f"),a("5319"),a("9ab4")),d=a("1b40"),u=function(t){Object(c["a"])(a,t);var e=Object(l["a"])(a);function a(){return Object(r["a"])(this,a),e.apply(this,arguments)}return Object(i["a"])(a,[{key:"getColor",get:function(){return function(t){if(t){var e=String(t).replace(",","");return+e>0?"color-normal":"color-never"}}}},{key:"getFH",get:function(){return function(t){if(t){var e=String(t).replace(",","");return+e>0?"+":""}}}}]),a}(d["d"]);Object(o["a"])([Object(d["c"])({default:function(){return{}}})],u.prototype,"dataVal",void 0),Object(o["a"])([Object(d["c"])({default:!1})],u.prototype,"loading",void 0),u=Object(o["a"])([Object(d["a"])({})],u);var v=u,f=v,p=(a("03c2"),a("2877")),h=Object(p["a"])(f,s,n,!1,null,"785a620a",null);e["a"]=h.exports},"3fa5":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"goods-satisfaction"},[a("div",{staticClass:"card"},[t._m(0),a("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"d-flex py-8 justify-center align-center"},[a("van-loading",{attrs:{type:"spinner",color:"#1989fa"}})],1),t.loading?t._e():a("div",{staticClass:"content"},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v("本月无税收入")]),a("div",{staticClass:"value"},[t._v(t._s(this.dataVal.monthSalesAmount))]),a("div",{staticClass:"growth",class:t.getColor(t.dataVal.monthOnPercent)},[t._v(" "+t._s(t.getFH(t.dataVal.monthOnPercent))+t._s(t.dataVal.monthOnPercent)+"% ")])]),a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v("本年无税收入")]),a("div",{staticClass:"value"},[t._v(t._s(t.dataVal.yearSalesAmount))]),a("div",{staticClass:"growth",class:t.getColor(t.dataVal.yearOnPercent)},[t._v(" "+t._s(t.getFH(t.dataVal.yearOnPercent))+t._s(t.dataVal.yearOnPercent)+"% ")])]),a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v("销售占比")]),a("div",{staticClass:"value"},[t._v(t._s(t.dataVal.sharePercent)+"%")]),a("div",{staticClass:"growth",class:t.getColor(t.dataVal.sharePercentNetIncrease)},[t._v(" "+t._s(t.getFH(t.dataVal.sharePercentNetIncrease))+t._s(t.dataVal.sharePercentNetIncrease)+"% ")])])])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header"},[a("div",{staticClass:"blue-icon"}),a("div",{staticClass:"unit-name"},[t._v("KA供应商(万元)")])])}],r=a("d4ec"),i=a("bee2"),c=a("262e"),l=a("2caf"),o=(a("ac1f"),a("5319"),a("9ab4")),d=a("1b40"),u=function(t){Object(c["a"])(a,t);var e=Object(l["a"])(a);function a(){return Object(r["a"])(this,a),e.apply(this,arguments)}return Object(i["a"])(a,[{key:"getColor",get:function(){return function(t){if(t){var e=String(t).replace(",","");return+e>0?"color-normal":"color-never"}}}},{key:"getFH",get:function(){return function(t){return t>0?"+":""}}}]),a}(d["d"]);Object(o["a"])([Object(d["c"])({default:function(){return{}}})],u.prototype,"dataVal",void 0),Object(o["a"])([Object(d["c"])({default:!1})],u.prototype,"loading",void 0),u=Object(o["a"])([Object(d["a"])({})],u);var v=u,f=v,p=(a("02ce"),a("2877")),h=Object(p["a"])(f,s,n,!1,null,"2ebfa518",null);e["a"]=h.exports},5260:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"goods-satisfaction"},[a("div",{staticClass:"card"},[t._m(0),a("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"d-flex py-8 justify-center align-center"},[a("van-loading",{attrs:{type:"spinner",color:"#1989fa"}})],1),t.loading?t._e():a("div",{staticClass:"content"},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v("触发锁控品种数")]),a("div",{staticClass:"value"},[t._v(t._s(t.dataVal.lockGoodsNum))])]),a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v("触发锁控笔数")]),a("div",{staticClass:"value"},[t._v(t._s(t.dataVal.saleLockNum))])]),a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v("平均锁控时效")]),a("div",{staticClass:"value"},[t._v(t._s(t.dataVal.averageUnlockCost)),a("span",{staticStyle:{"font-size":"20px"}},[t._v("min")])])]),a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v("未解锁订单数量")]),a("div",{staticClass:"value"},[t._v(t._s(t.dataVal.unlockOrderNum))])])])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header"},[a("div",{staticClass:"blue-icon"}),a("div",{staticClass:"unit-name"},[t._v("锁控")])])}],r=a("bee2"),i=a("d4ec"),c=a("262e"),l=a("2caf"),o=a("9ab4"),d=a("1b40"),u=function(t){Object(c["a"])(a,t);var e=Object(l["a"])(a);function a(){return Object(i["a"])(this,a),e.apply(this,arguments)}return Object(r["a"])(a)}(d["d"]);Object(o["a"])([Object(d["c"])({default:function(){return{}}})],u.prototype,"dataVal",void 0),Object(o["a"])([Object(d["c"])({default:!1})],u.prototype,"loading",void 0),u=Object(o["a"])([d["a"]],u);var v=u,f=v,p=(a("1897"),a("2877")),h=Object(p["a"])(f,s,n,!1,null,"87ff481a",null);e["a"]=h.exports},"63a9":function(t,e,a){},"7fff":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"goods-satisfaction"},[a("div",{staticClass:"card"},[t._m(0),a("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"d-flex py-8 justify-center align-center"},[a("van-loading",{attrs:{type:"spinner",color:"#1989fa"}})],1),t.loading?t._e():a("div",{staticClass:"content"},[a("div",{staticClass:"item",class:t.dataVal.targetDiffPercent?"":"pl-4"},[a("div",{staticClass:"label"},[t._v("本月库存周转")]),a("div",{staticClass:"value"},[t._v(t._s(t.dataVal.monthTurnoverDays)),a("span",{staticStyle:{"font-size":"22px"}},[t._v("天")])]),a("div",{staticClass:"growth",class:t.getColor(t.dataVal.monthTurnoverDaysNetDiff)},[t._v(" "+t._s(t.getFH(t.dataVal.monthTurnoverDaysNetDiff))+t._s(t.dataVal.monthTurnoverDaysNetDiff)),a("span",{staticStyle:{"font-size":"12px"}},[t._v("天")])])]),a("div",{staticClass:"item",class:t.dataVal.targetDiffPercent?"":"pl-4"},[a("div",{staticClass:"label"},[t._v("本年库存周转")]),a("div",{staticClass:"value"},[t._v(t._s(t.dataVal.yearTurnoverDays)),a("span",{staticStyle:{"font-size":"22px"}},[t._v("天")])]),a("div",{staticClass:"growth",class:t.getColor(t.dataVal.yearTurnoverDaysNetDiff)},[t._v(" "+t._s(t.getFH(t.dataVal.yearTurnoverDaysNetDiff))+t._s(t.dataVal.yearTurnoverDaysNetDiff)),a("span",{staticStyle:{"font-size":"12px"}},[t._v("天")])])]),t.dataVal.targetDiffPercent?a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v("较指标差距")]),a("div",{staticClass:"value",class:t.getColor(t.dataVal.yearTurnoverDaysNetDiff)},[t._v(" "+t._s(t.getFH(t.dataVal.targetDiffPercent))+t._s(t.dataVal.targetDiffPercent||"--")+"% ")])]):t._e()])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header"},[a("div",{staticClass:"blue-icon"}),a("div",{staticClass:"unit-name"},[t._v("库存周转")])])}],r=a("d4ec"),i=a("bee2"),c=a("262e"),l=a("2caf"),o=(a("ac1f"),a("5319"),a("9ab4")),d=a("1b40"),u=function(t){Object(c["a"])(a,t);var e=Object(l["a"])(a);function a(){return Object(r["a"])(this,a),e.apply(this,arguments)}return Object(i["a"])(a,[{key:"getColor",get:function(){return function(t){if(t){var e=String(t).replace(",","");return+e>0?"color-normal":"color-never"}}}},{key:"getFH",get:function(){return function(t){if(t){var e=String(t).replace(",","");return+e>0?"+":""}}}}]),a}(d["d"]);Object(o["a"])([Object(d["c"])({default:function(){return{}}})],u.prototype,"dataVal",void 0),Object(o["a"])([Object(d["c"])({default:!1})],u.prototype,"loading",void 0),u=Object(o["a"])([d["a"]],u);var v=u,f=v,p=(a("096d"),a("2877")),h=Object(p["a"])(f,s,n,!1,null,"66081292",null);e["a"]=h.exports},"83a2":function(t,e,a){"use strict";a("e64d")},"84c3":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.shouldShow?a("div",{staticClass:"balance-gross",on:{click:t.navigateToBalanceGross}},[a("div",{staticClass:"circle-btn"},[a("van-icon",{staticClass:"icon-left",attrs:{name:"circle",size:"16px"}}),a("span",{staticClass:"btn-text"},[t._v("点击进入平衡毛利面板")]),a("van-icon",{staticClass:"icon-right",attrs:{name:"arrow",size:"16px"}})],1)]):t._e()},n=[],r=a("d4ec"),i=a("bee2"),c=a("262e"),l=a("2caf"),o=(a("7db0"),a("d3b7"),a("9ab4")),d=a("1b40"),u=function(t){Object(c["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;return Object(r["a"])(this,a),t=e.apply(this,arguments),t.defaultDeptId="",t.defaultDeptName="",t.departments=[{deptId:968,deptName:"英特药业"},{deptId:974,deptName:"英特电商"},{deptId:998,deptName:"宁波英特"},{deptId:984,deptName:"温州英特"},{deptId:985,deptName:"台州英特"},{deptId:990,deptName:"嘉兴英特"},{deptId:991,deptName:"嘉信医药"},{deptId:992,deptName:"湖州英特"},{deptId:993,deptName:"绍兴英特"},{deptId:994,deptName:"金华英特"},{deptId:995,deptName:"浦江英特"},{deptId:996,deptName:"丽水英特"},{deptId:997,deptName:"英特海斯"},{deptId:999,deptName:"明州英特"},{deptId:1e3,deptName:"舟山卫盛"},{deptId:1001,deptName:"淳安英特"},{deptId:1002,deptName:"英特盛健"},{deptId:1042,deptName:"英特生物"}],t}return Object(i["a"])(a,[{key:"shouldShow",get:function(){var t=JSON.parse(localStorage.getItem("phmlArray")||"[]");return!!(Array.isArray(t)&&t.length>0)&&(this.calculateDefaultDeptId(t),!0)}},{key:"calculateDefaultDeptId",value:function(t){var e=this.departments.find((function(e){return e.deptName==t[0]}));this.defaultDeptId=e?e.deptId:null,this.defaultDeptName=t[0]}},{key:"navigateToBalanceGross",value:function(){this.$crmUserClick({catalogType:605,catalogTypeName:"查数据",menuId:605006,menuName:"平衡毛利",menuOperation:"平衡毛利点击载入",operationType:1});var t=JSON.parse(localStorage.getItem("phmlArray")||"[]");Array.isArray(t)&&1==t.length?this.$router.push({name:"BalanceGross",query:{deptId:this.defaultDeptId,deptName:this.defaultDeptName,type:"0",role:this.$route.query.role}}):this.$router.push({name:"AllBalanceGross",query:{role:this.$route.query.role}})}}]),a}(d["d"]);u=Object(o["a"])([d["a"]],u);var v=u,f=v,p=(a("250a"),a("2877")),h=Object(p["a"])(f,s,n,!1,null,"a585606a",null);e["a"]=h.exports},"8c4e":function(t,e,a){},"8c57":function(t,e,a){},9399:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mouthYearData"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.pdloading,expression:"pdloading"}],staticClass:"d-flex py-8 justify-center align-center"},[a("van-loading",{attrs:{type:"spinner",color:"#1989fa"}})],1),t.pdloading?t._e():a("div",{staticClass:"d-flex py-4"},[a("div",{staticClass:"flex-1 d-flex flex-column align-left ml-1"},[a("span",{staticClass:"font-14"},[t._v("非战略采购")]),a("span",{staticClass:"font-16"},[t._v(t._s(t.dataVal.fzcAmount))]),a("span",{staticClass:"font-14 mt-5"},[t._v("同比增长")]),a("span",{staticClass:"font-16",class:t.getColor(t.dataVal.fzcPercent)},[t._v(" "+t._s(t.getFH(t.dataVal.fzcPercent))+t._s(t.dataVal.fzcPercent)+"% ")])]),a("div",{staticClass:"flex-1 d-flex flex-column align-left pl-2 border-solid"},[a("span",{staticClass:"font-14"},[t._v("战略采购")]),a("span",{staticClass:"font-16"},[t._v(t._s(t.dataVal.zcAmount))]),a("span",{staticClass:"font-14 mt-5"},[t._v("同比增长")]),a("span",{staticClass:"font-16",class:t.getColor(t.dataVal.zcPercent)},[t._v(" "+t._s(t.getFH(t.dataVal.zcPercent))+t._s(t.dataVal.zcPercent)+"% ")])]),a("div",{staticClass:"flex-1 d-flex flex-column align-left ml-1"},[a("span",{staticClass:"font-14"},[t._v("在销品规数")]),a("span",{staticClass:"font-16"},[t._v(t._s(t.dataVal.yearInSaleGoodsNum||"--"))]),a("span",{staticClass:"font-14 mt-5"},[t._v("同比增长")]),a("span",{staticClass:"font-16",class:t.getColor(t.dataVal.yearInSaleGoodsNumOnPercent)},[t._v(" "+t._s(t.getFH(t.dataVal.yearInSaleGoodsNumOnPercent))+t._s(t.dataVal.yearInSaleGoodsNumOnPercent)+"% ")])])])])},n=[],r=a("d4ec"),i=a("bee2"),c=a("262e"),l=a("2caf"),o=(a("ac1f"),a("5319"),a("9ab4")),d=a("1b40"),u=function(t){Object(c["a"])(a,t);var e=Object(l["a"])(a);function a(){return Object(r["a"])(this,a),e.apply(this,arguments)}return Object(i["a"])(a,[{key:"getColor",get:function(){return function(t){if(t){var e=String(t).replace(",","");return+e>0?"color-normal":"color-never"}}}},{key:"getFH",get:function(){return function(t){return t>0?"+":""}}}]),a}(d["d"]);Object(o["a"])([Object(d["c"])({default:!1})],u.prototype,"pdloading",void 0),Object(o["a"])([Object(d["c"])()],u.prototype,"activeValue",void 0),Object(o["a"])([Object(d["c"])({default:function(){return{}}})],u.prototype,"dataVal",void 0),u=Object(o["a"])([Object(d["a"])({})],u);var v=u,f=v,p=(a("83a2"),a("2877")),h=Object(p["a"])(f,s,n,!1,null,"fa09dec0",null);e["a"]=h.exports},"9b2e":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pb-100 background-color-white"},[a("div",{staticClass:"header d-flex align-center"},[a("div",{staticClass:"flex-1 d-flex keep-center"},[a("span",{staticClass:"dept-name"},[t._v(t._s(t.personName))])]),a("div",{staticClass:"flex-1 keep-center",on:{click:t.calendarClick}},[a("span",{staticClass:"time"},[t._v(t._s(t.$dayjs(t.csjNowTime).format("YYYY-MM-DD")))]),a("van-icon",{staticClass:"pl-1",attrs:{size:"14px",name:"arrow-down"}})],1)]),a("van-calendar",{attrs:{"default-date":t.csjNowTime,"min-date":new Date(2021,0,1),"max-date":new Date((new Date).getTime()-864e5),"first-day-of-week":"1",color:"#1989fa","show-confirm":!1},on:{select:t.selectCalendar},model:{value:t.calendarShow,callback:function(e){t.calendarShow=e},expression:"calendarShow"}}),a("div",{staticClass:"totalContent ma-2"},[a("div",{staticClass:"main-content d-flex justify-space-between"},[a("div",{staticClass:"dailySales background-color-main-3 background-color-white flex-5"},[a("div",{staticClass:"d-flex flex-column pt-3 pl-4"},[a("div",{staticClass:"font-14"},[t._v(t._s("1"==t.activeValue?"年":"月")+"营收实绩(万元)")]),a("div",{staticClass:"font-14 mt-2 mb-2"},[t._v("同比："+t._s(t.purchaseDataObj.yearRevenueOnPercent)+"%")]),a("div",{staticClass:"font-28 py-1 fontWeight"},[t._v(t._s(t.purchaseDataObj.yearRevenue))])])]),a("div",{staticClass:"dataTrend white-block flex-3"},[t._m(0),"--"!=t.purchaseDataObj.targetCompletePercent?a("div",{staticClass:"d-flex px-3 pt-1 align-center justify-space-between"},[a("span",{staticClass:"font-14 pl-1"},[t._v(t._s(t.purchaseDataObj.yearInSaleGoodsNum))])]):t._e(),"--"!=t.purchaseDataObj.targetCompletePercent?a("div",{staticClass:"d-flex px-3 pt-2 align-center justify-space-between"},[a("span",{staticClass:"font-14 color-gray-4 pl-1"},[t._v("预算完成进度")])]):t._e(),"--"!=t.purchaseDataObj.targetCompletePercent?a("div",{staticClass:"d-flex px-3 pt-1 align-center justify-space-between"},[a("span",{staticClass:"font-14 pl-1"},[t._v(t._s(t.purchaseDataObj.targetCompletePercent))])]):t._e(),"--"==t.purchaseDataObj.targetCompletePercent?a("div",{staticClass:"d-flex px-3 mt-7 align-center justify-space-between"},[a("span",{staticClass:"font-28 fontWeight pl-1"},[t._v(t._s(t.purchaseDataObj.yearInSaleGoodsNum))])]):t._e()])])]),a("div",{staticClass:"background-color-white"},[a("GoodsSatisfaction",{attrs:{dataVal:t.goodsSatisfactionData,loading:t.gsloading}}),a("ka-purveyor",{attrs:{dataVal:t.purveyorData,loading:t.kaloading}}),a("turnover-data",{attrs:{dataVal:t.turnoverData,loading:t.tdloading}})],1),t.showItemBox?a("div",{staticClass:"item_box background-color-white"},t._l(t.sonObjectStatList,(function(e){return a("div",{key:e.generalObjectName,staticClass:"item"},[a("div",{staticClass:"item_title d-flex justify-space-between"},[a("div",{staticClass:"blue-icon"}),a("div",{staticClass:"color-main-2 flex-1"},[t._v(t._s(e.generalObjectName))]),a("div",[t._v(" 分管品规数"),a("span",{staticClass:"color-main-2"},[t._v(t._s(e.underLyingGoodsNum||0)+"(本年有销售"+t._s(e.yearInSaleGoodsNum)+")")])])]),a("div",{staticClass:"item_line"}),a("div",{staticClass:"d-flex item_body justify-space-between",staticStyle:{gap:"10px"}},[a("div",{staticClass:"flex-1 ml-3"},[a("div",{staticClass:"item_content_title"},[t._v("本"+t._s("1"==t.activeValue?"年":"月")+"营收实绩")]),a("div",{staticClass:"item_content_value mt-2"},[t._v(t._s(e.yearRevenue))])]),a("div",{staticClass:"flex-1 ml-3"},[a("div",{staticClass:"item_content_title"},[t._v("本"+t._s("1"==t.activeValue?"年":"月")+"同比")]),a("div",{staticClass:"item_content_value mt-2",class:t.getColor(e.yearRevenueOnPercent)},[t._v(" "+t._s(e.yearRevenueOnPercent||"--")+"% ")])])])])})),0):t._e(),a("div",{staticClass:"endTab"},[a("van-tabs",{attrs:{type:"card"},on:{change:t.onTabChange},model:{value:t.activeValue,callback:function(e){t.activeValue=e},expression:"activeValue"}},[a("van-tab",{attrs:{title:"年",name:"1"}}),a("van-tab",{attrs:{title:"月",name:"2"}})],1)],1)],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex px-3 pt-4 align-center justify-space-between"},[a("span",{staticClass:"font-14 color-gray-4 pl-1"},[t._v("在销品规数")])])}],r=(a("e7e5"),a("d399")),i=a("1da1"),c=a("d4ec"),l=a("bee2"),o=a("262e"),d=a("2caf"),u=(a("96cf"),a("b0c0"),a("ac1f"),a("5319"),a("b64b"),a("d81d"),a("d3b7"),a("820e"),a("3ca3"),a("ddb0"),a("9ab4")),v=a("1b40"),f=a("b33d"),p=a("9399"),h=a("2279"),b=a("5b92"),m=a("3df8"),g=a("5260"),y=a("3fa5"),C=a("84c3"),_=a("7fff"),O=a("289a"),j=a("b32d"),D=function(t){Object(o["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;return Object(c["a"])(this,a),t=e.apply(this,arguments),t.personName=t.$route.query.name,t.objectId=t.$route.query.id,t.activeValue="1",t.calendarShow=!1,t.purchaseDataObj={},t.goodsSatisfactionData={},t.purveyorData={},t.saleLockData={},t.turnoverData={},t.supplyData=[],t.gsloading=!1,t.kaloading=!1,t.tdloading=!1,t.lockloading=!1,t.sonObjectStatList={},t}return Object(l["a"])(a,[{key:"calendarClick",value:function(){this.calendarShow=!0}},{key:"selectCalendar",value:function(t){this.calendarConfirm(t)}},{key:"calendarConfirm",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.calendarShow=!1,this.SET_CSJNOWTIME(e),this.SET_CSJCHANGETIME(!0),t.next=5,this.loadAllData();case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"onTabChange",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r["a"].loading({forbidClick:!0,duration:0}),t.prev=1,t.next=4,this.fetchGeneralStat();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1);case 9:return t.prev=9,r["a"].clear(),t.finish(9);case 12:case"end":return t.stop()}}),t,this,[[1,6,9,12]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"getColor",get:function(){return function(t){if(t){var e=String(t).replace(",","");return+e>0?"color-normal":"color-never"}}}},{key:"showItemBox",get:function(){return Object.keys(this.sonObjectStatList).length>0}},{key:"fetchGeneralStat",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={selectDate:this.$dayjs(this.csjNowTime).format("YYYY-MM-DD"),objectType:2,type:parseInt(this.activeValue)},t.next=3,Object(h["x"])(e);case 3:a=t.sent,"200"==a.code&&(s=a.data,this.sonObjectStatList=a.data.sonObjectStatList.map((function(t){return{generalObjectId:t.generalObjectId,generalObjectName:t.generalObjectName,monthRevenue:Math.round(t.revenue),yearRevenue:Object(b["d"])(t.revenue,1),yearRevenueOnPercent:Object(b["d"])(t.revenueOnPercent,2),targetCompletePercent:Object(b["d"])(t.targetCompletePercent,2),targetGoalDiff:t.targetGoalDiff,underLyingGoodsNum:t.underLyingGoodsNum,yearInSaleGoodsNum:t.saleGoodsNum,yearInSaleGoodsNumOnPercent:Object(b["d"])(t.saleGoodsNumOnPercent,2)}})),this.purchaseDataObj={monthRevenue:Object(b["d"])(s.currentObjectStat.revenue,1),monthRevenueOnPercent:Object(b["d"])(s.currentObjectStat.revenueOnPercent,2),yearRevenue:Object(b["d"])(s.currentObjectStat.revenue,1),yearRevenueOnPercent:Object(b["d"])(s.currentObjectStat.revenueOnPercent,2),targetCompletePercent:Object(b["d"])(s.currentObjectStat.targetCompletePercent,2),targetGoalDiff:s.currentObjectStat.targetGoalDiff,yearInSaleGoodsNum:s.currentObjectStat.saleGoodsNum,yearInSaleGoodsNumOnPercent:Object(b["d"])(s.currentObjectStat.saleGoodsNumOnPercent,2)});case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"_getPurveyorStat",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={selectDate:this.$dayjs(this.csjNowTime).format("YYYY-MM-DD")},this.purveyorData={},this.kaloading=!0,t.next=5,Object(h["D"])(e);case 5:a=t.sent,this.kaloading=!1,"200"==a.code&&(this.purveyorData={monthSalesAmount:Object(b["d"])(a.data.monthSalesAmount,1),monthOnPercent:Object(b["d"])(a.data.monthOnPercent,2),yearSalesAmount:Object(b["d"])(a.data.yearSalesAmount,1),yearOnPercent:Object(b["d"])(a.data.yearOnPercent,2),sharePercent:Object(b["d"])(a.data.sharePercent,2),sharePercentNetIncrease:Object(b["d"])(a.data.sharePercentDiff,2)});case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"_getTurnoverDaysInfo",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={selectDate:this.$dayjs(this.csjNowTime).format("YYYY-MM-DD")},this.turnoverData={},this.tdloading=!0,t.next=5,Object(h["R"])(e);case 5:a=t.sent,this.tdloading=!1,"200"==a.code&&(this.turnoverData={monthTurnoverDays:a.data.monthTurnoverDays,monthTurnoverDaysNetDiff:a.data.monthTurnoverDaysNetDiff,yearTurnoverDays:a.data.yearTurnoverDays,yearTurnoverDaysNetDiff:a.data.yearTurnoverDaysNetDiff,targetDiffPercent:a.data.targetDiffPercent});case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getGoodsSatisfactionInfos",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={selectDate:this.$dayjs(this.csjNowTime).format("YYYY-MM-DD")},this.goodsSatisfactionData={},this.gsloading=!0,t.next=5,Object(h["y"])(e);case 5:a=t.sent,this.gsloading=!1,"200"==a.code&&(this.goodsSatisfactionData={monthGoodsFillRate:Object(b["d"])(a.data.monthGoodsFillRate,2),monthGoodsFillRateNetIncrease:Object(b["d"])(a.data.monthGoodsFillRateNetIncrease,2),yearGoodsFillRate:Object(b["d"])(a.data.yearGoodsFillRate,2),yearGoodsFillRateNetIncrease:Object(b["d"])(a.data.yearGoodsFillRateNetIncrease,2),targetFillRateDiff:Object(b["d"])(a.data.targetFillRateDiff,2)});case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"loadAllData",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e=[this.fetchGeneralStat(),this._getPurveyorStat(),this._getTurnoverDaysInfo(),this.getGoodsSatisfactionInfos()].map((function(t){return t.catch((function(t){return null}))})),t.next=4,Promise.allSettled(e);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,this,[[0,6]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"mounted",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.loadAllData();case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"destroyed",value:function(){Object(j["b"])()}}]),a}(Object(v["b"])(f["a"]));D=Object(u["a"])([Object(v["a"])({components:{PurchaseData:p["a"],GoodsSatisfaction:m["a"],KaPurveyor:y["a"],SaleLock:g["a"],TurnoverData:_["a"],BalanceGross:C["a"],TotalSaleData:O["a"]}})],D);var x=D,N=x,w=(a("f5f6"),a("2877")),S=Object(w["a"])(N,s,n,!1,null,"398b6b4e",null);e["default"]=S.exports},ae2a:function(t,e,a){},b33d:function(t,e,a){"use strict";var s=a("d4ec"),n=a("bee2"),r=a("262e"),i=a("2caf"),c=(a("d3b7"),a("9ab4")),l=a("1b40"),o=a("2279"),d=a("4bb5");l["a"].registerHooks(["beforeRouteEnter"]);var u=Object(d["a"])("app"),v=function(t){Object(r["a"])(a,t);var e=Object(i["a"])(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return Object(n["a"])(a,[{key:"_getAuthDeptSalesMix",value:function(t){return new Promise((function(e,a){Object(o["e"])(t).then((function(t){e(t)})).catch((function(t){a(t)}))}))}}]),a}(l["d"]);Object(c["a"])([u.Getter],v.prototype,"csjDepartObj",void 0),Object(c["a"])([u.Getter],v.prototype,"csjNowTime",void 0),Object(c["a"])([u.Getter],v.prototype,"csjChangeTime",void 0),Object(c["a"])([u.Mutation],v.prototype,"SET_CSJNOWTIME",void 0),Object(c["a"])([u.Mutation],v.prototype,"SET_CSJCHANGETIME",void 0),Object(c["a"])([u.Mutation],v.prototype,"SET_CSJDEPARTOBJ",void 0),v=Object(c["a"])([Object(l["a"])({})],v),e["a"]=v},e64d:function(t,e,a){},f1cd:function(t,e,a){},f5f6:function(t,e,a){"use strict";a("f1cd")},f659:function(t,e,a){}}]);