(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-77a1f586"],{3355:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-space-between align-baseline"},[a("div",{staticClass:"color-gray-4",style:"width: "+t.titleWidth+"px"},[t._v(t._s(t.title))]),a("div",{staticClass:"flex-1 textAlignR"},[a("span",{class:t.contentClass},[t._v(t._s(t.content))]),t.hasCopy?a("app-icon",{staticClass:"color-main-2 ml-1 copy-content",attrs:{name:"#ytcrm-fuzhi","data-clipboard-text":t.content},on:{click:t.copy}}):t._e()],1),t._t("default")],2)},r=[],i=a("d4ec"),o=a("bee2"),c=a("262e"),s=a("2caf"),u=(a("a9e3"),a("9ab4")),l=a("1b40"),f=function(t){Object(c["a"])(a,t);var e=Object(s["a"])(a);function a(){return Object(i["a"])(this,a),e.apply(this,arguments)}return Object(o["a"])(a,[{key:"copy",value:function(){var t=this,e=new this.$Clipboard(".copy-content");e.on("success",(function(a){t.$toast.success("复制成功"),e.destroy()})),e.on("error",(function(a){t.$toast.fail("该浏览器不支持自动复制"),e.destroy()}))}}]),a}(l["d"]);Object(u["a"])([Object(l["c"])({type:String,default:""})],f.prototype,"title",void 0),Object(u["a"])([Object(l["c"])({type:[String,Number],default:""})],f.prototype,"content",void 0),Object(u["a"])([Object(l["c"])({type:String,default:"color-black-2"})],f.prototype,"contentClass",void 0),Object(u["a"])([Object(l["c"])({type:Number,default:80})],f.prototype,"titleWidth",void 0),Object(u["a"])([Object(l["c"])({type:Boolean,default:!1})],f.prototype,"hasCopy",void 0),f=Object(u["a"])([Object(l["a"])({})],f);var d=f,p=d,h=a("2877"),b=Object(h["a"])(p,n,r,!1,null,null,null);e["a"]=b.exports},"3b95":function(t,e,a){"use strict";a("d63f")},"3ee3":function(t,e,a){},"50e6":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pb-100"},[a("van-sticky",[a("filter-pop",{attrs:{formData:t.formData},on:{confirm:t.onFilterChange}})],1),a("van-pull-refresh",{staticClass:"pa-10",on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[a("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了",error:t.error,"error-text":"请求失败，点击重新加载"},on:{"update:error":function(e){t.error=e},load:t.getDataList},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(e,n){return a("contract-item",{key:n,staticClass:"mb-2",attrs:{data:e},on:{click:function(a){return t.toDetail(e)}}})})),1)],1)],1)},r=[],i=a("2909"),o=a("1da1"),c=a("d4ec"),s=a("bee2"),u=a("262e"),l=a("2caf"),f=(a("96cf"),a("99af"),a("9ab4")),d=a("1b40"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"white-block pa-10",on:{click:t.onClick}},[a("div",{staticClass:"d-flex justify-space-between align-center"},[a("div",{staticClass:"tag-blue color-main-2"},[t._v(t._s(t.data.conId))]),a("div",{staticClass:"font-bold"},[t._v(t._s(t.data.confirmDate))])]),a("info-item",{staticClass:"mt-2",attrs:{title:"核算单元",content:t.data.entryId?t.data.entryId+"/"+t.data.entryName:""}}),a("info-item",{staticClass:"mt-2",attrs:{title:"客户",content:t.data.customId?t.data.customId+"/"+t.data.customName:""}}),a("info-item",{staticClass:"mt-2",attrs:{title:"细单条数",content:t.data.dtlCount,contentClass:"font-bold"}}),a("info-item",{staticClass:"mt-2",attrs:{title:"总单备注",content:t.data.memo,contentClass:"color-main-2"}})],1)},h=[],b=a("3355"),m=function(t){Object(u["a"])(a,t);var e=Object(l["a"])(a);function a(){return Object(c["a"])(this,a),e.apply(this,arguments)}return Object(s["a"])(a,[{key:"onClick",value:function(){this.$emit("click")}}]),a}(d["d"]);Object(f["a"])([Object(d["c"])({type:Object,default:{}})],m.prototype,"data",void 0),m=Object(f["a"])([Object(d["a"])({components:{InfoItem:b["a"]}})],m);var g=m,v=g,y=(a("9973"),a("2877")),D=Object(y["a"])(v,p,h,!1,null,"23f4fc95",null),w=D.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"filter d-flex"},[a("div",{class:["filter-item justify-space-between px-10",t.filterShow?"color-main-2":"",t.filterSome?"background-color-main-2 color-white":""],on:{click:function(e){t.filterShow=!t.filterShow}}},[a("div",[t._v("条件筛选")]),a("van-icon",{attrs:{name:"arrow-"+(t.filterShow?"up":"down"),size:"16px"}})],1)]),a("van-popup",{attrs:{position:"top",round:"","get-container":t.getContainer},model:{value:t.filterShow,callback:function(e){t.filterShow=e},expression:"filterShow"}},[a("van-form",[a("van-field",{attrs:{readonly:"",clickable:"",value:t.filterVal.start?t.filterVal.start+" 至 "+t.filterVal.end:"",label:"确认时间范围","input-align":"right",placeholder:"点击选择"},on:{click:function(e){t.selectShow=!0}}}),a("van-field",{attrs:{clearable:"",label:"客户ID|客户名称","input-align":"right",placeholder:"请输入客户ID|客户名称"},model:{value:t.filterVal.custom,callback:function(e){t.$set(t.filterVal,"custom",e)},expression:"filterVal.custom"}}),a("van-field",{attrs:{clearable:"",label:"货品ID|货品名称","input-align":"right",placeholder:"请输入货品ID|货品名称"},model:{value:t.filterVal.goods,callback:function(e){t.$set(t.filterVal,"goods",e)},expression:"filterVal.goods"}})],1),a("div",{staticClass:"dropdown-opts"},[a("van-button",{staticClass:"dropdown-opts__btn",attrs:{type:"default",size:"small",block:"",round:""},on:{click:t.reset}},[t._v("重置")]),a("van-button",{staticClass:"dropdown-opts__btn",attrs:{type:"info",size:"small",block:"",round:"",color:"#2271F5"},on:{click:t.onConfirm}},[t._v("确认")])],1),a("van-calendar",{attrs:{"show-confirm":!1,color:"#2271F5",type:"range","allow-same-day":"","min-date":t.minDate,"max-date":t.maxDate},on:{confirm:t.onDateConfirm},model:{value:t.selectShow,callback:function(e){t.selectShow=e},expression:"selectShow"}})],1)],1)},j=[],k=a("d926"),C=function(t){Object(u["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;return Object(c["a"])(this,a),t=e.apply(this,arguments),t.filterShow=!1,t.selectShow=!1,t.minDate=new Date(2010,0,1),t.maxDate=new Date,t.filterVal={goods:"",custom:"",start:Object(k["c"])(new Date),end:Object(k["c"])(new Date)},t}return Object(s["a"])(a,[{key:"getContainer",value:function(){return document.querySelector(".my-container")}},{key:"filterSome",get:function(){return!(this.filterShow||!(this.filterVal.goods||this.filterVal.custom||this.filterVal.start))}},{key:"onDateConfirm",value:function(t){this.selectShow=!1,this.filterVal.start=Object(k["c"])(t[0]),this.filterVal.end=Object(k["c"])(t[1])}},{key:"reset",value:function(){this.filterVal={goods:"",custom:"",start:Object(k["c"])(new Date),end:Object(k["c"])(new Date)}}},{key:"onConfirm",value:function(){this.filterShow=!1,this.$emit("confirm",this.filterVal)}},{key:"onFormDataChange",value:function(){this.filterVal=this.formData}}]),a}(d["d"]);Object(f["a"])([Object(d["c"])({type:Object,default:{}})],C.prototype,"formData",void 0),Object(f["a"])([Object(d["e"])("formData")],C.prototype,"onFormDataChange",null),C=Object(f["a"])([Object(d["a"])({})],C);var x=C,S=x,Y=(a("3b95"),Object(y["a"])(S,O,j,!1,null,"ec02dfd4",null)),I=Y.exports,_=a("6f1f"),M=function(t){Object(u["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;return Object(c["a"])(this,a),t=e.apply(this,arguments),t.page=1,t.pageSize=10,t.list=[],t.loading=!1,t.finished=!1,t.refreshing=!1,t.error=!1,t.formData={custom:"",goods:"",start:Object(k["c"])(new Date),end:Object(k["c"])(new Date)},t}return Object(s["a"])(a,[{key:"onFilterChange",value:function(t){this.formData=t,this.onRefresh()}},{key:"onRefresh",value:function(){this.finished=!1,this.loading=!0,this.list=[],this.page=1,this.getDataList()}},{key:"getDataList",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r,o,c,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.formData,a=e.goods,n=e.custom,r=e.start,o=e.end,c={pageNum:this.page,pageSize:this.pageSize,custom:n,goods:a,start:r,end:o},t.next=4,Object(_["c"])(c);case 4:s=t.sent,this.loading=!1,this.refreshing=!1,s.success?(this.list=[].concat(Object(i["a"])(this.list),Object(i["a"])(s.data.list)),this.page++,this.finished=!s.data.hasNextPage):this.error=!0;case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"toDetail",value:function(t){var e=t.conId;this.$router.push({name:"ContractFindDetail",params:{conId:e}})}},{key:"created",value:function(){this.list=[]}}]),a}(d["d"]);M=Object(f["a"])([Object(d["a"])({components:{ContractItem:w,FilterPop:I}})],M);var R=M,V=R,F=(a("aba5"),Object(y["a"])(V,n,r,!1,null,"6f028c1e",null));e["default"]=F.exports},"6f1f":function(t,e,a){"use strict";a.d(e,"c",(function(){return o})),a.d(e,"b",(function(){return s})),a.d(e,"a",(function(){return l})),a.d(e,"e",(function(){return d})),a.d(e,"f",(function(){return h})),a.d(e,"d",(function(){return m}));var n=a("1da1"),r=(a("96cf"),a("b32d")),i=a("90ae");function o(t){return c.apply(this,arguments)}function c(){return c=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].formDataPost(i["c"],"/api/queryContract/queryContractList",e,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),c.apply(this,arguments)}function s(t){return u.apply(this,arguments)}function u(){return u=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].formDataPost(i["c"],"/api/queryContract/queryContractDtlList",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),u.apply(this,arguments)}function l(t){return f.apply(this,arguments)}function f(){return f=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].formDataPost(i["c"],"/api/queryContract/queryApiInformationsByCondtlid",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),f.apply(this,arguments)}function d(t){return p.apply(this,arguments)}function p(){return p=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].formDataPost(i["c"],"/api/queryContract/queryOrderStatusInfo",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),p.apply(this,arguments)}function h(t){return b.apply(this,arguments)}function b(){return b=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].formDataPost(i["c"],"/api/queryContract/querySuInvkcPic",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),b.apply(this,arguments)}function m(t){return g.apply(this,arguments)}function g(){return g=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].post(i["c"],"/api/queryContract/queryLotNumberInfo",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),g.apply(this,arguments)}},9973:function(t,e,a){"use strict";a("3ee3")},aba5:function(t,e,a){"use strict";a("b27b")},b27b:function(t,e,a){},d63f:function(t,e,a){},d926:function(t,e,a){"use strict";a.d(e,"c",(function(){return f})),a.d(e,"d",(function(){return d})),a.d(e,"j",(function(){return p})),a.d(e,"i",(function(){return h})),a.d(e,"k",(function(){return b})),a.d(e,"b",(function(){return m})),a.d(e,"e",(function(){return g})),a.d(e,"g",(function(){return v})),a.d(e,"f",(function(){return y})),a.d(e,"a",(function(){return D})),a.d(e,"h",(function(){return w}));a("d3b7"),a("25f0"),a("ac1f"),a("1276");var n=a("5a0c"),r=a.n(n),i=new Date,o=i.getDay(),c=i.getDate(),s=i.getMonth(),u=i.getYear();u+=u<2e3?1900:0;var l=new Date;function f(t){var e=new Date(t),a=e.getFullYear(),n=(e.getMonth()+1).toString(),r=e.getDate().toString();return+n<10&&(n="0"+n),+r<10&&(r="0"+r),a+"-"+n+"-"+r}function d(t){var e=new Date(t),a=e.getFullYear(),n=(e.getMonth()+1).toString(),r=e.getDate().toString();return+n<10&&(n="0"+n),+r<10&&(r="0"+r),a+"/"+n+"/"+r}function p(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e){var a=new Date(e),n=a.getDay();n=0===n?7:n;var r=a.getDate(),i=a.getMonth(),l=a.getYear();l+=l<2e3?1900:0,t=new Date(l,i,r-(n-1))}else t=new Date(u,s,c-(o-1));return f(t)}function h(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e){var a=new Date(e),n=a.getDay();n=0===n?7:n;var r=a.getDate(),i=a.getMonth(),l=a.getYear();l+=l<2e3?1900:0,t=new Date(l,i,r+(6-(n-1)))}else t=new Date(u,s,c+(6-(o-1)));return f(t)}function b(t){return 0===r()(t).day()?r()(t).startOf("week").subtract(6,"day").format("YYYY-MM-DD"):r()(t).startOf("week").add(1,"day").format("YYYY-MM-DD")}function m(t){return 0===r()(t).day()?r()(t).endOf("week").subtract(6,"day").format("YYYY-MM-DD"):r()(t).endOf("week").add(1,"day").format("YYYY-MM-DD")}l.setDate(1),l.setMonth(l.getMonth()-1);var g=function(t,e){var a=[],n=t.split("-"),r=e.split("-"),i=new Date(n+" 08:00:00");i.setUTCFullYear(n[0],n[1]-1,n[2]);var o=new Date(r+" 08:00:00");o.setUTCFullYear(r[0],r[1]-1,r[2]);var c,s=i.getTime(),u=o.getTime(),l=864e5;for(c=s;c<=u;)a.push(f(new Date(parseInt(String(c))))),c+=l;return a},v=function(t,e){var a=new Date(t),n="";a.setDate(a.getDate()+e);var r=a.getFullYear(),i=a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1,o=a.getDate()<10?"0"+a.getDate():a.getDate();return n=r+"-"+i+"-"+o,n},y=function(t){var e,a,n,r,i=new Date(t+"-01-01"),o=i.getFullYear(),c={result0:[],result1:[],result2:[],result3:[],result4:[],result5:[],result6:[]};for(e=1;e<=12;e++){switch(e){case 1:case 3:case 5:case 7:case 8:case 10:case 12:r=31;break;case 4:case 6:case 9:case 11:r=30;break;case 2:r=o%4===0&&o%100!==0||o%400===0?29:28;break}for(a=1;a<=r;a++){i.setMonth(e-1,a),n=i.getDay();var s=i.getFullYear(),u=i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1,l=i.getDate()<10?"0"+i.getDate():i.getDate();c["result"+n].push(s+"-"+u+"-"+l)}}return c};function D(t){switch(t){case 0:return"日";case 1:return"一";case 2:return"二";case 3:return"三";case 4:return"四";case 5:return"五";case 6:return"六";default:break}}var w=function(t){var e=new Date,a=e.getFullYear(),n=e.getMonth()+1,r=e.getDate(),i=t.split("-"),o=0;if(n>parseInt(i[0])||n==parseInt(i[0])&&r>parseInt(i[1])){var c=new Date(a+1,parseInt(i[0])-1,parseInt(i[1])).toLocaleDateString(),s=Date.parse(c),u=Date.parse(e.toLocaleDateString());o=(s-u)/864e5}else{var l=new Date(a,parseInt(i[1])-1,parseInt(i[2])).toLocaleDateString(),f=Date.parse(l),d=Date.parse(e.toLocaleDateString());o=(f-d)/864e5}if(o<0){var p=a+1,h=p%4===0&&p%100!==0||p%400===0?366:365;o+=h}return o}}}]);