(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e3f68e2"],{"273c":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data-desc"},[a("div",{staticClass:"data-desc__present"},[t._v(t._s(t.presentText))]),a("div",{staticClass:"data-desc__next"},[t._v(t._s(t.nextText))])])},i=[],c=a("bee2"),l=a("d4ec"),r=a("262e"),n=a("2caf"),o=a("9ab4"),d=a("1b40"),u=function(t){Object(r["a"])(a,t);var e=Object(n["a"])(a);function a(){return Object(l["a"])(this,a),e.apply(this,arguments)}return Object(c["a"])(a)}(d["d"]);Object(o["a"])([Object(d["c"])()],u.prototype,"presentText",void 0),Object(o["a"])([Object(d["c"])()],u.prototype,"nextText",void 0),u=Object(o["a"])([Object(d["a"])({})],u);var v=u,b=v,p=(a("6c38"),a("2877")),f=Object(p["a"])(b,s,i,!1,null,"0b10bd63",null);e["a"]=f.exports},"2c6b":function(t,e,a){},"4ab9":function(t,e,a){"use strict";a("e1e5")},"53ae":function(t,e,a){"use strict";var s=a("d4ec"),i=a("bee2"),c=a("262e"),l=a("2caf"),r=(a("b0c0"),a("9ab4")),n=a("1b40");n["a"].registerHooks(["beforeRouteEnter"]);var o=function(t){Object(c["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.page=1,t.total=0,t.dataList=[],t.loading=!1,t.finished=!1,t.refreshing=!1,t.finishText="",t.userIdList=[],t.error=!1,t}return Object(i["a"])(a,[{key:"beforeRouteEnter",value:function(t,e,a){a((function(t){"Home"!==e.name&&"TaskIndex"!==e.name||(t.dataList=[],t.page=1,t.loading=!1,t.finished=!0,t.refreshing=!1,t.$nextTick((function(){t.finished=!1})))}))}}]),a}(n["d"]);o=Object(r["a"])([Object(n["a"])({})],o),e["a"]=o},"66a2":function(t,e,a){},"6c38":function(t,e,a){"use strict";a("2c6b")},cb44:function(t,e,a){"use strict";a("66a2")},e1e5:function(t,e,a){},f298:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pb-100"},[a("van-sticky",[a("div",{staticClass:"px-10 py-10 font-16 van-popup-bg"},[t._v(" "+t._s(1===+t.active?"逾期":2===+t.active?"应收":3===+t.active?"长账龄":"")+"详情 ")]),3===+t.active?[a("div",{staticClass:"background-color-white pa-10"},[a("div",{staticClass:"d-flex align-center justify-space-between"},[a("div",{staticClass:"d-flex align-center"},[a("div",{staticClass:"type-circle mr-2 background-color-red"}),a("div",{staticClass:"font-14 font-bold"},[t._v("一年期以上长账龄")])]),a("div",[t._v(t._s(t.detailInfor.deptName))])]),a("div",{staticClass:"font-14 color-gray-5 py-1 fontWeight"},[t._v(" "+t._s(t.detailInfor.customId)+"/"+t._s(t.detailInfor.customName)+" ")]),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"flex-1 d-flex flex-column"},[a("span",{staticClass:"pb-1 color-second pb-1"},[t._v("总金额")]),a("span",{staticClass:"pb-1 color-gray-5 font-16"},[t._v(t._s(t.detailInfor.receivable))])]),a("div",{staticClass:"flex-1 d-flex flex-column"},[a("span",{staticClass:"pb-1 color-second pb-1"},[t._v("1-2年")]),a("span",{staticClass:"pb-1 color-gray-5 font-16"},[t._v(t._s(t.detailInfor.receivable12year))])]),a("div",{staticClass:"flex-1 d-flex flex-column"},[a("span",{staticClass:"pb-1 color-second pb-1"},[t._v("2-3年")]),a("span",{staticClass:"pb-1 color-gray-5 font-16"},[t._v(t._s(t.detailInfor.receivable23year))])])]),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"flex-1 d-flex flex-column"},[a("span",{staticClass:"pb-1 color-second pb-1"},[t._v("3-4年")]),a("span",{staticClass:"pb-1 color-gray-5 font-16"},[t._v(t._s(t.detailInfor.receivable34year))])]),a("div",{staticClass:"flex-1 d-flex flex-column"},[a("span",{staticClass:"pb-1 color-second pb-1"},[t._v("4-5年")]),a("span",{staticClass:"pb-1 color-gray-5 font-16"},[t._v(t._s(t.detailInfor.receivable45year))])]),a("div",{staticClass:"flex-1 d-flex flex-column"},[a("span",{staticClass:"pb-1 color-second pb-1"},[t._v("5年以上")]),a("span",{staticClass:"pb-1 color-gray-5 font-16"},[t._v(t._s(t.detailInfor.receivable5year))])])])])]:t._e()],2),3===+t.active?a("van-pull-refresh",{staticClass:"pt-10",on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[a("van-list",{staticClass:"px-2",attrs:{offset:20,finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[t.loading||t.dataList.length?t._e():a("app-empty",{staticClass:"mt-6 white-bg"}),t._l(t.dataList,(function(e,s){return a("div",{key:s,staticClass:"gray-block box-shadow mb-2",on:{click:function(a){return t.cardClick(e)}}},[a("div",{staticClass:"white-block pa-10"},[a("div",{staticClass:"font-14 color-main-2 py-1 fontWeight"},[t._v(t._s(e.saleId)+"/"+t._s(e.saleName))]),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"flex-1 d-flex flex-column"},[a("span",{staticClass:"pb-1 color-second pb-1"},[t._v("总金额")]),a("span",{staticClass:"pb-1 color-gray-5 font-16"},[t._v(t._s(e.receivable))])]),a("div",{staticClass:"flex-1 d-flex flex-column"},[a("span",{staticClass:"pb-1 color-second pb-1"},[t._v("1-2年")]),a("span",{staticClass:"pb-1 color-gray-5 font-16"},[t._v(t._s(e.receivable12year))])]),a("div",{staticClass:"flex-1 d-flex flex-column"},[a("span",{staticClass:"pb-1 color-second pb-1"},[t._v("2-3年")]),a("span",{staticClass:"pb-1 color-gray-5 font-16"},[t._v(t._s(e.receivable23year))])])]),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"flex-1 d-flex flex-column"},[a("span",{staticClass:"pb-1 color-second pb-1"},[t._v("3-4年")]),a("span",{staticClass:"pb-1 color-gray-5 font-16"},[t._v(t._s(e.receivable34year))])]),a("div",{staticClass:"flex-1 d-flex flex-column"},[a("span",{staticClass:"pb-1 color-second pb-1"},[t._v("4-5年")]),a("span",{staticClass:"pb-1 color-gray-5 font-16"},[t._v(t._s(e.receivable45year))])]),a("div",{staticClass:"flex-1 d-flex flex-column"},[a("span",{staticClass:"pb-1 color-second pb-1"},[t._v("5年以上")]),a("span",{staticClass:"pb-1 color-gray-5 font-16"},[t._v(t._s(e.receivable5year))])])])])])}))],2)],1):t._e(),1===+t.active||2===+t.active?[a("div",{staticClass:"d-flex align-center px-10"},[a("div",{class:["type-circle mr-2",t.typeClass]}),a("div",{staticClass:"font-14 font-bold"},[t._v(t._s(t.typeName))])]),a("app-cell",{staticClass:"mt-2",attrs:{title:"客户信息",value:t.detail.customId?t.detail.customId+"/"+t.detail.customName:"",valueClass:"color-black-2"}}),a("app-cell",{staticClass:"mt-2",attrs:{title:"核算单元",value:t.detail.entryId,valueClass:"color-black-2"}}),2===+t.active?a("app-cell",{staticClass:"mt-2",attrs:{title:"应收账款",value:t.detail.receivable||0,valueClass:"color-black-2"}}):t._e(),a("app-cell",{staticClass:"mt-2",attrs:{title:"已逾期",value:t.detail.overdueAmount||0,valueClass:"color-red"}}),a("app-cell",{staticClass:"mt-2",attrs:{title:"预收未处理",value:t.detail.advanceAmount||0,valueClass:"color-black-2"}}),a("app-cell",{staticClass:"mt-2",attrs:{title:"剩余信额",value:void 0!==t.detail.creditAmount&&null!==t.detail.creditAmount?t.detail.creditAmount:"-",valueClass:"color-black-2"}}),a("app-cell",{staticClass:"mt-2",attrs:{title:"信保状态",value:t.creditStatusText,valueClass:"color-black-2"}}),1===+t.active?a("app-cell",{staticClass:"mt-2",staticStyle:{cursor:"pointer"},attrs:{title:"逾期填报原因",value:t.latestOverdueRemark.reason||"-",valueClass:"color-black-2"},on:{click:function(e){t.showReasonModal=!0}}}):t._e(),a("van-dialog",{attrs:{title:"逾期填报原因","show-cancel-button":!1,"close-on-click-overlay":!0},model:{value:t.showReasonModal,callback:function(e){t.showReasonModal=e},expression:"showReasonModal"}},[a("div",{staticClass:"reason-modal-content"},[Array.isArray(t.detail.overdueRemark)&&t.detail.overdueRemark.length?t._l(t.detail.overdueRemark,(function(e,s){return a("div",{key:s,staticClass:"reason-item"},[a("div",{staticClass:"reason-date"},[t._v(t._s(e.creDate?e.creDate.substr(0,10):"-"))]),a("div",{staticClass:"reason-fields"},[a("span",{staticClass:"reason-label"},[t._v("原因：")]),a("span",{staticClass:"reason-main"},[t._v(t._s(e.reason||"-"))])]),s!==t.detail.overdueRemark.length-1?a("div",{staticClass:"divider"}):t._e()])})):[a("div",{staticClass:"reason-value"},[t._v("暂无填报原因")])]],2)])]:t._e(),1===+t.active?[a("app-cell",{staticClass:"mt-2",attrs:{title:"信用天数",value:t.detail.creditDays,valueClass:"color-black-2"}}),a("app-cell",{staticClass:"mt-2",attrs:{title:"最长逾期天数",value:t.detail.maxDay,valueClass:"color-black-2"}}),a("div",{staticClass:"white-bg mt-2 py-10 px-4"},[a("div",{staticClass:"color-gray-5 font-14"},[t._v("逾期金额到期分布")]),a("account-list",{attrs:{list:t.detailList,dateKey:"overdueDate",valKey:"overdueAmount",type:"danger"}})],1),a("data-desc",{attrs:{presentText:"数据更新于本月第一个工作日，待财务勾对后，以第六个工作日展示的数据为准"}})]:t._e(),2===+t.active?[a("div",{staticClass:"white-bg mt-2 py-10 px-4"},[a("div",{staticClass:"color-gray-5 font-14"},[t._v("应收金额（根据发货单确认日期）")]),a("account-list",{attrs:{list:t.detailList,dateKey:"billDate",valKey:"billAmount"}}),a("data-desc",{attrs:{presentText:"以上数据统计截止至昨日23:59",nextText:"下次更新时间为今日23:59"}})],1)]:t._e()],2)},i=[],c=a("5530"),l=a("1da1"),r=a("d4ec"),n=a("bee2"),o=a("262e"),d=a("2caf"),u=(a("96cf"),a("d81d"),a("99af"),a("9ab4")),v=a("1b40"),b=a("4bb5"),p=a("273c"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pa-10"},t._l(t.list,(function(e,s){return a("div",{key:s,staticClass:"account"},[a("div",{staticClass:"d-flex justify-space-between"},[a("div",[a("div",{staticClass:"d-flex align-center"},[a("div",{class:"account-circle background-color-"+("danger"===t.type?"red":"main-2")}),a("div",{staticClass:"font-14 color-gray-4 ml-4"},[t._v(" "+t._s(t.isAdvanced?(e.paymentDate?t.formateDate(e.paymentDate):"")+"到账":t.formateDateWithoutDay(e[t.dateKey]))+" ")])]),a("div",{staticClass:"account-border font-14 font-bold pt-2"},[t._v(" "+t._s(e[t.valKey])),t.isAdvanced?a("span",[t._v("(未处理："+t._s(e.unMixedMoney||0)+")")]):t._e()])])])])})),0)},m=[],y=(a("ac1f"),a("1276"),a("a9e3"),function(t){Object(o["a"])(a,t);var e=Object(d["a"])(a);function a(){return Object(r["a"])(this,a),e.apply(this,arguments)}return Object(n["a"])(a,[{key:"formateDate",value:function(t){var e=t.split(" ")[0].split("-");return"".concat(e[0],"年").concat(e[1],"月").concat(e[2],"日")}},{key:"formateDateWithoutDay",value:function(t){var e=t.split(" ")[0].split("-");return"".concat(e[0],"年").concat(Number(e[1]),"月")}},{key:"onClick",value:function(t,e){this.$emit("feedback",t,e)}}]),a}(v["d"]));Object(u["a"])([Object(v["c"])({type:Array,default:[]})],y.prototype,"list",void 0),Object(u["a"])([Object(v["c"])({type:String,default:"normal"})],y.prototype,"type",void 0),Object(u["a"])([Object(v["c"])({type:String,default:""})],y.prototype,"dateKey",void 0),Object(u["a"])([Object(v["c"])({type:String,default:""})],y.prototype,"valKey",void 0),Object(u["a"])([Object(v["c"])({type:Boolean,default:!1})],y.prototype,"isAdvanced",void 0),y=Object(u["a"])([Object(v["a"])({})],y);var h=y,C=h,O=(a("4ab9"),a("2877")),_=Object(O["a"])(C,f,m,!1,null,"3c2ed98f",null),g=_.exports,x=a("53ae"),j=a("2279"),k=a("5b92"),D=Object(b["a"])("app"),A=function(t){Object(o["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;return Object(r["a"])(this,a),t=e.apply(this,arguments),t.active=t.$route.query.active,t.detail={},t.detailList=[],t.queryRemarkLoading=!1,t.feedShow=!1,t.curFeedBack={},t.feedbackText="",t.showReasonModal=!1,t}return Object(n["a"])(a,[{key:"latestOverdueRemark",get:function(){return this.detail.overdueRemark&&this.detail.overdueRemark.length?this.detail.overdueRemark[0]:{reason:"-",creDate:"-",reasonType:"-"}}},{key:"typeName",get:function(){var t="";return 2===+this.active?t="到本月底即将逾期":1===+this.active&&(t="已逾期"),t}},{key:"typeClass",get:function(){var t="";return 2===+this.active?t="orange-2":1===+this.active&&(t="red"),"background-color-".concat(t)}},{key:"creditStatusText",get:function(){var t=["A","B","C","D","E"];return void 0!==this.detail.creditStatus&&null!==this.detail.creditStatus?t[this.detail.creditStatus]:"-"}},{key:"getOverdueDetail",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,Object(j["W"])({codId:this.detailInfor.codId});case 3:e=t.sent,this.loading=!1,e.success&&(this.detail=Object(c["a"])(Object(c["a"])({},e.data.overdueDataVO),{},{advanceAmount:Object(k["b"])(e.data.overdueDataVO.advanceAmount),receivable:Object(k["b"])(e.data.overdueDataVO.receivable),creditAmount:Object(k["b"])(e.data.overdueDataVO.creditAmount),overdueAmount:Object(k["b"])(e.data.overdueDataVO.overdueAmount)}),this.detailList=e.data.overdueDataDetailDOList.map((function(t){return Object(c["a"])(Object(c["a"])({},t),{},{overdueAmount:Object(k["b"])(t.overdueAmount)})})));case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getDetail",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,Object(j["Y"])({cowId:this.detailInfor.cowId});case 3:e=t.sent,this.loading=!1,e.success&&(this.detail=Object(c["a"])(Object(c["a"])({},e.data.crmOverdueWarnVO),{},{creditAmount:Object(k["b"])(e.data.crmOverdueWarnVO.creditAmount),advanceAmount:Object(k["b"])(e.data.crmOverdueWarnVO.advanceAmount),receivable:Object(k["b"])(e.data.crmOverdueWarnVO.receivable),overdueAmount:Object(k["b"])(e.data.crmOverdueWarnVO.overdueAmount)}),this.detailList=e.data.overdueWarnDetailDOList.map((function(t){return Object(c["a"])(Object(c["a"])({},t),{},{billAmount:Object(k["b"])(t.billAmount)})})));case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"_queryLongAccountsDataDetail",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,Object(j["eb"])({pageNum:this.page,pageSize:20,customId:this.detailInfor.customId,deptId:this.detailInfor.deptId,entryId:this.detailInfor.entryId});case 3:e=t.sent,this.loading=!1,this.refreshing=!1,e.success?(a=e.data.list.map((function(t){return Object(c["a"])(Object(c["a"])({},t),{},{receivable:Object(k["b"])(t.receivable),receivable12year:Object(k["b"])(t.receivable12year),receivable23year:Object(k["b"])(t.receivable23year),receivable34year:Object(k["b"])(t.receivable34year),receivable45year:Object(k["b"])(t.receivable45year),receivable5year:Object(k["b"])(t.receivable5year)})})),this.dataList=this.dataList.concat(a),this.page++,this.finished=!e.data.hasNextPage,this.total=e.data.total):this.error=!0;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"onRefresh",value:function(){this.finished=!1,this.loading=!1,this.dataList=[],this.page=1,this.onLoad()}},{key:"onLoad",value:function(){this.refreshing&&(this.page=1,this.dataList=[],this.refreshing=!1),this.loading=!0,this._queryLongAccountsDataDetail()}},{key:"mounted",value:function(){2===+this.active?this.getDetail():1===+this.active&&this.getOverdueDetail()}}]),a}(Object(v["b"])(x["a"]));Object(u["a"])([D.Getter],A.prototype,"detailInfor",void 0),A=Object(u["a"])([Object(v["a"])({components:{DataDesc:p["a"],AccountList:g}})],A);var w=A,I=w,R=(a("cb44"),Object(O["a"])(I,s,i,!1,null,"044949b5",null));e["default"]=R.exports}}]);