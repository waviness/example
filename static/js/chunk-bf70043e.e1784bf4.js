(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bf70043e"],{"0998":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"common-list mb-2",class:t.isHeader?"common-list-noRadius":"",on:{click:t.detailClick}},[i("div",{staticClass:"common-list-content"},[i("div",{staticClass:"common-list-two fontWeight"},[i("div",[t._v(t._s(t.item.addtime))]),i("div",[t._v(t._s(t.item.entryid)+"/"+t._s(t.item.entryname))])]),i("div",{staticClass:"common-list-one d-flex justify-space-between"},[i("span",{staticClass:"title"},[t._v("客户")]),i("span",[t._v(t._s(t.item.erpcustomid)+"/"+t._s(t.item.erpcustomename))])]),i("div",{staticClass:"common-list-one d-flex justify-space-between"},[i("span",{staticClass:"title"},[t._v("品种")]),i("span",[t._v(t._s(t.item.erpid)+"/"+t._s(t.item.tym))])]),i("div",{staticClass:"common-list-one d-flex justify-space-between"},[i("span",{staticClass:"title"},[t._v("规格")]),i("span",{staticClass:"color-main"},[t._v(t._s(t.item.gg))])]),i("div",{staticClass:"common-list-one d-flex justify-space-between"},[i("span",{staticClass:"title"},[t._v("产地")]),i("span",{staticClass:"fontWeight"},[t._v(t._s(t.item.scqy))])]),i("div",{staticClass:"common-list-two"},[i("div",{staticClass:"d-flex justify-space-between align-center"},[i("span",{staticClass:"title"},[t._v("合同数量")]),i("span",{staticClass:"value fontWeight"},[t._v(t._s(t.item.erp_cgsl))])]),i("div",{staticClass:"d-flex justify-space-between align-center"},[i("span",[t._v("合同价")]),i("span",{staticClass:"value fontWeight"},[t._v(t._s(t.item.cgjg))])])])]),t.isHeader?t._e():i("div",{staticClass:"common-list-button clearfix"},[0===t.type?i("div",{staticClass:"right"},[i("van-button",{attrs:{size:"small",color:"#EA394B",round:""},on:{click:function(e){return e.stopPropagation(),t.nullify(2)}}},[t._v("作废")]),i("van-button",{staticClass:"ml-4",attrs:{size:"small",color:"#2271F5",round:""},on:{click:function(e){return e.stopPropagation(),t.reset.apply(null,arguments)}}},[t._v("重置")])],1):t._e(),1===t.type?i("div",{staticClass:"right"},[i("van-button",{staticClass:"ml-4",attrs:{size:"small",color:"#2271F5",round:""},on:{click:function(e){return e.stopPropagation(),t.nullify(0)}}},[t._v("回退")])],1):t._e()])])},n=[],r=i("d4ec"),s=i("bee2"),o=i("262e"),c=i("2caf"),l=i("9ab4"),u=i("1b40"),d=function(t){Object(o["a"])(i,t);var e=Object(c["a"])(i);function i(){return Object(r["a"])(this,i),e.apply(this,arguments)}return Object(s["a"])(i,[{key:"detailClick",value:function(){this.$emit("detailClick")}},{key:"nullify",value:function(t){this.$emit("nullifyClick",t)}},{key:"reset",value:function(){this.$emit("resetClick")}}]),i}(u["d"]);Object(l["a"])([Object(u["c"])()],d.prototype,"item",void 0),Object(l["a"])([Object(u["c"])()],d.prototype,"index",void 0),Object(l["a"])([Object(u["c"])()],d.prototype,"type",void 0),Object(l["a"])([Object(u["c"])({default:!1})],d.prototype,"isHeader",void 0),d=Object(l["a"])([Object(u["a"])({})],d);var f=d,m=f,p=i("2877"),b=Object(p["a"])(m,a,n,!1,null,"3e171766",null);e["a"]=b.exports},"17f2":function(t,e,i){"use strict";i.d(e,"d",(function(){return s})),i.d(e,"a",(function(){return o})),i.d(e,"c",(function(){return c})),i.d(e,"e",(function(){return l})),i.d(e,"b",(function(){return u}));var a=i("1da1"),n=(i("96cf"),i("b32d")),r=i("90ae"),s=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n["a"].post(r["d"],"/api/emergencyOrder/getEmergencyOrderInfo",e,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n["a"].post(r["d"],"/api/emergencyOrder/emergencyOrderMatchDetail",e,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n["a"].post(r["d"],"/api/emergencyOrder/emergencyOrderMatchSubmit",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n["a"].post(r["d"],"/api/emergencyOrder/operationForEmergencyOrder",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n["a"].post(r["d"],"/api/emergencyOrder/emergencyOrderMatchReset",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},"2e52":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"firstAidOrder full-height"},[i("van-sticky",[i("div",{staticClass:"header px-10 pt-10 white-bg"},[i("div",{class:["pa-10 common-filter",t.filterShow?"color-main-2":"",t.filterActive?"common-filter--active":""],on:{click:function(e){t.filterShow=!t.filterShow}}},[i("div",[t._v("条件筛选")]),i("van-icon",{attrs:{name:"arrow-"+(t.filterShow?"up":"down"),size:"16px"}})],1),i("van-tabs",{attrs:{color:"#2271F5"},on:{click:t.tabTypeClick}},[i("van-tab",{attrs:{title:"未处理"}}),i("van-tab",{attrs:{title:"已作废"}})],1)],1)]),i("div",{attrs:{id:"filterContainer"}},[i("van-pull-refresh",{staticClass:"pt-10 px-10",on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[i("van-list",{attrs:{offset:20,finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[t.loading||t.dataList.length?t._e():i("app-empty",{staticClass:"mt-6 white-bg",attrs:{description:"暂无数据"}}),t._l(t.dataList,(function(e,a){return i("list",{key:"FirstAidOrder"+a,attrs:{type:t.tabType,item:e,index:a},on:{detailClick:function(i){return t.detailClick(e)},nullifyClick:function(i){return t.nullifyClick(i,e,a)},resetClick:function(i){return t.resetClick(e,a)}}})}))],2)],1)],1),i("van-popup",{attrs:{position:"top","get-container":"#filterContainer"},model:{value:t.filterShow,callback:function(e){t.filterShow=e},expression:"filterShow"}},[i("filter-pop",{on:{showPickerDateClick:function(e){t.showPickerDate=!0},filterSubmit:t.filterSubmit,reset:t.reset}})],1)],1)},n=[],r=i("1da1"),s=i("5530"),o=i("d4ec"),c=i("bee2"),l=i("262e"),u=i("2caf"),d=(i("96cf"),i("99af"),i("a434"),i("9ab4")),f=i("1b40"),m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-form",[i("van-field",{attrs:{clickable:"",readonly:"",label:"时间范围",placeholder:"点击选择时间范围","input-align":"right"},on:{click:t.showPickerDateClick},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}}),i("van-field",{attrs:{label:"货品ID","input-align":"right",placeholder:"请输入货品ID"},model:{value:t.filterObj.goodsId,callback:function(e){t.$set(t.filterObj,"goodsId",e)},expression:"filterObj.goodsId"}}),i("van-field",{attrs:{label:"货品名称","input-align":"right",placeholder:"请输入货品名称"},model:{value:t.filterObj.goodsName,callback:function(e){t.$set(t.filterObj,"goodsName",e)},expression:"filterObj.goodsName"}}),i("van-field",{attrs:{label:"客户ID","input-align":"right",placeholder:"请输入客户ID"},model:{value:t.filterObj.customerId,callback:function(e){t.$set(t.filterObj,"customerId",e)},expression:"filterObj.customerId"}}),i("van-field",{attrs:{label:"客户名称","input-align":"right",placeholder:"请输入客户名称"},model:{value:t.filterObj.customName,callback:function(e){t.$set(t.filterObj,"customName",e)},expression:"filterObj.customName"}})],1),i("div",{staticClass:"dropdown-opts"},[i("van-button",{staticClass:"dropdown-opts__btn",attrs:{type:"default",size:"small",block:"",round:""},on:{click:t.reset}},[t._v("重置")]),i("van-button",{staticClass:"dropdown-opts__btn",attrs:{type:"info",size:"small",block:"",round:"",color:"#2271F5"},on:{click:t.filterSubmit}},[t._v("确认")])],1),t.showPickerDate?i("van-calendar",{attrs:{"get-container":"#app",type:"range","min-date":t.minDate,maxDate:t.maxDate,color:"#2271F5","allow-same-day":""},on:{confirm:t.onConfirmDate},model:{value:t.showPickerDate,callback:function(e){t.showPickerDate=e},expression:"showPickerDate"}}):t._e()],1)},p=[],b=i("3835"),h=function(t){Object(l["a"])(i,t);var e=Object(u["a"])(i);function i(){var t;return Object(o["a"])(this,i),t=e.apply(this,arguments),t.dateRange="",t.showPickerDate=!1,t.minDate=new Date(2010,0,1),t.maxDate=new Date,t.filterObj={startTime:"",endTime:"",goodsId:"",goodsName:"",customerId:"",customName:""},t}return Object(c["a"])(i,[{key:"filterSubmit",value:function(){this.$emit("filterSubmit",this.filterObj)}},{key:"showPickerDateClick",value:function(){this.showPickerDate=!0}},{key:"onConfirmDate",value:function(t){var e=Object(b["a"])(t,2),i=e[0],a=e[1];this.filterObj.startTime=this.$dayjs(i).format("YYYY-MM-DD"),this.filterObj.endTime=this.$dayjs(a).format("YYYY-MM-DD"),this.showPickerDate=!1,this.dateRange="".concat(this.filterObj.startTime," 至 ").concat(this.filterObj.endTime)}},{key:"reset",value:function(){this.$emit("reset"),this.filterObj={goodsId:"",goodsName:"",customerId:"",customName:"",startTime:"",endTime:""},this.dateRange=""}}]),i}(f["d"]);h=Object(d["a"])([Object(f["a"])({})],h);var v=h,g=v,O=(i("d77e"),i("2877")),j=Object(O["a"])(g,m,p,!1,null,"1c1db756",null),y=j.exports,k=i("0998"),w=i("53ae"),C=i("437a"),_=i("17f2"),x=function(t){Object(l["a"])(i,t);var e=Object(u["a"])(i);function i(){var t;return Object(o["a"])(this,i),t=e.apply(this,arguments),t.filterObj={startTime:"",endTime:"",goodsId:"",goodsName:"",customerId:"",customName:""},t}return Object(c["a"])(i,[{key:"tabTypeClick",value:function(t){this.tabType=t,this.onRefresh()}},{key:"filterSubmit",value:function(t){this.filterObj=Object(s["a"])({},t),this.filterObj.goodsId||this.filterObj.goodsName||this.filterObj.customerId||this.filterObj.customName||this.filterObj.startTime||this.filterObj.endTime?this.filterActive=!0:this.filterActive=!1,this.filterShow=!1,this.onRefresh()}},{key:"reset",value:function(){this.filterObj.goodsId="",this.filterObj.goodsName="",this.filterObj.customerId="",this.filterObj.customName="",this.filterObj.startTime="",this.filterObj.endTime="",this.filterActive=!1,this.onRefresh()}},{key:"onRefresh",value:function(){this.finished=!1,this.loading=!1,this.page=1,this.onLoad()}},{key:"onLoad",value:function(){this.refreshing&&(this.page=1,this.dataList=[],this.refreshing=!1),this.loading=!0,this._getEmergencyOrderInfo()}},{key:"_getEmergencyOrderInfo",value:function(){var t=this;1===this.page&&(this.dataList=[]),Object(_["d"])({starttime:this.filterObj.startTime?this.filterObj.startTime:"",endtime:this.filterObj.endTime?this.filterObj.endTime:"",goodsid:this.filterObj.goodsId,goodsname:this.filterObj.goodsName,opcode:this.filterObj.opcode,customid:this.filterObj.customerId,customname:this.filterObj.customName,deleteFlag:!!this.tabType,type:this.tabType,pageNum:this.page,pageSize:10}).then((function(e){"200"===e.code&&(t.dataList=t.dataList.concat(e.data.list),e.data.hasNextPage?t.page++:t.finished=!0,t.loading=!1)}))}},{key:"detailClick",value:function(t){this.SET_DETAILOBJ(t),this.$router.push({name:"FirstAidDetail"})}},{key:"nullifyClick",value:function(t,e,i){var a=this,n={item:e,index:i,nowType:t},s=2===n.nowType?"作废":0===n.nowType?"回退":"";this.$dialog.confirm({title:"确认",confirmButtonColor:"#2271f5",message:"确定".concat(s,"？")}).then(Object(r["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(_["e"])({ddmxbhList:[n.item.ddmxbh],operationType:n.nowType});case 2:e=t.sent,"200"===e.code?(a.$toast.success("".concat(s,"成功")),a.dataList.splice(n.index,1)):a.$toast.fail("".concat(s,"失败"));case 4:case"end":return t.stop()}}),t)}))))}},{key:"resetClick",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,i){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$dialog.confirm({title:"确认",confirmButtonColor:"#2271f5",message:"确定重置？"}).then(Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(_["b"])({ddmxbh:e.ddmxbh,ddbh:e.ddbh});case 2:n=t.sent,n.success?(a.$toast.success("重置成功"),a.dataList.splice(i,1)):a.$toast.fail("重置失败");case 4:case"end":return t.stop()}}),t)}))));case 1:case"end":return t.stop()}}),t,this)})));function e(e,i){return t.apply(this,arguments)}return e}()}]),i}(Object(f["b"])(w["a"],C["a"]));x=Object(d["a"])([Object(f["a"])({components:{filterPop:y,list:k["a"]}})],x);var T=x,D=T,R=Object(O["a"])(D,a,n,!1,null,"264e072c",null);e["default"]=R.exports},"437a":function(t,e,i){"use strict";var a=i("bee2"),n=i("d4ec"),r=i("262e"),s=i("2caf"),o=i("9ab4"),c=i("1b40"),l=i("4bb5"),u=Object(l["a"])("app"),d=Object(l["a"])("crm");c["a"].registerHooks(["beforeRouteEnter"]);var f=function(t){Object(r["a"])(i,t);var e=Object(s["a"])(i);function i(){var t;return Object(n["a"])(this,i),t=e.apply(this,arguments),t.filterShow=!1,t.filterActive=!1,t.tabType=0,t}return Object(a["a"])(i)}(c["d"]);Object(o["a"])([u.Getter],f.prototype,"userInfor",void 0),Object(o["a"])([d.Mutation],f.prototype,"SET_DETAILOBJ",void 0),Object(o["a"])([u.Mutation],f.prototype,"SET_QUERYPARAMA",void 0),Object(o["a"])([u.Mutation],f.prototype,"SET_HADDONEONDETAIL",void 0),Object(o["a"])([u.Getter],f.prototype,"hadDoneOnDetail",void 0),f=Object(o["a"])([Object(c["a"])({})],f),e["a"]=f},"53ae":function(t,e,i){"use strict";var a=i("d4ec"),n=i("bee2"),r=i("262e"),s=i("2caf"),o=(i("b0c0"),i("9ab4")),c=i("1b40");c["a"].registerHooks(["beforeRouteEnter"]);var l=function(t){Object(r["a"])(i,t);var e=Object(s["a"])(i);function i(){var t;return Object(a["a"])(this,i),t=e.apply(this,arguments),t.page=1,t.total=0,t.dataList=[],t.loading=!1,t.finished=!1,t.refreshing=!1,t.finishText="",t.userIdList=[],t.error=!1,t}return Object(n["a"])(i,[{key:"beforeRouteEnter",value:function(t,e,i){i((function(t){"Home"!==e.name&&"TaskIndex"!==e.name||(t.dataList=[],t.page=1,t.loading=!1,t.finished=!0,t.refreshing=!1,t.$nextTick((function(){t.finished=!1})))}))}}]),i}(c["d"]);l=Object(o["a"])([Object(c["a"])({})],l),e["a"]=l},d77e:function(t,e,i){"use strict";i("e2a0")},e2a0:function(t,e,i){}}]);