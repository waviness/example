(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a69999d"],{"1f9a":function(t,e,n){"use strict";n("b720")},3355:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex justify-space-between align-baseline"},[n("div",{staticClass:"color-gray-4",style:"width: "+t.titleWidth+"px"},[t._v(t._s(t.title))]),n("div",{staticClass:"flex-1 textAlignR"},[n("span",{class:t.contentClass},[t._v(t._s(t.content))]),t.hasCopy?n("app-icon",{staticClass:"color-main-2 ml-1 copy-content",attrs:{name:"#ytcrm-fuzhi","data-clipboard-text":t.content},on:{click:t.copy}}):t._e()],1),t._t("default")],2)},o=[],i=n("d4ec"),r=n("bee2"),s=n("262e"),c=n("2caf"),l=(n("a9e3"),n("9ab4")),u=n("1b40"),f=function(t){Object(s["a"])(n,t);var e=Object(c["a"])(n);function n(){return Object(i["a"])(this,n),e.apply(this,arguments)}return Object(r["a"])(n,[{key:"copy",value:function(){var t=this,e=new this.$Clipboard(".copy-content");e.on("success",(function(n){t.$toast.success("复制成功"),e.destroy()})),e.on("error",(function(n){t.$toast.fail("该浏览器不支持自动复制"),e.destroy()}))}}]),n}(u["d"]);Object(l["a"])([Object(u["c"])({type:String,default:""})],f.prototype,"title",void 0),Object(l["a"])([Object(u["c"])({type:[String,Number],default:""})],f.prototype,"content",void 0),Object(l["a"])([Object(u["c"])({type:String,default:"color-black-2"})],f.prototype,"contentClass",void 0),Object(l["a"])([Object(u["c"])({type:Number,default:80})],f.prototype,"titleWidth",void 0),Object(l["a"])([Object(u["c"])({type:Boolean,default:!1})],f.prototype,"hasCopy",void 0),f=Object(l["a"])([Object(u["a"])({})],f);var p=f,d=p,h=n("2877"),v=Object(h["a"])(d,a,o,!1,null,null,null);e["a"]=v.exports},"4e87":function(t,e,n){},"6d3f":function(t,e,n){"use strict";n("4e87")},"6f1f":function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return u})),n.d(e,"e",(function(){return p})),n.d(e,"f",(function(){return h})),n.d(e,"d",(function(){return b}));var a=n("1da1"),o=(n("96cf"),n("b32d")),i=n("90ae");function r(t){return s.apply(this,arguments)}function s(){return s=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].formDataPost(i["c"],"/api/queryContract/queryContractList",e,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}function c(t){return l.apply(this,arguments)}function l(){return l=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].formDataPost(i["c"],"/api/queryContract/queryContractDtlList",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}function u(t){return f.apply(this,arguments)}function f(){return f=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].formDataPost(i["c"],"/api/queryContract/queryApiInformationsByCondtlid",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),f.apply(this,arguments)}function p(t){return d.apply(this,arguments)}function d(){return d=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].formDataPost(i["c"],"/api/queryContract/queryOrderStatusInfo",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}function h(t){return v.apply(this,arguments)}function v(){return v=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].formDataPost(i["c"],"/api/queryContract/querySuInvkcPic",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),v.apply(this,arguments)}function b(t){return m.apply(this,arguments)}function m(){return m=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].post(i["c"],"/api/queryContract/queryLotNumberInfo",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}},"9cb5":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pb-100"},[n("div",{staticClass:"px-10 pt-10"},[t._v("细单信息列表")]),n("div",{staticClass:"pa-10"},t._l(t.list,(function(e,a){return n("contract-detail-item",{key:a,staticClass:"mb-2",attrs:{data:e},on:{click:t.onItemClick}})})),1),n("van-popup",{staticStyle:{height:"90%"},attrs:{round:"",position:"bottom",closeable:""},model:{value:t.logisticsShow,callback:function(e){t.logisticsShow=e},expression:"logisticsShow"}},[n("div",{staticClass:"d-flex flex-column full-height"},[n("div",{staticClass:"font-16 font-bold textAlignC py-4"},[t._v("物流信息")]),n("div",{staticClass:"flex-1 my-2 mx-3 overflow-y-auto"},[n("van-steps",{attrs:{direction:"vertical",active:0,"active-color":"#323233","active-icon":"","inactive-color":"#C8C9CC"}},t._l(t.logisticsInfor,(function(e,a){return n("van-step",{key:a},[n("div",{staticClass:"font-14"},[t._v(t._s(e.operator)+"操作，"+t._s(e.operastatus))]),n("div",{staticClass:"mt-2"},[t._v(t._s(new Date(e.operadate).toLocaleString()))])])})),1)],1)])]),n("van-popup",{attrs:{round:"",position:"bottom",closeable:""},model:{value:t.lotInformationShow,callback:function(e){t.lotInformationShow=e},expression:"lotInformationShow"}},[n("div",{staticClass:"d-flex flex-column full-height"},[n("div",{staticClass:"font-16 font-bold textAlignC py-4"},[t._v("批号信息列表")]),n("div",{staticClass:"flex-1 mb-2 mx-3 overflow-y-auto font-14"},[n("div",{staticClass:"d-flex px-4 py-3 color-gray-5"},[n("div",{staticClass:"flex-3"},[t._v("批号")]),n("div",{staticClass:"flex-2"},[t._v("是否两票制")]),n("div",{staticClass:"flex-2"},[t._v("是否严控")])]),t._l(t.lotInfor,(function(e,a){return n("div",{key:a,class:["d-flex px-4 py-3",a%2===0?"background-color-gray-8":""],on:{click:function(n){return t.lotInformationClick(e)}}},[n("div",{staticClass:"flex-3"},[t._v(t._s(e.lotno))]),n("div",{staticClass:"flex-2"},[t._v(t._s(1===e.sflpzhp?"是":"否"))]),n("div",{staticClass:"flex-2"},[t._v(t._s(1===e.skiplpz?"是":"否"))])])})),n("app-empty",{directives:[{name:"show",rawName:"v-show",value:0===t.lotInfor.length,expression:"lotInfor.length === 0"}],staticClass:"py-6 white-bg",attrs:{description:"当前没有批号信息"}})],2)])]),n("van-popup",{staticStyle:{height:"90%"},attrs:{round:"",position:"bottom",closeable:""},model:{value:t.epzInformationShow,callback:function(e){t.epzInformationShow=e},expression:"epzInformationShow"}},[n("div",{staticClass:"d-flex flex-column full-height"},[n("div",{staticClass:"font-16 font-bold textAlignC py-4"},[t._v("两票制信息列表")]),n("div",{staticClass:"flex-1 mx-3 pb-7 overflow-y-auto font-14"},[n("div",{domProps:{innerHTML:t._s(t.erPzinfor.content)}}),n("div",{staticClass:"color-gray-4 my-3"},[t._v("进货发票 (第一票)")]),t.photoInfor.length>0?n("ul",t._l(t.photoInfor,(function(e,a){return n("li",{key:a},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.photoInfor.length>1,expression:"photoInfor.length > 1"}],staticClass:"mb-1"},[t._v("图片"+t._s(a+1))]),n("img",{staticClass:"full-width",attrs:{src:e.inv_pic},on:{click:function(e){return t.previewImg(a)}}})])})),0):n("app-empty",{staticClass:"py-6 white-bg",attrs:{description:"暂无数据"}})],1)])]),n("van-dialog",{attrs:{"confirm-button-color":"#2271F5","show-cancel-button":""},model:{value:t.dialogShow,callback:function(e){t.dialogShow=e},expression:"dialogShow"}},[n("div",{staticClass:"pa-6 font-16 textAlignC"},[t._v(t._s(t.dialogContent))])])],1)},o=[],i=(n("4662"),n("28a2")),r=n("2909"),s=n("1da1"),c=n("d4ec"),l=n("bee2"),u=n("262e"),f=n("2caf"),p=(n("99af"),n("d3b7"),n("159b"),n("d81d"),n("96cf"),n("9ab4")),d=n("1b40"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"gray-block box-shadow"},[n("div",{staticClass:"white-block pa-10"},[n("div",{staticClass:"d-flex justify-space-between align-center"},[n("div",{staticClass:"tag-blue"},[t._v(t._s(t.data.conDtlId))]),1===t.data.useStatus?n("div",{staticClass:"tag-green"},[t._v("已分配")]):0===t.data.useStatus?n("div",{staticClass:"tag-red"},[t._v("未分配")]):t._e()]),n("info-item",{staticClass:"mt-2",attrs:{title:"销售单总单ID",content:t.data.salesId&&t.data.salesId.length?t.data.salesId.join("、"):"-",hasCopy:""}}),n("info-item",{staticClass:"mt-2",attrs:{title:"品种",content:t.data.goodsId+"/"+t.data.goodsName}}),n("info-item",{staticClass:"mt-2",attrs:{title:"规格",content:t.data.goodsType}}),n("info-item",{staticClass:"mt-2",attrs:{title:"产地",content:t.data.factory}}),n("info-item",{staticClass:"mt-2",attrs:{title:"总金额",content:t.data.total}}),n("info-item",{staticClass:"mt-2",attrs:{title:"合同数量",content:t.data.goodsQty}}),n("info-item",{staticClass:"mt-2",attrs:{title:"累计执行数量",content:t.data.accstQty||"-"}}),n("info-item",{staticClass:"mt-2",attrs:{title:"采购员",content:t.data.supplyerName,contentClass:"tag-blue"}})],1),n("div",{staticClass:"inner-block textAlignR"},[n("van-button",{staticClass:"submit-btn",attrs:{type:"info",size:"small",round:"",color:"#2271F5",plain:""},on:{click:function(e){return t.onClick(1)}}},[t._v("物流")]),n("van-button",{staticClass:"submit-btn ml-3",attrs:{type:"info",size:"small",round:"",color:"#2271F5"},on:{click:function(e){return t.onClick(2)}}},[t._v("两票制")])],1)])},v=[],b=n("3355"),m=function(t){Object(u["a"])(n,t);var e=Object(f["a"])(n);function n(){return Object(c["a"])(this,n),e.apply(this,arguments)}return Object(l["a"])(n,[{key:"onClick",value:function(t){this.$emit("click",t,this.data)}}]),n}(d["d"]);Object(p["a"])([Object(d["c"])({type:Object,default:{}})],m.prototype,"data",void 0),m=Object(p["a"])([Object(d["a"])({components:{InfoItem:b["a"]}})],m);var y=m,g=y,C=(n("6d3f"),n("2877")),w=Object(C["a"])(g,h,v,!1,null,"4cedb4e7",null),x=w.exports,j=n("6f1f"),k=function(t){Object(u["a"])(n,t);var e=Object(f["a"])(n);function n(){var t;return Object(c["a"])(this,n),t=e.apply(this,arguments),t.list=[],t.loading=!1,t.logisticsInfor=[],t.logisticsShow=!1,t.lotInfor=[],t.lotInformationShow=!1,t.erPzinfor={},t.epzInformationShow=!1,t.photoInfor=[],t.dialogShow=!1,t.dialogContent="",t}return Object(l["a"])(n,[{key:"getDataList",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,Object(j["b"])({conId:this.$route.params.conId});case 3:e=t.sent,this.loading=!1,e.success&&(this.list=Object(r["a"])(e.data));case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"onItemClick",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(1!==e){t.next=7;break}return t.next=3,Object(j["e"])({condtlid:n.conDtlId});case 3:a=t.sent,a.success?(this.logisticsInfor=a.data,this.logisticsShow=!0):(this.dialogShow=!0,this.dialogContent="该销售合同细单（".concat(n.conDtlId,"）").concat(a.msg)),t.next=11;break;case 7:return t.next=9,Object(j["a"])({condtlid:n.conDtlId});case 9:o=t.sent,o.success&&(this.lotInfor=o.data,this.lotInfor.forEach((function(t){t.factoryId=n.factoryId})),this.lotInformationShow=!0);case 11:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"lotInformationClick",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(1!==e.sflpzhp){t.next=7;break}return t.next=3,Object(j["d"])(e);case 3:n=t.sent,1===n.data.flag?(this.erPzinfor=n.data,this.epzInformationShow=!0,this.findPhoto()):(this.dialogShow=!0,this.dialogContent=n.data.content),t.next=9;break;case 7:this.dialogShow=!0,this.dialogContent="当前批号是非两票制";case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"findPhoto",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,n,a,o,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.erPzinfor,n=e.suinvno,a=e.suinvfirstno,o=e.salesdtlid,i={invno:n,invfirstno:a,salesdtlid:o},t.next=4,Object(j["f"])(i);case 4:r=t.sent,this.photoInfor=r.data;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"previewImg",value:function(t){var e=this.photoInfor.map((function(t){var e=t.inv_pic;return e}));Object(i["a"])({images:e,startPosition:t,closeable:!0})}},{key:"created",value:function(){this.list=[],this.getDataList()}}]),n}(d["d"]);k=Object(p["a"])([Object(d["a"])({components:{ContractDetailItem:x}})],k);var I=k,O=I,_=(n("1f9a"),Object(C["a"])(O,a,o,!1,null,"25960489",null));e["default"]=_.exports},b720:function(t,e,n){}}]);