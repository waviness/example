(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28b73e89"],{"0383":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"background-color-white pb-100"},[a("van-sticky",[a("sales-header",{attrs:{entryObj:{id:e.entryObj.userId,name:e.entryObj.userName},selectDeptFlagEnter:!1,dateTime:e.$dayjs(this.csjNowTime).format("YYYY-MM-DD")},on:{calendarConfirm:e.calendarConfirm}})],1),a("div",{staticClass:"totalContent pa-2"},[a("VisitCard",{attrs:{currentDayMoney:e.salesDataObj.currentDayMoney,objName:e.entryObj.name,visitNumber:e.visitNumber,loading:e.userSalesloading},on:{visitClick:e.visitClick}}),a("CommonCard",{attrs:{loading:e.userSalesloading,salesDataObj:e.salesDataObj}})],1),a("div",[a("van-tabs",{staticStyle:{padding:"0 10px"},attrs:{color:"#2271F5"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("van-tab",{attrs:{name:0,title:"客户"}}),a("van-tab",{attrs:{name:2,title:"下降客户"}}),a("van-tab",{attrs:{name:1,title:"品种"}}),a("van-tab",{attrs:{name:3,title:"流失品种"}})],1)],1),a("div",{staticClass:"px-2 pb-100"},[e.refreshData&&0===e.active?a("CustomerList",{attrs:{dateTime:e.$dayjs(this.csjNowTime).format("YYYY-MM-DD"),entryObj:e.entryObj,type:"personRelate",isFooterShow:!0}}):e._e(),2===+e.active?a("LoseCustomerTable",{attrs:{type:"personRelate",dateTime:e.$dayjs(this.csjNowTime).format("YYYY-MM-DD"),entryObj:e.entryObj}}):e._e(),e.refreshData&&1===e.active?a("GoodsList",{attrs:{type:"personRelate",dateTime:e.$dayjs(this.csjNowTime).format("YYYY-MM-DD"),entryObj:e.entryObj,isFooterShow:!0}}):e._e(),3===+e.active?a("LoseGoodsTable",{attrs:{type:"personRelate",dateTime:e.$dayjs(this.csjNowTime).format("YYYY-MM-DD"),entryObj:e.entryObj}}):e._e()],1)],1)},i=[],n=a("bee2"),r=a("d4ec"),c=a("262e"),o=a("2caf"),u=a("9ab4"),d=a("1b40"),l=a("7625"),b=function(e){Object(c["a"])(a,e);var t=Object(o["a"])(a);function a(){return Object(r["a"])(this,a),t.apply(this,arguments)}return Object(n["a"])(a)}(Object(d["b"])(l["a"]));b=Object(u["a"])([Object(d["a"])({})],b);var h=b,m=h,j=(a("44ee"),a("2877")),y=Object(j["a"])(m,s,i,!1,null,"2927175b",null);t["default"]=y.exports},"44ee":function(e,t,a){"use strict";a("c978")},7625:function(e,t,a){"use strict";var s=a("1da1"),i=a("d4ec"),n=a("bee2"),r=a("262e"),c=a("2caf"),o=(a("96cf"),a("b0c0"),a("9ab4")),u=a("1b40"),d=a("4388"),l=a("856a"),b=a("5b92"),h=a("8b7c"),m=a("e906"),j=function(e){Object(r["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(i["a"])(this,a),e=t.apply(this,arguments),e.salesDataObj={},e.entryObj={},e.active=-1,e.visitNumber="",e.nowUseTime="",e.userSalesloading=!1,e}return Object(n["a"])(a,[{key:"calendarConfirm",value:function(){var e=this;this.init(),this.refreshData=!1,this.$nextTick((function(){e.refreshData=!0}))}},{key:"_getDataUserSalesDetail",value:function(){var e=this;this.userSalesloading=!0;var t={selectDate:this.$dayjs(this.csjNowTime).format("YYYY-MM-DD"),userId:this.entryObj.userId};Object(h["g"])(t).then((function(t){e.userSalesloading=!1,200==t.code&&t.data&&(e.salesDataObj={currentDayMoney:Object(b["d"])(t.data.currentDayMoney,1),currentMonthMoney:Object(b["d"])(t.data.currentMonthMoney,1),lyCurrentMonthMoney:Object(b["d"])(t.data.lyCurrentMonthMoney,1),monthPercentage:Object(b["d"])(t.data.monthPercentage,2),currentYearMoney:Object(b["d"])(t.data.currentYearMoney,1),lyCurrentYearMoney:Object(b["d"])(t.data.lyCurrentYearMoney,1),yearPercentage:Object(b["d"])(t.data.yearPercentage,2)})}))}},{key:"beforeRouteEnter",value:function(e,t,a){a((function(e){"chashuju"!==t.name&&"salesLineMiddleRise3"!==t.name&&"salesLineMiddleRise3Inner"!==t.name&&"salesLineMiddleRise4"!==t.name&&"salesLineMiddleRise4Inner"!==t.name||e.init()}))}},{key:"_chashujuGetUserVisitWx",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(m["b"])({startTime:this.$dayjs(this.csjNowTime).subtract(29,"day").format("YYYY-MM-DD")+" 00:00:00",endTime:this.$dayjs(this.csjNowTime).format("YYYY-MM-DD")+" 23:59:59",userIdList:[this.entryObj.userId],pageNum:1,pageSize:20});case 2:t=e.sent,this.visitNumber=t.data.total;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"init",value:function(){var e=this;this.active=-1,this.$nextTick((function(){e.active=0})),this.salesDataObj={},this.visitNumber="",this.entryObj={id:this.$route.query.id,name:this.$route.query.name,userId:this.$route.query.userId,userName:this.$route.query.userName},this._getDataUserSalesDetail(),this._chashujuGetUserVisitWx()}},{key:"visitClick",value:function(){this.SET_QUERYPARAMA({startTime:this.$dayjs(this.csjNowTime).subtract(29,"day").format("YYYY-MM-DD")+" 00:00:00",endTime:this.$dayjs(this.csjNowTime).format("YYYY-MM-DD")+" 23:59:59",userIdList:[this.entryObj.userId]}),this.$router.push({name:"salesLineVisitPage"})}},{key:"activated",value:function(){this.nowUseTime&&this.nowUseTime!==this.$dayjs(this.csjNowTime).format("YYYY-MM-DD")&&(this.nowUseTime=this.$dayjs(this.csjNowTime).format("YYYY-MM-DD"),this.init())}},{key:"created",value:function(){this.nowUseTime=this.$dayjs(this.csjNowTime).format("YYYY-MM-DD"),this.init()}}]),a}(Object(u["b"])(d["a"]));j=Object(o["a"])([Object(u["a"])({components:{salesHeader:l["a"]}})],j),t["a"]=j},c978:function(e,t,a){}}]);