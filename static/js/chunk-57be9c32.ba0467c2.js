(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-57be9c32"],{"12a2":function(t,e,i){"use strict";i("eba6")},"437a":function(t,e,i){"use strict";var a=i("bee2"),r=i("d4ec"),n=i("262e"),o=i("2caf"),s=i("9ab4"),c=i("1b40"),l=i("4bb5"),u=Object(l["a"])("app"),d=Object(l["a"])("crm");c["a"].registerHooks(["beforeRouteEnter"]);var f=function(t){Object(n["a"])(i,t);var e=Object(o["a"])(i);function i(){var t;return Object(r["a"])(this,i),t=e.apply(this,arguments),t.filterShow=!1,t.filterActive=!1,t.tabType=0,t}return Object(a["a"])(i)}(c["d"]);Object(s["a"])([u.Getter],f.prototype,"userInfor",void 0),Object(s["a"])([d.Mutation],f.prototype,"SET_DETAILOBJ",void 0),Object(s["a"])([u.Mutation],f.prototype,"SET_QUERYPARAMA",void 0),Object(s["a"])([u.Mutation],f.prototype,"SET_HADDONEONDETAIL",void 0),Object(s["a"])([u.Getter],f.prototype,"hadDoneOnDetail",void 0),f=Object(s["a"])([Object(c["a"])({})],f),e["a"]=f},"4f14":function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return c}));var a=i("1da1"),r=(i("96cf"),i("b32d")),n=i("90ae"),o=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].post(n["d"],"/api/crmStoreSellBackApproval/query",e,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].formDataPost(n["d"],"/api/crmStoreSellBackApproval/queryOrder",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].formDataPost(n["d"],"/api/crmStoreSellBackApproval/approval",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},"53ae":function(t,e,i){"use strict";var a=i("d4ec"),r=i("bee2"),n=i("262e"),o=i("2caf"),s=(i("b0c0"),i("9ab4")),c=i("1b40");c["a"].registerHooks(["beforeRouteEnter"]);var l=function(t){Object(n["a"])(i,t);var e=Object(o["a"])(i);function i(){var t;return Object(a["a"])(this,i),t=e.apply(this,arguments),t.page=1,t.total=0,t.dataList=[],t.loading=!1,t.finished=!1,t.refreshing=!1,t.finishText="",t.userIdList=[],t.error=!1,t}return Object(r["a"])(i,[{key:"beforeRouteEnter",value:function(t,e,i){i((function(t){"Home"!==e.name&&"TaskIndex"!==e.name||(t.dataList=[],t.page=1,t.loading=!1,t.finished=!0,t.refreshing=!1,t.$nextTick((function(){t.finished=!1})))}))}}]),i}(c["d"]);l=Object(s["a"])([Object(c["a"])({})],l),e["a"]=l},c1b3:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"refundApprove"},[i("van-sticky",[i("div",{staticClass:"header px-10 pt-10 white-bg"},[i("div",{class:["pa-10 common-filter",t.filterShow?"color-main-2":"",t.filterActive?"common-filter--active":""],on:{click:function(e){t.filterShow=!t.filterShow}}},[i("div",[t._v("条件筛选")]),i("van-icon",{attrs:{name:"arrow-"+(t.filterShow?"up":"down"),size:"16px"}})],1),i("van-tabs",{attrs:{color:"#2271F5"},on:{click:t.tabTypeClick},model:{value:t.tabType,callback:function(e){t.tabType=e},expression:"tabType"}},t._l(t.tabList,(function(t){return i("van-tab",{key:t,attrs:{title:t}})})),1)],1)]),i("div",{attrs:{id:"filterContainer"}},[i("van-pull-refresh",{staticClass:"pt-10 px-10 pb-100",on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[i("van-list",{attrs:{offset:20,finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[t.loading||t.dataList.length?t._e():i("app-empty",{staticClass:"mt-6 white-bg"}),t._l(t.dataList,(function(e,a){return i("list",{key:"RefundApprove"+a,attrs:{item:e},on:{detailClick:function(i){return t.detailClick(e,a)}}})}))],2)],1)],1),i("van-popup",{attrs:{position:"top","get-container":"#filterContainer"},model:{value:t.filterShow,callback:function(e){t.filterShow=e},expression:"filterShow"}},[i("filter-pop",{ref:"popRef",on:{filterSubmit:t.filterSubmit,reset:t.reset}})],1)],1)},r=[],n=i("5530"),o=i("d4ec"),s=i("bee2"),c=i("262e"),l=i("2caf"),u=(i("99af"),i("a434"),i("9ab4")),d=i("1b40"),f=i("53ae"),b=i("437a"),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-form",[i("van-field",{attrs:{label:"货品信息","input-align":"right",placeholder:"请输入货品名称丨ID"},model:{value:t.filterObj.goodsKeyword,callback:function(e){t.$set(t.filterObj,"goodsKeyword",e)},expression:"filterObj.goodsKeyword"}}),i("van-field",{attrs:{label:"客户信息","input-align":"right",placeholder:"请输入客户名称丨ID"},model:{value:t.filterObj.customerKeyword,callback:function(e){t.$set(t.filterObj,"customerKeyword",e)},expression:"filterObj.customerKeyword"}})],1),i("div",{staticClass:"dropdown-opts"},[i("van-button",{staticClass:"dropdown-opts__btn",attrs:{type:"default",size:"small",block:"",round:""},on:{click:t.reset}},[t._v("重置")]),i("van-button",{staticClass:"dropdown-opts__btn",attrs:{type:"info",size:"small",block:"",round:"",color:"#2271F5"},on:{click:t.filterSubmit}},[t._v("确认")])],1)],1)},h=[],v=function(t){Object(c["a"])(i,t);var e=Object(l["a"])(i);function i(){var t;return Object(o["a"])(this,i),t=e.apply(this,arguments),t.filterObj={goodsKeyword:"",customerKeyword:""},t}return Object(s["a"])(i,[{key:"filterSubmit",value:function(){this.$emit("filterSubmit",this.filterObj)}},{key:"reset",value:function(){this.$emit("reset"),this.filterObj={goodsKeyword:"",customerKeyword:""}}}]),i}(d["d"]);v=Object(u["a"])([Object(d["a"])({})],v);var m=v,O=m,y=(i("12a2"),i("2877")),j=Object(y["a"])(O,p,h,!1,null,"0fc6b60d",null),g=j.exports,k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"common-list mb-2",on:{click:t.detailClick}},[i("div",{staticClass:"common-list-content"},[i("div",{staticClass:"common-list-one"},[i("div",{staticClass:"title"},[t._v("客户")]),i("div",{staticClass:"value"},[t._v(t._s(t.item.companyId)+"/"+t._s(t.item.companyName))])]),i("div",{staticClass:"common-list-one"},[i("div",{staticClass:"title"},[t._v("核算单元")]),i("div",{staticClass:"value"},[t._v(t._s(t.item.entryId)+"/"+t._s(t.item.entryName))])]),i("div",{staticClass:"common-list-one"},[i("div",{staticClass:"title"},[t._v("货品")]),i("div",{staticClass:"value"},[t._v(t._s(t.item.goodsId)+"/"+t._s(t.item.goodsName))])])])])},w=[],_=function(t){Object(c["a"])(i,t);var e=Object(l["a"])(i);function i(){return Object(o["a"])(this,i),e.apply(this,arguments)}return Object(s["a"])(i,[{key:"detailClick",value:function(){this.$emit("detailClick")}}]),i}(d["d"]);Object(u["a"])([Object(d["c"])()],_.prototype,"item",void 0),_=Object(u["a"])([Object(d["a"])({})],_);var x=_,C=x,S=Object(y["a"])(C,k,w,!1,null,"12809660",null),L=S.exports,I=i("4f14"),A=function(t){Object(c["a"])(i,t);var e=Object(l["a"])(i);function i(){var t;return Object(o["a"])(this,i),t=e.apply(this,arguments),t.tabList=["待审批","审批通过","审批不通过"],t.detailIndex=-1,t.filterObj={goodsKeyword:"",customerKeyword:""},t}return Object(s["a"])(i,[{key:"tabTypeClick",value:function(t){this.tabType=t,this.onRefresh()}},{key:"onRefresh",value:function(){this.finished=!1,this.loading=!1,this.dataList=[],this.page=1,this.onLoad()}},{key:"onLoad",value:function(){this.refreshing&&(this.page=1,this.dataList=[],this.refreshing=!1),this.loading=!0,this._queryList()}},{key:"_queryList",value:function(){var t=this;1===this.page&&(this.dataList=[]),Object(I["b"])({status:this.tabType,goodsNameOrId:this.filterObj.goodsKeyword,custNameOrId:this.filterObj.customerKeyword,pageNum:this.page,pageSize:10}).then((function(e){"200"===e.code&&(t.dataList=t.dataList.concat(e.data.list),e.data.hasNextPage?t.page++:t.finished=!0,t.loading=!1)}))}},{key:"filterSubmit",value:function(t){this.filterObj=Object(n["a"])({},t),this.filterObj.goodsKeyword||this.filterObj.customerKeyword?this.filterActive=!0:this.filterActive=!1,this.filterShow=!1,this.onRefresh()}},{key:"reset",value:function(){this.filterObj.goodsKeyword="",this.filterObj.customerKeyword="",this.filterActive=!1,this.onRefresh()}},{key:"detailClick",value:function(t,e){this.detailIndex=e,this.$router.push({name:"RefundApproveDetail",query:{fetchdtlId:t.fetchdtlId}})}},{key:"activated",value:function(){this.hadDoneOnDetail&&-1!==this.detailIndex&&(this.dataList.splice(this.detailIndex,1),this.SET_HADDONEONDETAIL(!1),this.detailIndex=-1)}}]),i}(Object(d["b"])(f["a"],b["a"]));A=Object(u["a"])([Object(d["a"])({components:{list:L,FilterPop:g}})],A);var R=A,K=R,T=Object(y["a"])(K,a,r,!1,null,"4f80eb5a",null);e["default"]=T.exports},eba6:function(t,e,i){}}]);